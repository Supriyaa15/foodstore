(window.webpackJsonptheoWebApp=window.webpackJsonptheoWebApp||[]).push([[27],{"2ALn":function(t,e,i){var o,n=e,r=i("oAGj"),a=i("ascj"),l=i("QbzR"),s=i("Zifs");n.RootStyle=(o=function(){this.deprecatedPrimaryColor=null},r.defineClass({name:"RootStyle",ctor:o,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"RootStyle"}},KIND:{get:function(){return"RootStyle"}},PROPERTY_COLOR_DEPRECATED:"color",factory:{get:function(){return function(t,e,i,n){return o.init_866e(i,t)}}},createDefault:function(){return o.init_70dd(s.SolidColor.WHITE)},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){var i;r.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_866e,t,e),(i=r.as(this.get(o.PROPERTY_COLOR_DEPRECATED),["Array",s.SolidColor]))&&i.length>=1&&(this.deprecatedPrimaryColor=i[0])},init_70dd:function(t){r.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_5afe,o.KIND,l.FormaStyle.OPACITY_DEFAULT,a.ColorTable.createDefault())},className:{get:function(){return o.SCHEMA_CLASS_NAME}},colorTableSupportsRole:function(t){return t==a.ColorRole.FieldPrimary},willCommitState:function(){null!=this.deprecatedPrimaryColor&&(this.colors.fieldPrimary=this.deprecatedPrimaryColor,this.deprecatedPrimaryColor=null,this.removeProperty(o.PROPERTY_COLOR_DEPRECATED)),l.FormaStyle.prototype.willCommitState.call(this)}}}),o)},"4mVB":function(t,e,i){var o,n=e,r=i("oAGj"),a=i("ascj"),l=i("FNB+"),s=i("6ZWm"),u=i("cmoc"),c=i("QbzR"),h=i("9Lk3"),f=i("tQF8"),d=i("iCxV"),_=i("fNpk"),T=i("oKlP"),p=i("sIWg");n.GridStyle=(o=function(){this.gridCells_=null,this.formaMapping_=null,this.forma_=null},r.defineClass({name:"GridStyle",ctor:o,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"GridStyle"}},KIND:{get:function(){return"GridStyle"}},DEFAULT_NAME:"None",DEFAULT_CATEGORY:"Grid",CUSTOM_LAYOUT_NAME:"Custom",SINGLE_LAYOUT_NAME:"Single",BALANCED_LAYOUT_NAME:"Balanced-Layout",PROPERTY_NAME:"name",PROPERTY_CATEGORY:"category",PROPERTY_GRID_CELLS:"grid-cells",PROPERTY_FORMA_MAPPING:"forma-mapping",PROPERTY_SPACING:"spacing",PROPERTY_CROP_TYPE:"crop-type",factory:{get:function(){return function(t,e,i,n){return o.init_866e(i,t)}}},createDefault:function(){return o.init_bf40(o.DEFAULT_NAME,o.DEFAULT_CATEGORY,[new f.GridCell(p.TheoRect.ONE_BY_ONE)],null,0,!1,s.CropType.PreserveFocus)},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){this.moveableShift_=!1,r.super_init(this,c.FormaStyle,c.FormaStyle.prototype.init_866e,t,e)},init_bf40:function(t,e,i,n,l,u,h){void 0===t&&(t="None"),void 0===e&&(e="Grid"),void 0===n&&(n=null),void 0===l&&(l=0),void 0===u&&(u=!0),void 0===h&&(h=s.CropType.PreserveFocus);var f={name:t,category:e,"grid-cells":i,spacing:l,"crop-type":h};if(null!=n){for(var d=[],_=r.iter(n);!_.done;_.next()){var T=_.key,p=_.value;d.push([T,p])}f[o.PROPERTY_FORMA_MAPPING]=r.clone(d)}this.moveableShift_=u,r.super_init(this,c.FormaStyle,c.FormaStyle.prototype.init_5afe,o.KIND,c.FormaStyle.OPACITY_DEFAULT,a.ColorTable.createDefault(),null,null,f)},className:{get:function(){return o.SCHEMA_CLASS_NAME}},didChangeState:function(t){null!=t[o.PROPERTY_FORMA_MAPPING]&&(this.formaMapping_=null),null!=t[o.PROPERTY_GRID_CELLS]&&(this.gridCells_=null),c.FormaStyle.prototype.didChangeState.call(this,t)},name:{get:function(){var t;return(t=r.as(this.get(o.PROPERTY_NAME),"String"))||null!=t?t:o.DEFAULT_NAME},set:function(t){this.set(o.PROPERTY_NAME,t)}},category:{get:function(){return r.as(this.get(o.PROPERTY_CATEGORY),"String")},set:function(t){this.set(o.PROPERTY_CATEGORY,t)}},ensureGridCells:function(){var t;if(null==this.gridCells_&&(this.gridCells_=[],(t=r.as(this.get(o.PROPERTY_GRID_CELLS),["Array","Any"]))&&t.length>0&&t[0]instanceof f.GridCell))for(var e=r.clone(t),i=r.iter(e);!i.done;i.next()){var n=i.value;r.opt(this.gridCells_,(function(t){return t.push(n)}))}},commitGridCells:function(){this.set(o.PROPERTY_GRID_CELLS,this.gridCells_)},gridCells:{get:function(){return this.ensureGridCells(),this.gridCells_}},setGridCells:function(t){this.gridCells_=r.clone(t),this.commitGridCells()},cellIndex:function(t){return r.opt(this.indexedCell(t,this.gridCells),(function(t){return t[0]}))},ensureFormaMapping:function(){var t;if(null==this.formaMapping_&&(this.formaMapping_={},(t=r.as(this.get(o.PROPERTY_FORMA_MAPPING),["Array","Any"]))&&t.length>0&&r.is(t[0],["Array","Any"])))for(var e=r.clone(t),i=r.iter(e);!i.done;i.next()){var n=i.value,a=r.as(n[0],"String"),l=r.as(n[1],f.GridCell);null!=a&&null!=l&&(this.formaMapping_[a]=l)}},commitFormaMapping:function(){for(var t=[],e=r.iter(this.formaMapping_);!e.done;e.next()){var i=e.key,n=e.value;t.push([i,n])}this.set(o.PROPERTY_FORMA_MAPPING,t)},formaMapping:{get:function(){return this.ensureFormaMapping(),this.formaMapping_}},setFormaMapping:function(t){this.formaMapping_=r.clone(t),this.commitFormaMapping()},indexedCell:function(t,e){for(var i=r.iter(r.toSequence(e));!i.done;i.next()){var o=i.value,n=o.offset,a=o.element;if(r.eq(f._equality_GridCell_GridCell,a,t))return[n,t]}return null},updateCell:function(t,e,i,o){var n;return void 0===e&&(e=null),void 0===i&&(i=null),void 0===o&&(o=null),null!=(n=this.indexedCell(t,this.gridCells))?this.updateCellByIndex(n[0],e,i,o):null},updateCellByIndex:function(t,e,i,o){void 0===e&&(e=null),void 0===i&&(i=null),void 0===o&&(o=null);var n=this.gridCells[t],a=this.gridCells[t].copyTo(e,i,o);if(!r.eq(f._equality_GridCell_GridCell,n,a)){for(var l=[],s=r.iter(this.formaMapping);!s.done;s.next()){var u=s.key,c=s.value;r.eq(f._equality_GridCell_GridCell,c,n)&&l.push(u)}this.ensureGridCells(),this.gridCells_[t]=a,this.commitGridCells(),this.ensureFormaMapping();for(var h=r.iter(l);!h.done;h.next())u=h.value,this.formaMapping_[u]=a;return this.commitFormaMapping(),a}return n},insertCell:function(t,e){this.ensureGridCells(),this.gridCells_.splice(e,0,t),this.commitGridCells()},removeCell:function(t){this.ensureGridCells();for(var e,i=[],o=r.iter(this.formaMapping);!o.done;o.next()){var n=o.key,a=o.value;r.eq(f._equality_GridCell_GridCell,t,a)&&i.push(n)}null!=(e=this.indexedCell(t,this.gridCells_))&&r.opt(this.gridCells_,(function(t){return t.splice(e[0],1)}));for(var l=r.iter(i);!l.done;l.next())n=l.value,r.removeKey(this.formaMapping_,n);this.commitFormaMapping(),this.commitGridCells()},mergeCell:function(t,e){var i;if(null!=(i=this.indexedCell(t,this.gridCells))){for(var o=[],n=r.iter(this.formaMapping);!n.done;n.next()){var a=n.key,l=n.value;r.eq(f._equality_GridCell_GridCell,t,l)&&o.push(a)}this.ensureGridCells(),this.gridCells_[i[0]]=i[1].mergeWith(e),this.commitGridCells(),this.ensureFormaMapping();for(var s=r.iter(o);!s.done;s.next())a=s.value,this.formaMapping_[a]=this.gridCells_[i[0]];return this.commitFormaMapping(),this.gridCells[i[0]]}return null},mapCellToForma:function(t,e){this.mapCellToFormaID(t.formaID,e)},mapCellToFormaID:function(t,e){this.ensureFormaMapping(),this.formaMapping_[t]=e,this.commitFormaMapping()},removeMappingToForma:function(t){this.removeMappingToFormaID(t.formaID)},removeMappingToFormaID:function(t){this.ensureFormaMapping(),r.removeKey(this.formaMapping_,t),this.commitFormaMapping()},replaceMappedForma:function(t,e){this.ensureFormaMapping();var i=r.removeKey(this.formaMapping_,t.formaID);this.formaMapping_[e.formaID]=i,this.commitFormaMapping()},cellForForma:function(t){var e;if(e=this.formaMapping[t.formaID])for(var i=r.iter(r.toSequence(this.gridCells));!i.done;i.next()){var o=i.value,n=o.offset,a=o.element;if(r.eq(f._equality_GridCell_GridCell,e,a))return[n,e]}return null},forma:{get:function(){return this.forma_},set:function(t){this.forma_=t}},colorTableSupportsRole:function(t){return t==a.ColorRole.FieldPrimary},cropType:{get:function(){var t;return s.CropType.toCaseValue((t=r.as(this.get(o.PROPERTY_CROP_TYPE),"Int"))||null!=t?t:s.CropType.PreserveFocus)},set:function(t){this.set(o.PROPERTY_CROP_TYPE,t)}},gridCellArray:{get:function(){return this.gridCells}},drawnGridCell:function(t,e){return e.evalRect(t.bounds).insetXY(this.spacing/2,this.spacing/2).rounded()},spacing:{get:function(){var t;return(t=r.as(this.get(o.PROPERTY_SPACING),"Double"))||null!=t?t:0},set:function(t){this.set(o.PROPERTY_SPACING,t)}},moveableShift:{get:function(){return this.moveableShift_},set:function(t){this.moveableShift_=t}},numCells:{get:function(){return this.gridCells.length}},numBackgroundCells:{get:function(){return this.nonOverlappingCells().length}},flipRegion:function(){for(var t=[],e=r.iter(this.gridCells);!e.done;e.next()){var i=e.value;t.push(i.flip())}var n=this.name.includes("-flip")?r.replaceAll(this.name,"-flip",""):this.name+"-flip",a=null!=this.category?this.category:o.DEFAULT_CATEGORY;return o.init_bf40(n,a,t)},removeFormaMapping:function(){this.formaMapping_={},this.commitFormaMapping()},anyOverlap:{get:function(){return this.overlappingCells().length>0}},overlappingIndices:function(){if(0==this.gridCells.length)return[];for(var t=[],e=r.iter(r.range(0,this.gridCells.length-1,!0));!e.done;e.next())for(var i=e.value,o=r.iter(r.range(i,this.gridCells.length-1,!0));!o.done;o.next()){var n=o.value;if(n>i){var a,l=this.gridCells[n];(a=this.gridCells[i].bounds.intersectionWith(l.bounds))&&a.area>.01&&!t.includes(n)&&t.push(n)}}return t},overlappingCells:function(){var t=this;return this.overlappingIndices().map((function(e){return t.gridCells[e]}),this)},nonOverlappingCells:function(){return this.enumeratedNonOverlappingCells().map((function(t){return t[1]}),this)},enumeratedNonOverlappingCells:function(){for(var t=r.clone(this.overlappingIndices()),e=[],i=r.iter(r.toSequence(this.gridCells));!i.done;i.next()){var o=i.value,n=o.offset,a=o.element;t.includes(n)||e.push([n,a])}return e},fork:function(t){return c.FormaStyle.prototype.fork.call(this,t)},match:function(t){var e;if(e=r.as(t,o)){if(null==this.forma||null==e.forma||null==this.forma.root)return void _.LegacyCoreAssert.fail("Serious error in grid style. Not pointing to correct forma",void 0,"GridStyle.match","GridStyle.swift",419);if(this.forma.controller.kind!=h.GridController.KIND||e.forma.controller.kind!=h.GridController.KIND)return void _.LegacyCoreAssert.fail("Error: Not matching grids.",void 0,"GridStyle.match","GridStyle.swift",424);r.keys(this.formaMapping).length>0&&_.LegacyCoreAssert.isTrue(null!=this.forma,"missing forma",void 0,"GridStyle.match","GridStyle.swift",429),r.keys(e.formaMapping).length>0&&_.LegacyCoreAssert.isTrue(null!=e.forma,"missing forma",void 0,"GridStyle.match","GridStyle.swift",432),this.name=e.name,this.spacing=e.spacing,this.moveableShift=e.moveableShift,this.cropType=e.cropType,this.category=e.category;for(var i=[],n={},a=r.iter(e.gridCells);!a.done;a.next()){var s=a.value;i.push(s)}if(null!=this.forma){for(var c,T=[],E=[],g=r.iter(r.keys(this.formaMapping));!g.done;g.next()){var R=g.value;s=this.formaMapping[R],null!=(y=r.opt(this.forma,(function(t){return t.formaByID(R)})))&&y.isBackgroundImage()&&T.push(s)}for(var P=r.iter(r.keys(e.formaMapping));!P.done;P.next()){var y;R=P.value,s=e.formaMapping[R],null!=(y=r.opt(e.forma,(function(t){return t.formaByID(R)})))&&y.isBackgroundImage()&&E.push(s)}if(null!=this.forma&&(c=r.as(e.forma.controller,h.GridController))){var S=r.clone(c.gridStyle.gridCells),m=r.clone(e.forma.filterByKind(u.FrameForma.KIND));if(T.length>1&&1==S.length&&m.length<=1&&S[0].bounds.equalWithAccuracy(p.TheoRect.ONE_BY_ONE,f.GridCell.BOUNDS_ACCURACY))return}for(var O=function(t,e){return t.bounds.minY<e.bounds.minY||!(t.bounds.minY>e.bounds.minY)&&t.bounds.minX<e.bounds.minX},C=r.sort(T,O),A=r.sort(E,O),L=r.clone(e.overlappingCells()),D=r.clone(e.nonOverlappingCells()),N=r.iter(this.forma.visitAsArray(l.FormaTraversal.JustChildren));!N.done;N.next()){var v=N.value;if(R=v.formaID,v.isBackgroundImage()){if(C.length>0)for(var k=r.iter(r.range(0,C.length-1,!0));!k.done;k.next()){var b=k.value,I=C[b];r.eq(f._equality_GridCell_GridCell,this.formaMapping[R],I)&&A.length>0&&(n[R]=A[Math.min(b,A.length-1)])}if(null==n[R]&&(I=this.formaMapping[R]))for(var F=0,Y=r.iter(D);!Y.done;Y.next()){var M;(M=(s=Y.value).bounds.intersectionWith(I.bounds))&&M.area>F&&(F=M.area,n[v.formaID]=s)}}else if(v.isTypeLockup()&&L.length>0)n[R]=L[0];else{var B,G,w;null!=(B=v.contentID)&&(G=r.opt(r.opt(e.forma,(function(t){return t.root})),(function(t){return t.formaByContentID(B)})))&&(w=e.formaMapping[G.formaID])&&(n[v.formaID]=w)}}}for(var U=[],x=r.iter(r.keys(e.formaMapping));!x.done;x.next()){var H;if(R=x.value,s=e.formaMapping[R],null!=this.forma&&r.opt(this.forma,(function(t){return null!=t.root}))){if(H=r.opt(r.opt(this.forma,(function(t){return t.root})),(function(t){return t.formaByID(R)}))){var K,W=!0;(K=r.as(r.opt(this.forma,(function(t){return t.controller})),h.GridController))&&(W=!K.isGridCell(H)||!H.isShape()),W&&(n[R]=s)}}else n[R]=s;null==this.indexedCell(s,U)&&U.push(s)}this.setGridCells(i.concat()),this.removeFormaMapping();var V={};r.each(n,(function(t,e){V[t]=e})),this.gridCells.length<U.length&&d.Host.logging.info("cells "+this.gridCells.length+" mapped "+U);for(var j=r.iter(r.keys(V));!j.done;j.next())R=j.value,s=V[R],null==this.forma.formaByID(R)?(_.LegacyCoreAssert.fail("shouldn't point to a forma which isn't a child",void 0,"GridStyle.match","GridStyle.swift",595),r.opt(r.opt(this.forma,(function(t){return t.root})),(function(t){return null==t.formaByID(R)}))&&_.LegacyCoreAssert.fail("we're really borked. pointing a forma which isn't in the forma tree",void 0,"GridStyle.match","GridStyle.swift",598),r.removeKey(V,R)):null==this.indexedCell(s,this.gridCells)&&(_.LegacyCoreAssert.fail("shouldn't point to a cell which isn't part of the grid.",void 0,"GridStyle.match","GridStyle.swift",605),r.removeKey(V,R));this.formaMapping_=r.clone(V),this.commitFormaMapping()}},postCloneMatch:function(t){if(null!=this.forma&&null!=t.forma&&null!=this.forma.root)for(var e=r.clone(t.forma.visitAsArray(l.FormaTraversal.JustChildren)),i=r.keys(t.formaMapping),o=r.iter(i);!o.done;o.next()){var n,a=o.value,s=t.formaMapping[a];if(n=r.opt(this.forma,(function(t){return t.formaByID(a)}))){t.ensureFormaMapping();for(var u=r.iter(e);!u.done;u.next()){var c=u.value;n.frame.equalWithAccuracy(c.frame,.01)&&(t.formaMapping_[c.formaID]=s,r.removeKey(t.formaMapping_,a))}t.commitFormaMapping()}}else _.LegacyCoreAssert.fail("Serious error in grid style. Not pointing to correct forma",void 0,"GridStyle.postCloneMatch","GridStyle.swift",620)},equals:function(t){return this.name==t.name&&this.geometricEquals(t)},geometricEquals:function(t){if(this.gridCells.length!=t.gridCells.length)return!1;for(var e=r.sort(this.gridCells,(function(t,e){return t.bounds.center.distanceTo(T.TheoPoint.ZERO)<e.bounds.center.distanceTo(T.TheoPoint.ZERO)})),i=r.sort(t.gridCells,(function(t,e){return t.bounds.center.distanceTo(T.TheoPoint.ZERO)<e.bounds.center.distanceTo(T.TheoPoint.ZERO)})),o=r.iter(r.range(0,e.length-1,!0));!o.done;o.next()){var n,a=o.value;if(!(n=e[a].bounds.intersectionWith(i[a].bounds)))return!1;if(Math.abs((n.area-e[a].bounds.area)/n.area)>.02)return!1}return!0},similarity:function(t){if(this.numCells!=t.numCells)return 1;for(var e=r.sort(this.gridCells,(function(t,e){return t.bounds.center.distanceTo(T.TheoPoint.ZERO)<e.bounds.center.distanceTo(T.TheoPoint.ZERO)})),i=r.sort(t.gridCells,(function(t,e){return t.bounds.center.distanceTo(T.TheoPoint.ZERO)<e.bounds.center.distanceTo(T.TheoPoint.ZERO)})),o=[],n=r.iter(r.range(0,e.length-1,!0));!n.done;n.next()){var a=n.value;o.push(e[a].bounds.similarity(i[a].bounds))}return o.reduce((function(t,e){return t+e}),0)/r.toDouble(o.length)},insetBackgroundCells:function(t){for(var e=r.iter(this.enumeratedNonOverlappingCells());!e.done;e.next()){var i,o=e.value;(i=o[1].bounds.intersectionWith(t))&&this.updateCellByIndex(o[0],i)}},asString:{get:function(){return this.name}}}}),o)},JEzR:function(t,e,i){var o,n,r=e,a=i("oAGj"),l=i("ascj"),s=i("QbzR"),u=i("U010");r.FrameStyle=(o=function(){},n={},a.defineClass({name:"FrameStyle",ctor:o,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"FrameStyle"}},KIND:{get:function(){return"FrameStyle"}},PROPERTY_CUTOUT_MODE:"cutout-mode",initialProps:{get:function(){return void 0===n.initialProps&&(n.initialProps={"cutout-mode":u.CutoutMode.Off}),n.initialProps}},factory:{get:function(){return function(t,e,i,n){return o.init_866e(i,t)}}},createDefault:function(){return o.init_d41d()},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){a.super_init(this,s.FormaStyle,s.FormaStyle.prototype.init_866e,t,e)},init_dd5d:function(t,e){for(var i=a.clone(e),n=a.iter(o.initialProps);!n.done;n.next()){var r=n.key,l=n.value;null==t[r]&&null==e[r]&&(i[r]=l)}a.super_init(this,s.FormaStyle,s.FormaStyle.prototype.init_dd5d,t,i)},init_d41d:function(){var t=l.ColorTable.init_25f6([{key:l.ColorRole.FieldPrimary,value:null}]);a.super_init(this,s.FormaStyle,s.FormaStyle.prototype.init_5afe,o.KIND,1,t,void 0,void 0,o.initialProps)},init_6c45:function(t,e){a.super_init(this,s.FormaStyle,s.FormaStyle.prototype.init_5afe,o.KIND,t,e,void 0,void 0,o.initialProps)},cutoutMode:{get:function(){var t,e;return null!=(t=a.as(this.get(o.PROPERTY_CUTOUT_MODE),"Int"))&&null!=(e=u.CutoutMode.toCaseValue(t))?e:u.CutoutMode.Off},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_CUTOUT_MODE,t),this.notifyAfter()}},willCommitState:function(){s.FormaStyle.prototype.willCommitState.call(this)},className:{get:function(){return o.SCHEMA_CLASS_NAME}}}}),o)},LCGV:function(t,e,i){var o,n=e,r=i("oAGj"),a=i("ascj"),l=i("QbzR"),s=i("Zifs");n.TextStyle=(o=function(){},r.defineClass({name:"TextStyle",ctor:o,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"TextStyle"}},KIND:{get:function(){return"TextStyle"}},factory:{get:function(){return function(t,e,i,n){return o.init_866e(i,t)}}},createDefault:function(){return o.init_70dd(s.SolidColor.WHITE)},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){r.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_866e,t,e)},init_70dd:function(t){r.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_5afe,o.KIND,l.FormaStyle.OPACITY_DEFAULT,a.ColorTable.createWithOneSolidColor(t))},className:{get:function(){return o.SCHEMA_CLASS_NAME}},colorLibrary:{get:function(){return l.FormaStyle._getters.colorLibrary.call(this)},set:function(t){this.setColorLibraryWithoutSubscribing(t)}},colorTableSupportsRole:function(t){return t==a.ColorRole.FieldPrimary||t==a.ColorRole.FieldSecondary||t==a.ColorRole.Border||t==a.ColorRole.Shadow}}}),o)},QTen:function(t,e,i){var o,n,r=e,a=i("oAGj"),l=i("ascj"),s=i("uWOl"),u=i("fNpk"),c=i("RkYL");r.VideoStyle=(o=function(){},n={},a.defineClass({name:"VideoStyle",ctor:o,superName:"ImageStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"VideoStyle"}},KIND:{get:function(){return"VideoStyle"}},PROPERTY_VOLUME:"volume",PROPERTY_STARTTIME:"start-time",PROPERTY_DURATION:"duration",volumeOff:0,volumeLow:.3,volumeFull:1,kMaxDuration:{get:function(){return void 0===n.kMaxDuration&&(n.kMaxDuration=c.TheoTime.fromSecondsAsMs(15)),n.kMaxDuration}},kTrimPadding:{get:function(){return void 0===n.kTrimPadding&&(n.kTrimPadding=c.TheoTime.fromSecondsAsMs(3)),n.kTrimPadding}},initialProps:{get:function(){return void 0===n.initialProps&&(n.initialProps={volume:o.volumeFull,"start-time":c.TheoTime.Zero,duration:c.TheoTime.Zero}),n.initialProps}},factory:{get:function(){return function(t,e,i,n){return o.init_866e(i,t)}}},createDefault:function(){return o.init_d41d()},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){a.super_init(this,s.ImageStyle,s.ImageStyle.prototype.init_866e,t,e)},init_dd5d:function(t,e){for(var i=a.clone(e),n=a.iter(o.initialProps);!n.done;n.next()){var r=n.key,l=n.value;null==t[r]&&null==e[r]&&(i[r]=l)}a.super_init(this,s.ImageStyle,s.ImageStyle.prototype.init_dd5d,t,i)},init_d41d:function(){a.super_init(this,s.ImageStyle,s.ImageStyle.prototype.init_a6fe,o.KIND,s.ImageStyle.DEFAULT_NAME,l.ColorTable.createDefault(),o.initialProps)},volumeLevel:{get:function(){var t;return(t=a.as(this.get(o.PROPERTY_VOLUME),"Double"))||null!=t?t:o.volumeFull},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_VOLUME,t),this.notifyAfter()}},startTime:{get:function(){var t,e;return(e=this._transientStartTime)?e:(t=a.as(this.get(o.PROPERTY_STARTTIME),c.TheoTime))||null!=t?t:c.TheoTime.fromSecondsAsMs(0)},set:function(t){u.LegacyCoreAssert.isTrue(null==this._transientStartTime,"Can't set startTime while using transient time",void 0,"VideoStyle","VideoStyle.swift",93),this.notifyBefore(),this.set(o.PROPERTY_STARTTIME,t),this.notifyAfter()}},endTime:{get:function(){return this.startTime.add(this.duration)},set:function(t){this.duration=t.subtract(this.startTime)}},duration:{get:function(){var t,e;return(e=this._transientDuration)?e:(t=a.as(this.get(o.PROPERTY_DURATION),c.TheoTime))||null!=t?t:c.TheoTime.fromSecondsAsMs(0)},set:function(t){u.LegacyCoreAssert.isTrue(null==this._transientDuration,"Can't set startTime while using transient time",void 0,"VideoStyle","VideoStyle.swift",119),this.notifyBefore(),t.seconds>o.kMaxDuration.seconds?this.set(o.PROPERTY_DURATION,o.kMaxDuration):this.set(o.PROPERTY_DURATION,t),this.notifyAfter()}},setTransientTime:function(t,e){var i,o,n=e.safeSubtract(t);(!(i=this._transientStartTime)||!(o=this._transientDuration)||!i.equals(t)||!o.equals(n))&&(this.notifyBefore(),this._transientStartTime=t,this._transientDuration=n,this.notifyAfter())},resetTransientTime:function(){null==this._transientStartTime&&null==this._transientDuration||(this.notifyBefore(),this._transientStartTime=null,this._transientDuration=null,this.notifyAfter())},className:{get:function(){return o.SCHEMA_CLASS_NAME}},match:function(t){var e=this.startTime,i=this.duration;s.ImageStyle.prototype.match.call(this,t),this.startTime=e,this.duration=i},mergeWithImageStyle:function(t){var e,i,n=this,r=null;if(e=t)if(i=a.as(e,o))r=a.as(i.clone(),o),a.opt(r,(function(t){return t.startTime=n.startTime})),a.opt(r,(function(t){return t.duration=n.duration}));else{var l=a.clone(e.state.allProperties),s={volume:this.volumeLevel,"start-time":this.startTime,duration:this.duration,kind:o.KIND};(r=o.init_dd5d(l,s)).colorLibrary=e.colorLibrary}return r},downgradeToImageStyle:function(){var t={kind:s.ImageStyle.KIND};return s.ImageStyle.init_dd5d(this.state.allProperties,t)}}}),o)},QbzR:function(t,e,i){var o,n,r,a=e,l=i("oAGj"),s=i("ascj"),u=i("dJuF"),c=i("cmoc"),h=i("4mVB"),f=i("ZhwN"),d=i("Qlvz"),_=i("SDdr"),T=i("fNpk"),p=i("Quhx"),E=i("Zifs"),g=i("90dd");a.FormaBlendMode=l.defineEnum("FormaBlendMode",{Normal:0,Screen:1,Multiply:2,Overlay:3,SoftLight:4,HardLight:5,ColorDodge:6,ColorBurn:7,Darken:8,Lighten:9,Difference:10,Exclusion:11,Hue:12,Saturation:13,Color:14,Luminosity:15}),a.FormaStyle=(o=function(){this.notifyDepth_=0},n={},l.defineClass({name:"FormaStyle",ctor:o,superName:"PostPublishingObject",statics:{SCHEMA_CLASS_NAME:{get:function(){return"FormaStyle"}},SCHEMA_ALL_TYPES_NAME:"FormaStyleTypes",codec:{get:function(){return void 0===n.codec&&(n.codec=u.DBPropertyCodec.registerCodec(o.SCHEMA_ALL_TYPES_NAME,u.DBPropertyCodec.directObjectCodec(o.SCHEMA_CLASS_NAME))),n.codec}},OPACITY_DEFAULT:1,OPACITY_UNSET:-1,PROPERTY_KIND:"kind",PROPERTY_OPACITY:"opacity",PROPERTY_COLORS:"color-table",PROPERTY_FILTER:"filter",PROPERTY_ADJUSTMENTS:"adjustments",PROPERTY_BLENDMODE:"blend-mode",BLEND_MODE_NORMAL:"normal",BLEND_MODE_SCREEN:"screen",BLEND_MODE_MULTIPLY:"multiply",BLEND_MODE_OVERLAY:"overlay",BLEND_MODE_SOFTLIGHT:"softlight",BLEND_MODE_HARDLIGHT:"hardlight",BLEND_MODE_COLORDODGE:"colordodge",BLEND_MODE_COLORBURN:"colorburn",BLEND_MODE_DARKEN:"darken",BLEND_MODE_LIGHTEN:"lighten",BLEND_MODE_DIFFERENCE:"difference",BLEND_MODE_EXCLUSION:"exclusion",BLEND_MODE_HUE:"hue",BLEND_MODE_SATURATION:"saturation",BLEND_MODE_COLOR:"color",BLEND_MODE_LUMINOSITY:"luminosity",PROPERTY_COLORS_DEPRECATED:"colors",KIND:{get:function(){return"FormaStyle"}},factory:{get:function(){return function(t,e,i,n){return o.init_866e(i,t)}}},createDefault:function(){return o.init_5afe(o.KIND,o.OPACITY_DEFAULT,s.ColorTable.createWithOneSolidColor(E.SolidColor.ZERO))},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_5afe:function(t,e,i,n,r,u){void 0===n&&(n=null),void 0===r&&(r=null),void 0===u&&(u=null);var c={kind:t,opacity:e,"color-table":i||s.ColorTable.createDefault(),adjustments:r||d.ImageAdjustments.createDefault()};if(null!=n&&(c[o.PROPERTY_FILTER]=n),null!=u)for(var h=l.iter(u);!h.done;h.next()){var f=h.key,_=h.value;c[f]=_}l.super_init(this,p.PostPublishingObject,p.PostPublishingObject.prototype.init_dd5d,{},c),null!=n&&(n.style=this),this.beforeMsg_=new a.FormaStyleChangedMessage(this,!1),this.afterMsg_=new a.FormaStyleChangedMessage(this,!0),this.colors.owner=this},init_866e:function(t,e){var i;l.super_init(this,p.PostPublishingObject,p.PostPublishingObject.prototype.init_866e,t,e),(i=l.as(this.get(o.PROPERTY_FILTER),_.ImageFilter))&&(i.style=this),null==l.as(this.get(o.PROPERTY_COLORS),s.ColorTable)&&this.set(o.PROPERTY_COLORS,s.ColorTable.createDefault()),null==l.as(this.get(o.PROPERTY_ADJUSTMENTS),d.ImageAdjustments)&&this.set(o.PROPERTY_ADJUSTMENTS,d.ImageAdjustments.createDefault()),this.beforeMsg_=new a.FormaStyleChangedMessage(this,!1),this.afterMsg_=new a.FormaStyleChangedMessage(this,!0),this.colors.owner=this},init_dd5d:function(t,e){var i,n=l.clone(e);null==t[o.PROPERTY_COLORS]&&null==e[o.PROPERTY_COLORS]&&(n[o.PROPERTY_COLORS]=s.ColorTable.createDefault()),null==t[o.PROPERTY_ADJUSTMENTS]&&null==e[o.PROPERTY_ADJUSTMENTS]&&(n[o.PROPERTY_ADJUSTMENTS]=d.ImageAdjustments.createDefault()),l.super_init(this,p.PostPublishingObject,p.PostPublishingObject.prototype.init_dd5d,t,n),(i=l.as(this.get(o.PROPERTY_FILTER),_.ImageFilter))&&(i.style=this),this.beforeMsg_=new a.FormaStyleChangedMessage(this,!1),this.afterMsg_=new a.FormaStyleChangedMessage(this,!0),this.colors.owner=this},didChangeState:function(t){var e=this;p.PostPublishingObject.prototype.didChangeState.call(this,t),l.opt(this.filter,(function(t){return t.style=e}))},className:{get:function(){return o.SCHEMA_CLASS_NAME}},kind:{get:function(){return this.get(o.PROPERTY_KIND)}},filter:{get:function(){return l.as(this.get(o.PROPERTY_FILTER),_.ImageFilter)},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_FILTER,t),this.notifyAfter()}},adjustments:{get:function(){return l.as(this.get(o.PROPERTY_ADJUSTMENTS),d.ImageAdjustments)},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_ADJUSTMENTS,t),this.notifyAfter()}},opacity:{get:function(){var t;return(t=l.as(this.get(o.PROPERTY_OPACITY),"Double"))||null!=t?t:o.OPACITY_DEFAULT},set:function(t){t!=this.opacity&&(this.notifyBefore(),this.set(o.PROPERTY_OPACITY,t),this.notifyAfter())}},blendMode:{get:function(){var t;switch((t=l.as(this.get(o.PROPERTY_BLENDMODE),"String"))||null!=t?t:o.BLEND_MODE_NORMAL){case"screen":return a.FormaBlendMode.Screen;case"multiply":return a.FormaBlendMode.Multiply;case"overlay":return a.FormaBlendMode.Overlay;case"softlight":return a.FormaBlendMode.SoftLight;case"hardlight":return a.FormaBlendMode.HardLight;case"colordodge":return a.FormaBlendMode.ColorDodge;case"colorburn":return a.FormaBlendMode.ColorBurn;case"darken":return a.FormaBlendMode.Darken;case"lighten":return a.FormaBlendMode.Lighten;case"difference":return a.FormaBlendMode.Difference;case"exclusion":return a.FormaBlendMode.Exclusion;case"hue":return a.FormaBlendMode.Hue;case"saturation":return a.FormaBlendMode.Saturation;case"color":return a.FormaBlendMode.Color;case"luminosity":return a.FormaBlendMode.Luminosity;default:return a.FormaBlendMode.Normal}},set:function(t){if(t!=this.blendMode){switch(this.notifyBefore(),t){case 1:this.set(o.PROPERTY_BLENDMODE,o.BLEND_MODE_SCREEN);break;case 2:this.set(o.PROPERTY_BLENDMODE,o.BLEND_MODE_MULTIPLY);break;case 3:this.set(o.PROPERTY_BLENDMODE,o.BLEND_MODE_OVERLAY);break;case 4:this.set(o.PROPERTY_BLENDMODE,o.BLEND_MODE_SOFTLIGHT);break;case 5:this.set(o.PROPERTY_BLENDMODE,o.BLEND_MODE_HARDLIGHT);break;case 6:this.set(o.PROPERTY_BLENDMODE,o.BLEND_MODE_COLORDODGE);break;case 7:this.set(o.PROPERTY_BLENDMODE,o.BLEND_MODE_COLORBURN);break;case 8:this.set(o.PROPERTY_BLENDMODE,o.BLEND_MODE_DARKEN);break;case 9:this.set(o.PROPERTY_BLENDMODE,o.BLEND_MODE_LIGHTEN);break;case 10:this.set(o.PROPERTY_BLENDMODE,o.BLEND_MODE_DIFFERENCE);break;case 11:this.set(o.PROPERTY_BLENDMODE,o.BLEND_MODE_EXCLUSION);break;case 12:this.set(o.PROPERTY_BLENDMODE,o.BLEND_MODE_HUE);break;case 13:this.set(o.PROPERTY_BLENDMODE,o.BLEND_MODE_SATURATION);break;case 14:this.set(o.PROPERTY_BLENDMODE,o.BLEND_MODE_COLOR);break;case 15:this.set(o.PROPERTY_BLENDMODE,o.BLEND_MODE_LUMINOSITY);break;default:this.set(o.PROPERTY_BLENDMODE,o.BLEND_MODE_NORMAL)}this.notifyAfter()}}},colorLibrary:{get:function(){return this.colorLibrary_},set:function(t){this.colorLibrary_=t,l.opt(this.colors_,(function(e){return e.library=t}))}},clearColorLibrarySub:function(){l.opt(this.colors_,(function(t){return t.library=null})),this.colorLibrary_=null},setColorLibraryWithoutSubscribing:function(t){this.colorLibrary_=t,this.colors.setColorLibraryWithoutSubscribing(t)},colors_:{get:function(){return l.as(this.get(o.PROPERTY_COLORS),s.ColorTable)},set:function(t){this.set(o.PROPERTY_COLORS,t)}},colors:{get:function(){var t,e;return(t=this.colors_)?t:((e=this.owner_)?T.LegacyCoreAssert.fail("Getting a nil color table from forma style",{kind:e.kind,id:e.id},"FormaStyle","FormaStyle.swift",325):T.LegacyCoreAssert.fail("Getting a nil color table from style with nil forma",void 0,"FormaStyle","FormaStyle.swift",327),s.ColorTable.createDefault())}},dispose:function(){this.colorLibrary=null},owner:{get:function(){return this.owner_},set:function(t){this.owner_=t}},clone:function(){var t,e,i=l.as(this.fork(f.GUIDUtils.makeGUID()),o);return(t=i)&&(t.set(o.PROPERTY_COLORS,l.opt(this.colors_,(function(t){return t.clone()}))||s.ColorTable.createDefault()),t.colors.owner=i,t.colorLibrary=this.colorLibrary),(e=l.as(i,h.GridStyle))&&(e.moveableShift=l.as(this,h.GridStyle).moveableShift),i},cloneToDatabase:function(t){var e=this,i=l.as(this.forkToDatabase(f.GUIDUtils.makeGUID(),!1,t,null),o);return null!=i&&this.persisted&&this.database===t&&(i.colorLibrary=this.colorLibrary),l.opt(i,(function(t){return t.set(o.PROPERTY_COLORS,l.opt(e.colors_,(function(t){return t.clone()}))||s.ColorTable.createDefault())})),l.opt(i,(function(t){return t.colors.owner=i})),l.opt(i,(function(t){return t.colors.library=l.opt(i,(function(t){return t.colorLibrary}))})),i},detachFromDatabase:function(){return this.cloneToDatabase(null)},match:function(t){var e=l.clone(t.state.allProperties);this.notifyBefore(),this.matchProperties(e),this.notifyAfter()},asString:{get:function(){return""}},notifyBefore:function(){this.notifyDepth_+=1,1==this.notifyDepth_&&this.publish(this.beforeMsg_)},notifyAfter:function(){T.LegacyCoreAssert.isTrue(this.notifyDepth_>0,"notifyAfter called but notify depth is not positive",void 0,"FormaStyle.notifyAfter","FormaStyle.swift",425),1==this.notifyDepth_&&this.publish(this.afterMsg_),this.notifyDepth_-=1},colorTableBeforeChanged:function(){this.notifyBefore()},colorTableAfterChanged:function(){this.notifyAfter()},colorTableSupportsRole:function(t){return t==s.ColorRole.FieldPrimary},canColorEntriesBeEmpty:function(){var t;return!(t=this.owner_)||t.kind==c.FrameForma.KIND}}}),o),a.FormaStyleChangedMessage=(r=function t(e,i){this.isBefore=!i,this.isAfter=i,g.TheoMessage.call(this,t.TYPE,e)},l.defineClass({name:"FormaStyleChangedMessage",ctor:r,superName:"TheoMessage",statics:{TYPE:{get:function(){return"FormaStyleChangedMessage"}}}}),r)},Qlvz:function(t,e,i){var o,n=e,r=i("oAGj"),a=i("fNpk");n.ImageAdjustments=(o=function t(e,i,o,n,r,a,l,s,u,c,h,f){void 0===e&&(e=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===a&&(a=0),void 0===l&&(l=0),void 0===s&&(s=0),void 0===u&&(u=0),void 0===c&&(c=0),void 0===h&&(h=0),void 0===f&&(f=0),this.name=t.NAME,this.blur_=e,this.sharpness_=i,this.contrast_=s,this.saturation_=r,this.brightness_=a,this.exposure_=l,this.contrast_=s,this.shadows_=o,this.highlights_=n,this.warmth_=u,this.tint_=c,this.fade_=h,this.vibrance_=f},r.defineClass({name:"ImageAdjustments",ctor:o,superName:"CoreObject",statics:{NAME:{get:function(){return"ImageAdjustments"}},PROPERTY_NAME:"name",PROPERTY_BLUR:"blur",PROPERTY_SHARPNESS:"sharpness",PROPERTY_SHADOWS:"shadows",PROPERTY_HIGHLIGHTS:"highlights",PROPERTY_SATURATION:"saturation",PROPERTY_BRIGHTNESS:"brightness",PROPERTY_EXPOSURE:"exposure",PROPERTY_CONTRAST:"contrast",PROPERTY_WARMTH:"warmth",PROPERTY_TINT:"tint",PROPERTY_FADE:"fade",PROPERTY_VIBRANCE:"vibrance",createDefault:function(){return new o(0,0,0,0,0,0,0,0,0,0,0,0)},decodeJson:function(t){if(null==t)return null;var e;if(e=r.as(t,["Dictionary","String","Any"])){var i=o.createDefault();return i.decodeFromJson(e),i}return a.LegacyCoreAssert.fail("ImageFilter.decodeJson: could not create style",void 0,"ImageAdjustments.decodeJson","ImageAdjustments.swift",222),null}},props:{blur:{get:function(){return this.blur_}},scaledBlur:{get:function(){return this.blur_/3}},sharpness:{get:function(){return this.sharpness_}},scaledSharpness:{get:function(){return this.sharpness_/3}},shadows:{get:function(){return this.shadows_}},highlights:{get:function(){return this.highlights_}},saturation:{get:function(){return this.saturation_}},brightness:{get:function(){return this.brightness_}},exposure:{get:function(){return this.exposure_}},contrast:{get:function(){return this.contrast_}},warmth:{get:function(){return this.warmth_}},tint:{get:function(){return this.tint_}},fade:{get:function(){return this.fade_}},vibrance:{get:function(){return this.vibrance_}},copyWithNewValues:function(t,e,i,n,r,a,l,s,u,c,h,f){var d,_,T,p,E,g,R,P,y,S,m,O;return void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===a&&(a=null),void 0===l&&(l=null),void 0===s&&(s=null),void 0===u&&(u=null),void 0===c&&(c=null),void 0===h&&(h=null),void 0===f&&(f=null),new o((d=t)||null!=d?d:this.blur_,(_=e)||null!=_?_:this.sharpness_,(T=i)||null!=T?T:this.shadows_,(p=n)||null!=p?p:this.highlights_,(E=r)||null!=E?E:this.saturation_,(g=a)||null!=g?g:this.brightness_,(R=l)||null!=R?R:this.exposure_,(P=s)||null!=P?P:this.contrast_,(y=u)||null!=y?y:this.warmth_,(S=c)||null!=S?S:this.tint_,(m=h)||null!=m?m:this.fade_,(O=f)||null!=O?O:this.vibrance_)},copyWithNewValue:function(t,e){switch(e){case"blur":return this.copyWithNewValues(t);case"sharpness":return this.copyWithNewValues(void 0,t);case"shadows":return this.copyWithNewValues(void 0,void 0,t);case"highlights":return this.copyWithNewValues(void 0,void 0,void 0,t);case"saturation":return this.copyWithNewValues(void 0,void 0,void 0,void 0,t);case"brightness":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,t);case"exposure":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,t);case"contrast":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,void 0,t);case"warmth":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t);case"tint":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t);case"fade":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t);case"vibrance":return this.copyWithNewValues(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t);default:return this.copyWithNewValues()}},encodeJson:function(){var t={};return t[o.PROPERTY_NAME]=this.name,t[o.PROPERTY_BLUR]=this.blur_,t[o.PROPERTY_SHARPNESS]=this.sharpness_,t[o.PROPERTY_SHADOWS]=this.shadows_,t[o.PROPERTY_HIGHLIGHTS]=this.highlights_,t[o.PROPERTY_SATURATION]=this.saturation_,t[o.PROPERTY_BRIGHTNESS]=this.brightness_,t[o.PROPERTY_EXPOSURE]=this.exposure_,t[o.PROPERTY_CONTRAST]=this.contrast_,t[o.PROPERTY_WARMTH]=this.warmth_,t[o.PROPERTY_TINT]=this.tint_,t[o.PROPERTY_FADE]=this.fade_,t[o.PROPERTY_VIBRANCE]=this.vibrance_,t},decodeFromJson:function(t){var e,i,n,a,l,s,u,c,h,f,d,_,T;this.name=(e=r.as(t[o.PROPERTY_NAME],"String"))||null!=e?e:"",this.blur_=(i=r.as(t[o.PROPERTY_BLUR],"Double"))||null!=i?i:0,this.sharpness_=(n=r.as(t[o.PROPERTY_SHARPNESS],"Double"))||null!=n?n:0,this.shadows_=(a=r.as(t[o.PROPERTY_SHADOWS],"Double"))||null!=a?a:0,this.highlights_=(l=r.as(t[o.PROPERTY_HIGHLIGHTS],"Double"))||null!=l?l:0,this.saturation_=(s=r.as(t[o.PROPERTY_SATURATION],"Double"))||null!=s?s:0,this.brightness_=(u=r.as(t[o.PROPERTY_BRIGHTNESS],"Double"))||null!=u?u:0,this.exposure_=(c=r.as(t[o.PROPERTY_EXPOSURE],"Double"))||null!=c?c:0,this.contrast_=(h=r.as(t[o.PROPERTY_CONTRAST],"Double"))||null!=h?h:1,this.warmth_=(f=r.as(t[o.PROPERTY_WARMTH],"Double"))||null!=f?f:0,this.tint_=(d=r.as(t[o.PROPERTY_TINT],"Double"))||null!=d?d:0,this.fade_=(_=r.as(t[o.PROPERTY_FADE],"Double"))||null!=_?_:0,this.vibrance_=(T=r.as(t[o.PROPERTY_VIBRANCE],"Double"))||null!=T?T:0},clone:function(){return o.decodeJson(this.encodeJson())},equals:function(t){return this.blur==r.opt(t,(function(t){return t.blur}))&&this.sharpness==r.opt(t,(function(t){return t.sharpness}))&&this.shadows==r.opt(t,(function(t){return t.shadows}))&&this.highlights==r.opt(t,(function(t){return t.highlights}))&&this.saturation==r.opt(t,(function(t){return t.saturation}))&&this.brightness==r.opt(t,(function(t){return t.brightness}))&&this.exposure==r.opt(t,(function(t){return t.exposure}))&&this.contrast==r.opt(t,(function(t){return t.contrast}))&&this.warmth==r.opt(t,(function(t){return t.warmth}))&&this.tint==r.opt(t,(function(t){return t.tint}))&&this.fade==r.opt(t,(function(t){return t.fade}))&&this.vibrance==r.opt(t,(function(t){return t.vibrance}))},isDefault:function(){return 0==this.blur&&0==this.sharpness&&0==this.shadows&&0==this.highlights&&0==this.saturation&&0==this.brightness&&0==this.exposure&&0==this.contrast&&0==this.warmth&&0==this.tint&&0==this.fade&&0==this.vibrance},setEnabledKeys:function(t){0!=this.blur&&(t[o.PROPERTY_BLUR]=!0),0!=this.sharpness&&(t[o.PROPERTY_SHARPNESS]=!0),0!=this.shadows&&(t[o.PROPERTY_SHADOWS]=!0),0!=this.highlights&&(t[o.PROPERTY_HIGHLIGHTS]=!0),0!=this.saturation&&(t[o.PROPERTY_SATURATION]=!0),0!=this.brightness&&(t[o.PROPERTY_BRIGHTNESS]=!0),0!=this.exposure&&(t[o.PROPERTY_EXPOSURE]=!0),0!=this.contrast&&(t[o.PROPERTY_CONTRAST]=!0),0!=this.warmth&&(t[o.PROPERTY_WARMTH]=!0),0!=this.tint&&(t[o.PROPERTY_TINT]=!0),0!=this.vibrance&&(t[o.PROPERTY_VIBRANCE]=!0)},asString:{get:function(){return o.PROPERTY_BLUR+": "+this.blur+o.PROPERTY_SHARPNESS+": "+this.sharpness+o.PROPERTY_SHADOWS+": "+this.shadows+o.PROPERTY_HIGHLIGHTS+": "+this.highlights+o.PROPERTY_SATURATION+": "+this.saturation+o.PROPERTY_BRIGHTNESS+": "+this.brightness+o.PROPERTY_EXPOSURE+": "+this.exposure+o.PROPERTY_CONTRAST+": "+this.contrast+o.PROPERTY_WARMTH+": "+this.warmth+o.PROPERTY_TINT+": "+this.tint+o.PROPERTY_FADE+": "+this.fade+o.PROPERTY_VIBRANCE+": "+this.vibrance}}}}),o)},SDdr:function(t,e,i){var o,n,r=e,a=i("oAGj"),l=i("dJuF"),s=i("ZhwN"),u=i("Quhx");r.ImageFilter=(o=function(){},n={},a.defineClass({name:"ImageFilter",ctor:o,superName:"PostPublishingObject",statics:{SCHEMA_CLASS_NAME:{get:function(){return"ImageFilter"}},SCHEMA_ALL_TYPES_NAME:"ImageFilterTypes",codec:{get:function(){return void 0===n.codec&&(n.codec=l.DBPropertyCodec.registerCodec(o.SCHEMA_ALL_TYPES_NAME,l.DBPropertyCodec.directObjectCodec(o.SCHEMA_CLASS_NAME))),n.codec}},KIND:{get:function(){return"ImageFilter"}},PROPERTY_KIND:"kind",PROPERTY_NAME:"name",createDefault:function(){return o.init_37f0(void 0,o.KIND,{})},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t}},props:{init_866e:function(t,e){a.super_init(this,u.PostPublishingObject,u.PostPublishingObject.prototype.init_866e,t,e)},init_dd5d:function(t,e){a.super_init(this,u.PostPublishingObject,u.PostPublishingObject.prototype.init_dd5d,t,e)},init_37f0:function(t,e,i){void 0===t&&(t="");var n=a.clone(i);n[o.PROPERTY_KIND]=e,n[o.PROPERTY_NAME]=t,a.super_init(this,u.PostPublishingObject,u.PostPublishingObject.prototype.init_dd5d,{},n)},clone:function(){return a.as(this.fork(s.GUIDUtils.makeGUID()),o)},className:{get:function(){return o.SCHEMA_CLASS_NAME}},kind:{get:function(){return this.get(o.PROPERTY_KIND)}},name:{get:function(){return this.get(o.PROPERTY_NAME)}},style:{get:function(){return this.style_},set:function(t){this.style_=t}},colors:{get:function(){return a.opt(this.style,(function(t){return t.colors}))}},equals:function(t){return this.name==a.opt(t,(function(t){return t.name}))},asString:{get:function(){return"Filter: "+this.name+" "+this.kind}}}}),o),r.AlphaBlendFilter=function(){var t=function(){},e={};return a.defineClass({name:"AlphaBlendFilter",ctor:t,superName:"ImageFilter",statics:{SCHEMA_CLASS_NAME:{get:function(){return"AlphaBlendFilter"}},PROPERTY_MIX:"mix",PROPERTY_FILTER_1:"filter1",PROPERTY_FILTER_2:"filter2",factory:{get:function(){return void 0===e.factory&&(e.factory=function(e,i,o,n){return t.init_866e(o,e)}),e.factory},set:function(t){e.factory=t}},createDefault:function(){return t.init_fa22(void 0,1,null,null)},KIND:{get:function(){return"AlphaBlend"}},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t}},props:{init_866e:function(t,e){a.super_init(this,r.ImageFilter,r.ImageFilter.prototype.init_866e,t,e)},init_fa22:function(e,i,o,n){void 0===e&&(e="");var l={mix:i};null!=o&&(l[t.PROPERTY_FILTER_1]=o.clone()),null!=n&&(l[t.PROPERTY_FILTER_2]=n.clone()),a.super_init(this,r.ImageFilter,r.ImageFilter.prototype.init_37f0,e,t.KIND,l),null!=o&&a.opt(this.filter1,(function(t){return t.style=o.style})),null!=n&&a.opt(this.filter2,(function(t){return t.style=n.style}))},className:{get:function(){return t.SCHEMA_CLASS_NAME}},mix:{get:function(){var e;return(e=a.as(this.get(t.PROPERTY_MIX),"Double"))||null!=e?e:1},set:function(e){a.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_MIX,e),a.opt(this.style,(function(t){return t.notifyAfter()}))}},filter1:{get:function(){return a.as(this.get(t.PROPERTY_FILTER_1),r.ImageFilter)},set:function(e){a.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_FILTER_1,e),a.opt(this.style,(function(t){return t.notifyAfter()}))}},filter2:{get:function(){return a.as(this.get(t.PROPERTY_FILTER_2),r.ImageFilter)},set:function(e){a.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_FILTER_2,e),a.opt(this.style,(function(t){return t.notifyAfter()}))}},equals:function(e){var i;return!!(i=a.as(e,t))&&(null==i.filter1&&null==this.filter1||null==i.filter2&&null==this.filter2?null!=i.filter1?i.filter1.equals(this.filter1):null==i.filter2||i.filter2.equals(this.filter2):!(null==i.filter1&&null!=this.filter1||null==i.filter2&&null!=this.filter2||null!=i.filter1&&null==this.filter1||null!=i.filter2&&null==this.filter2)&&(this.filter1.equals(i.filter1)&&this.filter2.equals(i.filter2)&&this.mix==i.mix))},asString:{get:function(){return r.ImageFilter._getters.asString.call(this)+" "+this.mix+" 1:["+(null!=this.filter1?this.filter1.asString:"nil")+"] 2:["+(null!=this.filter2?this.filter2.asString:"nil")+"]"}}}}),t}(),r.CompositeFilter=function(){var t=function(){},e={};return a.defineClass({name:"CompositeFilter",ctor:t,superName:"ImageFilter",statics:{SCHEMA_CLASS_NAME:{get:function(){return"CompositeFilter"}},PROPERTY_MIX:"mix",PROPERTY_BLEND:"blend",PROPERTY_GRAYSCALE:"grayscale",PROPERTY_CONTRAST:"contrast",PROPERTY_COLOR_OPERATION:"color-operation",PROPERTY_SATURATION_OFFSET:"saturation-offset",PROPERTY_BRIGHTNESS_OFFSET:"brightness-offset",PROPERTY_BLUR_RADIUS:"blur-radius",PROPERTY_REDUCE_CONTRAST:"reduce-contrast",factory:{get:function(){return void 0===e.factory&&(e.factory=function(e,i,o,n){return t.init_866e(o,e)}),e.factory},set:function(t){e.factory=t}},createDefault:function(){return t.init_514f(void 0,void 0,void 0,"")},KIND:{get:function(){return"CompositeFilter"}},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t}},props:{init_866e:function(e,i){var o;a.super_init(this,r.ImageFilter,r.ImageFilter.prototype.init_866e,e,i),"duotone"==this.blend&&this.set(t.PROPERTY_BLEND,"normal"),((o=a.as(this.get(t.PROPERTY_REDUCE_CONTRAST),"Bool"))||null!=o)&&o&&this.set(t.PROPERTY_CONTRAST,.5)},init_514f:function(e,i,o,n,l,s,u,c,h,f){void 0===e&&(e=null),void 0===i&&(i=""),void 0===o&&(o=1),void 0===n&&(n="normal"),void 0===l&&(l=!1),void 0===s&&(s=1),void 0===u&&(u=null),void 0===c&&(c=0),void 0===h&&(h=0),void 0===f&&(f=0);var d={mix:o,blend:n,grayscale:l,contrast:s,"saturation-offset":c,"brightness-offset":h,"blur-radius":f};null!=u&&(d[t.PROPERTY_COLOR_OPERATION]=u),a.super_init(this,r.ImageFilter,r.ImageFilter.prototype.init_37f0,i,t.KIND,d),this.style=e},className:{get:function(){return t.SCHEMA_CLASS_NAME}},mix:{get:function(){var e;return(e=a.as(this.get(t.PROPERTY_MIX),"Double"))||null!=e?e:1},set:function(e){a.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_MIX,e),a.opt(this.style,(function(t){return t.notifyAfter()}))}},blend:{get:function(){var e;return(e=a.as(this.get(t.PROPERTY_BLEND),"String"))||null!=e?e:"normal"},set:function(e){a.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_BLEND,e),a.opt(this.style,(function(t){return t.notifyAfter()}))}},grayscale:{get:function(){var e;return!(!(e=a.as(this.get(t.PROPERTY_GRAYSCALE),"Bool"))&&null==e)&&e},set:function(e){a.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_GRAYSCALE,e),a.opt(this.style,(function(t){return t.notifyAfter()}))}},contrast:{get:function(){var e;return(e=a.as(this.get(t.PROPERTY_CONTRAST),"Double"))||null!=e?e:1},set:function(e){a.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_CONTRAST,e),a.opt(this.style,(function(t){return t.notifyAfter()}))}},blurRadius:{get:function(){var e;return(e=a.as(this.get(t.PROPERTY_BLUR_RADIUS),"Double"))||null!=e?e:0},set:function(e){a.opt(this.style,(function(t){return t.notifyBefore()})),this.set(t.PROPERTY_BLUR_RADIUS,e),a.opt(this.style,(function(t){return t.notifyAfter()}))}},colorOperation:{get:function(){var e;return(e=a.as(this.get(t.PROPERTY_COLOR_OPERATION),"String"))||null!=e?e:""}},saturation:{get:function(){var e;return a.toString((e=a.as(this.get(t.PROPERTY_SATURATION_OFFSET),"Double"))||null!=e?e:0)}},brightness:{get:function(){var e;return a.toString((e=a.as(this.get(t.PROPERTY_BRIGHTNESS_OFFSET),"Double"))||null!=e?e:0)}},equals:function(e){var i;return!!(i=a.as(e,t))&&(this.name==a.opt(e,(function(t){return t.name}))&&this.mix==i.mix&&this.blurRadius==i.blurRadius)},asString:{get:function(){return r.ImageFilter._getters.asString.call(this)+" "+this.mix+" blend:"+this.blend+" grayscale:"+this.grayscale+" contrast:"+this.contrast+" blurRadius:"+this.blurRadius+" colorOperation:"+this.colorOperation+" saturation:"+this.saturation+" brightness:"+this.brightness}}}}),t}()},"c+uM":function(t,e,i){var o,n,r=e,a=i("oAGj"),l=i("qsM9"),s=i("SpAV"),u=i("ascj"),c=i("fVJ2"),h=i("dJuF"),f=i("13MC"),d=i("QbzR"),_=i("ZhwN"),T=i("iCxV"),p=i("fNpk"),E=i("3DEm"),g=i("Zifs"),R=i("35Q0"),P=i("VJ9E"),y=i("BgH2"),S=i("oKI3");r.LockupLayout=a.defineEnum("LockupLayout",{SKIP:-2,UNSET:-1,FitJustified:0,LegacyLeft:1,LegacyRight:2,LegacyCenter:3,Standard:4,LetterGrid:5,Path:6,Auto:7}),r.LockupAlignment=a.defineEnum("LockupAlignment",{SKIP:-2,UNSET:-1,Left:0,Right:1,Center:2,Triplet:120,TripletRotatedMiddleMulti:121,TripletRotatedMiddle:122,TripletRotatedEnds:123,RotateTopStart:140,RotateBottomStart:142,RotateFitStart:143,RotateFullStart:146,RotateBottomEnd:145,RotateTopEnd:141,RotateFitEnd:144,RotateFullEnd:147,DropCapTop:180,DropCapBottom:182,DropCapFit:183,DropCap:184,FitRotateFit:202,RotateAndFit:203}),r.VerticalLockupAlignment=a.defineEnum("VerticalLockupAlignment",{UNSET:-1,Top:0,Bottom:1,VerticalCenter:2}),r.LockupBacking=a.defineEnum("LockupBacking",{UNSET:-1,None:0,Frame:1,Rows:2,Box:3,LegacyShadow:4,Banner:5,LeftRight:6,SVGBackground:7,BannerVertical:8,BannerHorizontal:9,TopBottom:10,Knockout:11}),r.LockupTextLook=a.defineEnum("LockupTextLook",{SKIP:-2,UNSET:-1,Fill:0,KnockoutOnly:1,KnockoutAndOutline:2,OutlineOnly:3,FillAndOutline:4,FillAndOutline2:5,KnockoutAndFill:6,Shadow:7,ShadowAndOutline:8,KnockoutAndShadow:9,ShadowOutlineTransparentText:10,KnockoutShadowOutline:11}),r.LockupStyle=(o=function(){this.cachedCharacterStyles_=null},n={},a.defineClass({name:"LockupStyle",ctor:o,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"LockupStyle"}},KIND:{get:function(){return"LockupStyle"}},DEFAULT_PADDING:.65,DEFAULT_SPACING:.35,DEFAULT_SHADOWOFFSET:.5,DEFAULT_STROKEWEIGHT:.1,DEFAULT_WHEELUSED:!1,DEFAULT_TRACKING:0,DEFAULT_RELATIVE_FONT_SCALE:-1,DEFAULT_TEXTOPACITY:1,DEFAULT_BACKINGOPACITY:1,DEFAULT_SHADOWANGLE:135,UNSET_FONT:null,UNSET_SPACING:-1,UNSET_RELATIVE_FONT_SCALE:{get:function(){return void 0===n.UNSET_RELATIVE_FONT_SCALE&&(n.UNSET_RELATIVE_FONT_SCALE=o.DEFAULT_RELATIVE_FONT_SCALE),n.UNSET_RELATIVE_FONT_SCALE}},UNSET_TRACKING:-99,UNSET_PADDING:0,UNSET_BACKING:{get:function(){return void 0===n.UNSET_BACKING&&(n.UNSET_BACKING=r.LockupBacking.None),n.UNSET_BACKING}},UNSET_LAYOUT:{get:function(){return void 0===n.UNSET_LAYOUT&&(n.UNSET_LAYOUT=r.LockupLayout.UNSET),n.UNSET_LAYOUT}},UNSET_BACKING_ARTWORK_ID:null,UNSET_SHADOW_ANGLE:-1,UNSET_TEXT_LOOK:{get:function(){return void 0===n.UNSET_TEXT_LOOK&&(n.UNSET_TEXT_LOOK=r.LockupTextLook.UNSET),n.UNSET_TEXT_LOOK}},UNSET_SHADOW_OFFSET:-1,UNSET_STROKE_WEIGHT:-1,PROPERTY_FONTS:"fonts",PROPERTY_SPACING:"spacing",PROPERTY_TRACKING:"tracking",PROPERTY_RELATIVE_FONT_SCALE:"relativeFontScale",PROPERTY_PADDING:"padding",PROPERTY_BACKING:"backing",PROPERTY_LAYOUT:"layout",PROPERTY_ALIGNMENT:"alignment",PROPERTY_VERTICAL_ALIGNMENT:"verticalAlignment",PROPERTY_BACKING_ARTWORK_ID:"backingArtworkID",PROPERTY_SHADOW_ANGLE:"shadowAngle",PROPERTY_TEXT_OPACITY:"text-opacity",PROPERTY_BACKING_OPACITY:"backing-opacity",PROPERTY_KNOCKOUT:"knockout",PROPERTY_CHARSTYLES:"character-styles",PROPERTY_SHADOW_OFFSET:"shadowOffset",PROPERTY_STROKE_WEIGHT:"strokeWeight",PROPERTY_LINEBREAK:"linebreak",PROPERTY_PATH_ID:"pathID",PROPERTY_CUSTOM_PATH:"customPath",PROPERTY_WHEELUSED:"wheel-used",unsetCharacterStyleProperties:{get:function(){return void 0===n.unsetCharacterStyleProperties&&(n.unsetCharacterStyleProperties=a.dict([o.PROPERTY_SPACING,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(o.PROPERTY_SPACING),o.UNSET_SPACING,!0),o.PROPERTY_TRACKING,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(o.PROPERTY_TRACKING),o.UNSET_TRACKING,!0),o.PROPERTY_PADDING,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(o.PROPERTY_PADDING),o.UNSET_PADDING,!0),o.PROPERTY_BACKING,h.DBProperty.intProperty(h.DBNamePath.init_b14a(o.PROPERTY_BACKING),o.UNSET_BACKING,!0),o.PROPERTY_SHADOW_ANGLE,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(o.PROPERTY_SHADOW_ANGLE),o.UNSET_SHADOW_ANGLE,!0),o.PROPERTY_LAYOUT,h.DBProperty.intProperty(h.DBNamePath.init_b14a(o.PROPERTY_LAYOUT),o.UNSET_LAYOUT,!0),o.PROPERTY_TEXT_OPACITY,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(o.PROPERTY_TEXT_OPACITY),d.FormaStyle.OPACITY_UNSET,!0),o.PROPERTY_BACKING_OPACITY,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(o.PROPERTY_BACKING_OPACITY),d.FormaStyle.OPACITY_UNSET,!0),o.PROPERTY_KNOCKOUT,h.DBProperty.intProperty(h.DBNamePath.init_b14a(o.PROPERTY_KNOCKOUT),o.UNSET_TEXT_LOOK,!0),o.PROPERTY_SHADOW_OFFSET,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(o.PROPERTY_SHADOW_OFFSET),o.UNSET_SHADOW_OFFSET,!0),o.PROPERTY_STROKE_WEIGHT,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(o.PROPERTY_STROKE_WEIGHT),o.UNSET_STROKE_WEIGHT,!0),o.PROPERTY_RELATIVE_FONT_SCALE,h.DBProperty.doubleProperty(h.DBNamePath.init_b14a(o.PROPERTY_RELATIVE_FONT_SCALE),o.UNSET_RELATIVE_FONT_SCALE,!0)])),n.unsetCharacterStyleProperties}},factory:{get:function(){return function(t,e,i,n){return o.init_866e(i,t)}}},characterStyleSchemaClassName:"CharacterStyle",characterStyleCodec:{get:function(){return void 0===n.characterStyleCodec&&(n.characterStyleCodec=h.DBPropertyCodec.registerCodec(o.characterStyleSchemaClassName,h.DBPropertyCodec.init_a58a((function(t,e,i){var n,r=h.DBProperty.deleted(t);return(n=a.as(e,o))?(r=h.DBProperty.dictEncoded(t,n.state.allProperties,n.className),null==i||n.isChildObject||i.addChildObject(n,t)):p.LegacyCoreAssert.fail("Expected LockupStyle",{actual:e},"LockupStyle","LockupStyle.swift",219),r}),(function(t,e){var i,n=null;if(null!=(i=a.opt(t,(function(t){return t.className})))){var r,l,s,T=_.GUIDUtils.makeGUID();if(r=a.opt(t,(function(t){return t.namePath})))n=(s=a.as(e,c.DBObject))?a.as(s.createChildObject(o.SCHEMA_CLASS_NAME,r),o):o.init_866e(f.DBChildObjectState.init_94ed(e,r),T);else if(l=a.opt(t,(function(t){return t.dictionaryValue}))){var E=a.clone(o.unsetCharacterStyleProperties);p.LegacyCoreAssert.isTrue(i==o.characterStyleSchemaClassName||i==o.SCHEMA_CLASS_NAME,"Unexpected schema description for character style",void 0,"LockupStyle","LockupStyle.swift",237),E[d.FormaStyle.PROPERTY_COLORS]=u.ColorTable.codec.encode(h.DBNamePath.init_b14a(d.FormaStyle.PROPERTY_COLORS),u.ColorTable.init_25f6([{key:u.ColorRole.FieldPrimary,value:"themeColor0"},{key:u.ColorRole.FieldSecondary,value:"themeColor1"},{key:u.ColorRole.Border,value:"themeColor1"},{key:u.ColorRole.Shadow,value:"themeColor1"}]),null),a.each(l,(function(t,e){E[t]=e})),n=o.init_dd5d(E,{})}}return n}),o.characterStyleSchemaClassName))),n.characterStyleCodec}},createDefault:function(){var t=P.TheoFont.init_9e5c(T.Host.textModelUtils.defaultFont()),e=u.ColorTable.init_25f6([{key:u.ColorRole.FieldPrimary,value:"themeColor0"},{key:u.ColorRole.FieldSecondary,value:"themeColor1"},{key:u.ColorRole.Border,value:"themeColor1"},{key:u.ColorRole.Shadow,value:"themeColor1"}]);return o.init_f3fd(o.DEFAULT_TEXTOPACITY,o.DEFAULT_BACKINGOPACITY,e,t,o.DEFAULT_SPACING,o.DEFAULT_TRACKING,o.DEFAULT_PADDING,r.LockupBacking.None,null,o.DEFAULT_SHADOWANGLE,r.LockupLayout.FitJustified,r.LockupAlignment.UNSET,r.LockupTextLook.Fill,o.DEFAULT_SHADOWOFFSET,o.DEFAULT_STROKEWEIGHT,void 0,void 0,o.DEFAULT_WHEELUSED,o.UNSET_RELATIVE_FONT_SCALE,r.VerticalLockupAlignment.UNSET)},createDefaultCharacterStyle:function(t){var e=o.createDefault();return e.colorLibrary=t.colorLibrary,e.setEmptyStyle(),o.isKnockoutLook(t.textLook)?e.textLook=r.LockupTextLook.Fill:t.backing==r.LockupBacking.Rows&&t.padding<.4&&t.spacing>0&&(e.backing=r.LockupBacking.Rows,e.colors.setColorId(u.ColorRole.FieldPrimary,t.colors.colorID(u.ColorRole.FieldSecondary)),e.colors.setColorId(u.ColorRole.FieldSecondary,t.colors.colorID(u.ColorRole.FieldPrimary)),e.colors.setColorId(u.ColorRole.Border,t.colors.colorID(u.ColorRole.Border)),e.colors.setColorId(u.ColorRole.Shadow,t.colors.colorID(u.ColorRole.Shadow))),o.isLetterGrid(t.layout)&&(e.backing=r.LockupBacking.UNSET),e},isKnockoutLook:function(t){return t==r.LockupTextLook.KnockoutOnly||t==r.LockupTextLook.KnockoutAndOutline||t==r.LockupTextLook.KnockoutAndFill||t==r.LockupTextLook.KnockoutAndShadow||t==r.LockupTextLook.KnockoutShadowOutline},isOutlineLook:function(t){return t==r.LockupTextLook.KnockoutAndOutline||t==r.LockupTextLook.OutlineOnly||t==r.LockupTextLook.FillAndOutline||t==r.LockupTextLook.FillAndOutline2||t==r.LockupTextLook.ShadowAndOutline||t==r.LockupTextLook.KnockoutShadowOutline||t==r.LockupTextLook.ShadowOutlineTransparentText},isShadowLook:function(t){return t==r.LockupTextLook.Shadow||t==r.LockupTextLook.ShadowAndOutline||t==r.LockupTextLook.KnockoutAndShadow||t==r.LockupTextLook.KnockoutShadowOutline||t==r.LockupTextLook.ShadowOutlineTransparentText},isOutlineWithTransparentTextLook:function(t){return t==r.LockupTextLook.OutlineOnly||t==r.LockupTextLook.ShadowOutlineTransparentText},isDuplicateFormaLook:function(t){return t==r.LockupTextLook.Shadow||t==r.LockupTextLook.ShadowAndOutline||t==r.LockupTextLook.FillAndOutline2||t==r.LockupTextLook.KnockoutAndShadow},doesLookColorMatchShapeColor:function(t){return t==r.LockupTextLook.Shadow||t==r.LockupTextLook.ShadowAndOutline||t==r.LockupTextLook.FillAndOutline||t==r.LockupTextLook.FillAndOutline2||t==r.LockupTextLook.OutlineOnly},isAutoLayout:function(t){return t==r.LockupLayout.Auto},isLetterGrid:function(t){return t==r.LockupLayout.LetterGrid},isPath:function(t){return t==r.LockupLayout.Path},doesPerLetterLayout:function(t){return o.isLetterGrid(t)||o.isPath(t)},layoutSupportsAlignments:function(t){return t==r.LockupLayout.LetterGrid||t==r.LockupLayout.Standard},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{description:{get:function(){var t="LockupStyle: ",e=a.clone(a.as(this.get(o.PROPERTY_FONTS),["Array",P.TheoFont])||[]);return t+=o.PROPERTY_FONTS+": "+(1==e.length?e[0].fontData.postScriptName:"<unset>")+" | "}},init_866e:function(t,e){a.super_init(this,d.FormaStyle,d.FormaStyle.prototype.init_866e,t,e),this.fixLegacyProperties()},init_dd5d:function(t,e){a.super_init(this,d.FormaStyle,d.FormaStyle.prototype.init_dd5d,t,e),this.fixLegacyProperties()},init_f3fd:function(t,e,i,n,l,u,c,h,f,_,E,g,R,P,y,m,O,C,A,L){void 0===m&&(m=S.TextPathID.UNSET),void 0===O&&(O=null),void 0===C&&(C=o.DEFAULT_WHEELUSED),void 0===A&&(A=o.DEFAULT_RELATIVE_FONT_SCALE),void 0===L&&(L=r.VerticalLockupAlignment.UNSET),(u<-1||u>1)&&a.opt(T.Host.logging,(function(t){return t.warning("Tracking must be between -1 and 1.")}));var D=Math.max(-1,Math.min(1,u));(c<-.5||c>1)&&a.opt(T.Host.logging,(function(t){return t.warning("Padding must be between 0 and 1.")}));var N=Math.max(-.5,Math.min(1,c));null==f&&h!=r.LockupBacking.SVGBackground||null!=f&&h==r.LockupBacking.SVGBackground||(s.CoreAssertDebugOnly.isFalse(null==f&&h==r.LockupBacking.SVGBackground,"nil backingArtworkID but backing is SVGBackground",void 0,"LockupStyle.init","LockupStyle.swift",293),a.opt(T.Host.logging,(function(t){return t.warning("error backingArtwordID / SVGBackground")}))),p.LegacyCoreAssert.isFalse(E==r.LockupLayout.SKIP||E==r.LockupLayout.LegacyLeft||E==r.LockupLayout.LegacyCenter||E==r.LockupLayout.LegacyRight,"Unexpected LockupLayout value: "+E,void 0,"LockupStyle.init","LockupStyle.swift",297),p.LegacyCoreAssert.isFalse(g==r.LockupAlignment.SKIP,"Unexpected LockupAlignment",{alignment:g},"LockupStyle.init","LockupStyle.swift",299),o.isPath(E)?(m==S.TextPathID.Custom&&null==O||m!=S.TextPathID.Custom&&null!=O)&&a.opt(T.Host.logging,(function(t){return t.warning("pathID/customPath mismatch")})):m==S.TextPathID.UNSET&&null==O||a.opt(T.Host.logging,(function(t){return t.warning("Why are we providing a path or path id with a non-path layout?")}));var v={fonts:[n],spacing:l,tracking:D,padding:N,backing:h,shadowAngle:_,shadowOffset:P,strokeWeight:y,layout:E,alignment:g,verticalAlignment:L,"text-opacity":t,"backing-opacity":e,knockout:R,pathID:m,"wheel-used":C,relativeFontScale:A};null!=f&&(v[o.PROPERTY_BACKING_ARTWORK_ID]=f),null!=O&&(v[o.PROPERTY_CUSTOM_PATH]=O),a.super_init(this,d.FormaStyle,d.FormaStyle.prototype.init_5afe,o.KIND,1,i,null,null,v)},isEqualTo:function(t){var e;if(e=t){if(a.count(this.characterStyles)!=a.count(e.characterStyles))return!1;for(var i=a.iter(this.characterStyles);!i.done;i.next()){var o=i.key,n=i.value;if(null==e.characterStyles[o])return!1;if(!n.isEqualTo(e.characterStyles[o]))return!1}return this.textOpacity==e.textOpacity&&this.backingOpacity==e.backingOpacity&&a.eq(P._equality_TheoFont_TheoFont,this.font,e.font)&&this.spacing==e.spacing&&this.tracking==e.tracking&&this.padding==e.padding&&this.backing==e.backing&&this.shadowAngle==e.shadowAngle&&this.layout==e.layout&&this.alignment==e.alignment&&this.textLook==e.textLook&&this.shadowOffset==e.shadowOffset&&this.strokeWeight==e.strokeWeight&&this.wheelUsed==e.wheelUsed&&this.pathID==e.pathID&&this.customPath==e.customPath&&this.backingArtworkID==e.backingArtworkID&&this.relativeFontScale==e.relativeFontScale&&this.verticalAlignment==e.verticalAlignment&&this.lineBreakAtCharacterStyleSizeChange==e.lineBreakAtCharacterStyleSizeChange}return!1},className:{get:function(){return o.SCHEMA_CLASS_NAME}},willChangeState:function(t){var e;if(d.FormaStyle.prototype.willChangeState.call(this,t),a.keys(t).includes(o.PROPERTY_CHARSTYLES)&&(e=this.cachedCharacterStyles_)){for(var i=a.iter(e);!i.done;i.next())i.value.colorLibrary=null;this.cachedCharacterStyles_=null}},didChangeState:function(t){d.FormaStyle.prototype.didChangeState.call(this,t),a.keys(t).includes(o.PROPERTY_CHARSTYLES)&&a.clone(this.characterStyles)},fixLegacyProperties:function(){var t,e,i,n=a.opt(this.getProperty(d.FormaStyle.PROPERTY_OPACITY),(function(t){return t.doubleValue})),s=null==n?1:n,u=a.opt(this.getProperty(o.PROPERTY_TEXT_OPACITY),(function(t){return t.doubleValue})),c=a.opt(this.getProperty(o.PROPERTY_BACKING_OPACITY),(function(t){return t.doubleValue}));if(null!=u?p.LegacyCoreAssert.isTrue(1==s,"for legacy ",void 0,"LockupStyle.fixLegacyProperties","LockupStyle.swift",472):null!=n&&(this.textOpacity=s),this.set(d.FormaStyle.PROPERTY_OPACITY,1),this.backing==r.LockupBacking.None&&1!=this.backingOpacity&&1==this.textOpacity&&(this.textOpacity=this.backingOpacity),null==u&&this.textOpacity!=d.FormaStyle.OPACITY_UNSET&&n==c&&(this.backingOpacity=s),this.backing==r.LockupBacking.LegacyShadow&&(this.backing=r.LockupBacking.None,this.textLook=r.LockupTextLook.Shadow,this.shadowOffset=this.padding+.48,this.shadowOffset>1&&(this.shadowOffset=1)),(t=a.opt(this.getProperty(d.FormaStyle.PROPERTY_COLORS_DEPRECATED),(function(t){return t.arrayValue})))&&(t.length>=1&&(this.colors.fieldPrimary=a.as(l.Codecs.solidColorCodec.decode(t[0],this),g.SolidColor)),t.length>=2&&(this.colors.fieldSecondary=a.as(l.Codecs.solidColorCodec.decode(t[1],this),g.SolidColor))),null!=(e=a.opt(this.getProperty(o.PROPERTY_LAYOUT),(function(t){return t.intValue})))&&null!=(i=r.LockupLayout.toCaseValue(e)))switch(i){case 3:this.set(o.PROPERTY_LAYOUT,r.LockupLayout.Standard),this.set(o.PROPERTY_ALIGNMENT,r.LockupAlignment.Center);break;case 1:this.set(o.PROPERTY_LAYOUT,r.LockupLayout.Standard),this.set(o.PROPERTY_ALIGNMENT,r.LockupAlignment.Left);break;case 2:this.set(o.PROPERTY_LAYOUT,r.LockupLayout.Standard),this.set(o.PROPERTY_ALIGNMENT,r.LockupAlignment.Right)}},setEmptyStyle:function(){this.font=null,this.spacing=-1,this.tracking=o.UNSET_TRACKING,this.relativeFontScale=o.UNSET_RELATIVE_FONT_SCALE,this.padding=0,this.backing=r.LockupBacking.None,this.backingArtworkID=null,this.shadowAngle=-1,this.layout=r.LockupLayout.UNSET,this.textOpacity=d.FormaStyle.OPACITY_UNSET,this.backingOpacity=d.FormaStyle.OPACITY_UNSET,this.textLook=r.LockupTextLook.UNSET,this.shadowOffset=-1,this.strokeWeight=-1;for(var t=[o.PROPERTY_SPACING,o.PROPERTY_TRACKING,o.PROPERTY_SHADOW_ANGLE,o.PROPERTY_SHADOW_OFFSET,o.PROPERTY_LAYOUT,o.PROPERTY_TEXT_OPACITY,o.PROPERTY_BACKING_OPACITY,o.PROPERTY_KNOCKOUT,o.PROPERTY_STROKE_WEIGHT,o.PROPERTY_RELATIVE_FONT_SCALE],e=a.iter(t);!e.done;e.next()){var i=e.value;a.opt(this.state.getProperty(i),(function(t){return t.shouldWrite=!1}))}},needsLayout:function(t){return t.backing!=this.backing||!a.eq(P._equality_TheoFont_TheoFont,t.font,this.font)||t.layout!=this.layout||t.alignment!=this.alignment||t.verticalAlignment!=this.verticalAlignment||t.pathID!=this.pathID||t.customPath!=this.customPath||t.padding!=this.padding||t.spacing!=this.spacing||t.tracking!=this.tracking||t.textLook!=this.textLook||t.strokeWeight!=this.strokeWeight||t.shadowOffset!=this.shadowOffset||t.lineBreakAtCharacterStyleSizeChange!=this.lineBreakAtCharacterStyleSizeChange||t.relativeFontScale!=this.relativeFontScale},sameColors:function(t){if(!(a.eq(g._equality_SolidColor_SolidColor,t.colors.fieldPrimary,this.colors.fieldPrimary)&&a.eq(g._equality_SolidColor_SolidColor,t.colors.fieldSecondary,this.colors.fieldSecondary)&&a.eq(g._equality_SolidColor_SolidColor,t.colors.border,this.colors.border)&&a.eq(g._equality_SolidColor_SolidColor,t.colors.shadow,this.colors.shadow)))return!1;for(var e=a.iter(this.characterStyles);!e.done;e.next()){var i,o=e.key,n=e.value;if(!(i=t.characterStyles[o]))return!1;if(!(a.eq(g._equality_SolidColor_SolidColor,i.colors.fieldPrimary,n.colors.fieldPrimary)&&a.eq(g._equality_SolidColor_SolidColor,i.colors.fieldSecondary,n.colors.fieldSecondary)&&a.eq(g._equality_SolidColor_SolidColor,i.colors.border,n.colors.border)&&a.eq(g._equality_SolidColor_SolidColor,i.colors.shadow,n.colors.shadow)))return!1}return!0},colorLibrary:{get:function(){return d.FormaStyle._getters.colorLibrary.call(this)},set:function(t){d.FormaStyle._setters.colorLibrary.call(this,t);for(var e=a.iter(this.characterStyles);!e.done;e.next())e.value.colorLibrary=t}},ensureCachedCharacterStyles:function(){var t;if(null==this.cachedCharacterStyles_&&(this.cachedCharacterStyles_={},t=a.opt(this.getProperty(o.PROPERTY_CHARSTYLES),(function(t){return t.dictionaryValue}))))for(var e=a.iter(t);!e.done;e.next()){var i,n=e.key,r=e.value;(i=a.as(o.characterStyleCodec.decode(r,this),o))&&(i.colorLibrary=this.colorLibrary,this.cachedCharacterStyles_[n]=i)}},characterStyles:{get:function(){return this.ensureCachedCharacterStyles(),this.cachedCharacterStyles_}},setCharacterStyles:function(t){var e;if(e=this.cachedCharacterStyles_)for(var i=a.iter(e);!i.done;i.next())(l=i.value).colorLibrary=null;this.cachedCharacterStyles_=a.clone(t);for(var n={},r=a.iter(t);!r.done;r.next()){var l,s=r.key;(l=r.value).colorLibrary=this.colorLibrary,n[s]=o.characterStyleCodec.encode(h.DBNamePath.init_b14a(o.PROPERTY_CHARSTYLES).append(s),l,this)}this.setProperty(o.PROPERTY_CHARSTYLES,h.DBProperty.dictProperty(h.DBNamePath.init_b14a(o.PROPERTY_CHARSTYLES),n))},setCharacterStyle:function(t,e){this.ensureCachedCharacterStyles(),this.cachedCharacterStyles_[t]=e,e.colorLibrary=this.colorLibrary;for(var i={},n=a.iter(this.cachedCharacterStyles_);!n.done;n.next()){var r=n.key;e=n.value,i[r]=o.characterStyleCodec.encode(h.DBNamePath.init_b14a(o.PROPERTY_CHARSTYLES).append(r),e,this)}this.setProperty(o.PROPERTY_CHARSTYLES,h.DBProperty.dictProperty(h.DBNamePath.init_b14a(o.PROPERTY_CHARSTYLES),i))},spacing:{get:function(){var t;return(t=a.as(this.get(o.PROPERTY_SPACING),"Double"))||null!=t?t:o.DEFAULT_SPACING},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_SPACING,t),this.notifyAfter()}},tracking:{get:function(){var t;return(t=a.as(this.get(o.PROPERTY_TRACKING),"Double"))||null!=t?t:o.UNSET_TRACKING},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_TRACKING,t),this.notifyAfter()}},relativeFontScale:{get:function(){var t;return(t=a.as(this.get(o.PROPERTY_RELATIVE_FONT_SCALE),"Double"))||null!=t?t:o.UNSET_RELATIVE_FONT_SCALE},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_RELATIVE_FONT_SCALE,t),this.notifyAfter()}},textLook:{get:function(){var t,e;return(t=r.LockupTextLook.toCaseValue((e=a.as(this.get(o.PROPERTY_KNOCKOUT),"Int"))||null!=e?e:r.LockupTextLook.Fill))||null!=t?t:r.LockupTextLook.Fill},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_KNOCKOUT,t),this.notifyAfter()}},padding:{get:function(){var t;return(t=a.as(this.get(o.PROPERTY_PADDING),"Double"))||null!=t?t:o.DEFAULT_PADDING},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_PADDING,t),this.notifyAfter()}},backing:{get:function(){var t,e;return(t=r.LockupBacking.toCaseValue((e=a.as(this.get(o.PROPERTY_BACKING),"Int"))||null!=e?e:r.LockupBacking.None))||null!=t?t:r.LockupBacking.Box},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_BACKING,t),this.notifyAfter()}},opacity:{get:function(){return 1},set:function(t){p.LegacyCoreAssert.fail("opacity being set. use controller's applyOpacity instead",void 0,"LockupStyle","LockupStyle.swift",738)}},textOpacity:{get:function(){var t;return(t=a.as(this.get(o.PROPERTY_TEXT_OPACITY),"Double"))||null!=t?t:d.FormaStyle.OPACITY_UNSET},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_TEXT_OPACITY,t),this.notifyAfter()}},backingOpacity:{get:function(){var t;return(t=a.as(this.get(o.PROPERTY_BACKING_OPACITY),"Double"))||null!=t?t:d.FormaStyle.OPACITY_UNSET},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_BACKING_OPACITY,t),this.notifyAfter()}},layout:{get:function(){var t,e;return(t=r.LockupLayout.toCaseValue((e=a.as(this.get(o.PROPERTY_LAYOUT),"Int"))||null!=e?e:r.LockupLayout.UNSET))||null!=t?t:r.LockupLayout.FitJustified},set:function(t){p.LegacyCoreAssert.isFalse(t==r.LockupLayout.SKIP||t==r.LockupLayout.LegacyLeft||t==r.LockupLayout.LegacyCenter||t==r.LockupLayout.LegacyRight,"Unexpected LockupLayout value: "+t,void 0,"LockupStyle","LockupStyle.swift",763),this.notifyBefore(),this.set(o.PROPERTY_LAYOUT,t),this.notifyAfter()}},alignment:{get:function(){var t,e;return(t=r.LockupAlignment.toCaseValue((e=a.as(this.get(o.PROPERTY_ALIGNMENT),"Int"))||null!=e?e:r.LockupAlignment.UNSET))||null!=t?t:r.LockupAlignment.UNSET},set:function(t){p.LegacyCoreAssert.isFalse(t==r.LockupAlignment.SKIP,"LockupAlignment.SKIP is not a settable value",void 0,"LockupStyle","LockupStyle.swift",777),this.notifyBefore(),this.set(o.PROPERTY_ALIGNMENT,t),this.notifyAfter()}},verticalAlignment:{get:function(){var t,e;return(t=r.VerticalLockupAlignment.toCaseValue((e=a.as(this.get(o.PROPERTY_VERTICAL_ALIGNMENT),"Int"))||null!=e?e:r.VerticalLockupAlignment.UNSET))||null!=t?t:r.VerticalLockupAlignment.UNSET},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_VERTICAL_ALIGNMENT,t),this.notifyAfter()}},pathID:{get:function(){var t,e;return(t=S.TextPathID.toCaseValue((e=a.as(this.get(o.PROPERTY_PATH_ID),"Int"))||null!=e?e:S.TextPathID.UNSET))||null!=t?t:S.TextPathID.UNSET},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_PATH_ID,t),this.notifyAfter()}},customPath:{get:function(){return a.as(this.get(o.PROPERTY_CUSTOM_PATH),y.TextPath)},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_CUSTOM_PATH,t),this.notifyAfter()}},backingArtworkID:{get:function(){return a.as(this.get(o.PROPERTY_BACKING_ARTWORK_ID),"String")},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_BACKING_ARTWORK_ID,t),this.notifyAfter()}},shadowAngle:{get:function(){var t;return(t=a.as(this.get(o.PROPERTY_SHADOW_ANGLE),"Double"))||null!=t?t:o.UNSET_SHADOW_ANGLE},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_SHADOW_ANGLE,t),this.notifyAfter()}},shadowOffset:{get:function(){var t;return(t=a.as(this.get(o.PROPERTY_SHADOW_OFFSET),"Double"))||null!=t?t:o.DEFAULT_SHADOWOFFSET},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_SHADOW_OFFSET,t),this.notifyAfter()}},defaultStrokeWeight:{get:function(){return this.textLook==r.LockupTextLook.KnockoutAndOutline?0:o.DEFAULT_STROKEWEIGHT}},strokeWeight:{get:function(){var t;return(t=a.as(this.get(o.PROPERTY_STROKE_WEIGHT),"Double"))||null!=t?t:this.defaultStrokeWeight},set:function(t){this.notifyBefore(),this.set(o.PROPERTY_STROKE_WEIGHT,t),this.notifyAfter()}},wheelUsed:{get:function(){var t;return(t=a.as(this.get(o.PROPERTY_WHEELUSED),"Bool"))||null!=t?t:o.DEFAULT_WHEELUSED},set:function(t){this.set(o.PROPERTY_WHEELUSED,t)}},font:{get:function(){var t,e=null;return(t=a.as(this.get(o.PROPERTY_FONTS),["Array",P.TheoFont]))&&(p.LegacyCoreAssert.isTrue(t.length<=1,"should only have 1 or 0 fonts",void 0,"LockupStyle","LockupStyle.swift",858),t.forEach((function(t){e=t}))),e},set:function(t){this.notifyBefore(),null!=t?this.set(o.PROPERTY_FONTS,[t]):this.set(o.PROPERTY_FONTS,null),this.notifyAfter()}},lineBreakAtCharacterStyleSizeChange:{get:function(){var t;return!(t=a.as(this.get(o.PROPERTY_LINEBREAK),"Bool"))&&null==t||t},set:function(t){this.set(o.PROPERTY_LINEBREAK,t)}},setBacking:function(t,e){this.notifyBefore(),this.set(o.PROPERTY_BACKING,t),this.set(o.PROPERTY_BACKING_ARTWORK_ID,e),this.notifyAfter()},colorTableSupportsRole:function(t){return t==u.ColorRole.FieldPrimary||t==u.ColorRole.FieldSecondary||t==u.ColorRole.Border||t==u.ColorRole.Shadow},layoutType:{get:function(){if(this.layout==r.LockupLayout.FitJustified)return"justified";if(this.layout==r.LockupLayout.Standard)switch(this.alignment){case 0:return"left";case 2:return"center";case 1:return"right";default:return"error"}return this.layout==r.LockupLayout.Path?"path":this.layout==r.LockupLayout.LetterGrid?"letter-grid":"error"}},backingShapeID:{get:function(){return this.backing==r.LockupBacking.None?"none":this.backing==r.LockupBacking.Rows?"rows":this.backing==r.LockupBacking.BannerHorizontal||this.backing==r.LockupBacking.BannerVertical||this.backing==r.LockupBacking.Banner?"banner":this.backing==r.LockupBacking.SVGBackground?null!=this.backingArtworkID?this.backingArtworkID:"error":this.backing==r.LockupBacking.Knockout?"knockout":"error"}},textLookAsString:{get:function(){var t;switch(this.textLook){case 1:t="knockoutOnly";break;case 2:t="knockoutAndOutline";break;case 3:t="outlineOnly";break;case 4:t="fillAndOutline";break;case 5:t="fillAndOutline2";break;case 7:t="shadow";break;case 8:t="shadowAndOutline";break;case 9:t="knockoutAndShadow";break;case 11:t="knockoutShadowOutline";break;case 10:t="shadowOutlineTransparentText";break;case 0:t="fill";break;case-1:t="unset";break;case-2:t="skip";break;default:t="unknown value"}return t}},currentTextOpacity:{get:function(){return this.textOpacity!=d.FormaStyle.OPACITY_UNSET?this.textOpacity:d.FormaStyle.OPACITY_DEFAULT}},currentBackingOpacity:{get:function(){return this.backingOpacity!=d.FormaStyle.OPACITY_UNSET?this.backingOpacity:d.FormaStyle.OPACITY_DEFAULT}},textBacked:{get:function(){if(this.backing==r.LockupBacking.Box||this.backing==r.LockupBacking.Rows||this.backing==r.LockupBacking.BannerVertical||this.backing==r.LockupBacking.BannerHorizontal||this.textLook==r.LockupTextLook.ShadowAndOutline&&this.strokeWeight>.15)return!0;if(this.backing==r.LockupBacking.SVGBackground){if(null!=this.backingArtworkID&&R.ShapeLibrary.FilledBackingShapes.includes(this.backingArtworkID))return!0;s.CoreAssertDebugOnly.isTrue(null!=this.backingArtworkID,"textBacked has nil backingArtworkID but backing is SVGBackground",void 0,"LockupStyle","LockupStyle.swift",985)}return!1}},shapeSupportsKnockout:{get:function(){if(this.backing==r.LockupBacking.Box||this.backing==r.LockupBacking.Rows||this.backing==r.LockupBacking.BannerVertical||this.backing==r.LockupBacking.BannerHorizontal||this.backing==r.LockupBacking.Knockout)return!0;if(this.backing==r.LockupBacking.SVGBackground){if(null!=this.backingArtworkID&&R.ShapeLibrary.FilledBackingShapes.includes(this.backingArtworkID))return!0;s.CoreAssertDebugOnly.isTrue(null!=this.backingArtworkID,"shapeSupportsKnockout has nil backingArtworkID but backing is SVGBackground",void 0,"LockupStyle","LockupStyle.swift",1003)}return!1}},secondaryColorVisible:{get:function(){return this.backing!=r.LockupBacking.None||o.isOutlineLook(this.textLook)||this.textLook==r.LockupTextLook.Shadow}},asString:{get:function(){var t="";return null!=this.font&&(t+="Font: "+this.font.fontData.postScriptName+"\n"),(t+=this.colors.asString)+" Spacing "+this.spacing+" \n Backing  "+this.backing+" \n Layout  "+this.layout+" "}},isEqual:function(t){return!1},getCompressedStringOfFeatures:function(){var t=a.clone(this.state.allProperties);return this.compressDictToString(t,"{")},compressDictToString:function(t,e){for(var i=e,n=[d.FormaStyle.PROPERTY_ADJUSTMENTS,d.FormaStyle.PROPERTY_KIND],r=[o.PROPERTY_FONTS,d.FormaStyle.PROPERTY_COLORS],l=a.iter(a.keys(t));!l.done;l.next()){var s=l.value;if(!n.includes(s)){var u,c=this.getSmallKey(s);if(r.includes(s))i=this.handleSpecialCases(t,s,c,i);else if(u=a.opt(t[s],(function(t){return t.dictionaryValue})))i+=c+"{|",i=this.compressDictToString(u,i);else{if(a.opt(t[s],(function(t){return t.arrayValue})))continue;var h;if(null!=(h=a.opt(t[s],(function(t){return t.doubleValue})))){var f=E.MathUtils.roundDoubleToString(h,4);i+=c+":"+a.toString(f)+"|"}else null!=(f=a.opt(t[s],(function(t){return t.stringValue})))&&(i+=c+":"+f+"|")}}}return i+="}"},handleSpecialCases:function(t,e,i,n){var r,l,s=n;return e==o.PROPERTY_FONTS&&(r=a.as(this.get(o.PROPERTY_FONTS),["Array",P.TheoFont]))&&(s=this.compressFonts(r,i,s)),e==d.FormaStyle.PROPERTY_COLORS&&(l=a.as(this.get(d.FormaStyle.PROPERTY_COLORS),u.ColorTable))&&(s=this.compressColorTable(l,i,s)),s},getSmallKey:function(t){var e=t.length;return e>4?t.substr(0,2)+t.substr(e-2,2):t},compressFonts:function(t,e,i){for(var o=i+e+":",n=a.iter(a.range(0,t.length,!1));!n.done;n.next()){var r=n.value,l=t[r].fontData.postScriptName;r<t.length-1?o+=l+",":o+=l+"|"}return o},compressColorTable:function(t,e,i){var o=this,n=i+e+":",r=!1;return t.forEachColor((function(t,e,i){var l;if(l=i||a.opt(o.colorLibrary.color(e),(function(t){return t.rgbColor}))){var s="";t==u.ColorRole.FieldPrimary?s="prim":t==u.ColorRole.FieldSecondary?s="seco":t==u.ColorRole.Border?s="bord":t==u.ColorRole.Shadow&&(s="shad"),r&&(n+=","),n+=s+"#"+l.rgbHex,r=!0}})),r&&(n+="|"),n}}}),o)},tQF8:function(t,e,i){var o,n=e,r=i("oAGj"),a=i("gXiO"),l=i("fNpk"),s=i("3DEm"),u=i("oKlP"),c=i("sIWg");n.GridCellHandle=r.defineEnum("GridCellHandle",{Left:0,Right:1,Top:2,Bottom:3,TopLeft:4,TopRight:5,BottomLeft:6,BottomRight:7}),n.GridCell=(o=function(t,e,i){void 0===e&&(e=null),void 0===i&&(i=1),this.region_=t,this.colorID_=e,this.opacity_=i,a.CoreObject.call(this)},r.defineClass({name:"GridCell",ctor:o,superName:"CoreObject",statics:{BOUNDS_ACCURACY:.001,positionForHandle:function(t){return t==n.GridCellHandle.Top?new u.TheoPoint(.5,0):t==n.GridCellHandle.Bottom?new u.TheoPoint(.5,1):t==n.GridCellHandle.Left?new u.TheoPoint(0,.5):t==n.GridCellHandle.Right?new u.TheoPoint(1,.5):t==n.GridCellHandle.TopLeft?new u.TheoPoint(0,0):t==n.GridCellHandle.TopRight?new u.TheoPoint(1,0):t==n.GridCellHandle.BottomLeft?new u.TheoPoint(0,1):t==n.GridCellHandle.BottomRight?new u.TheoPoint(1,1):(l.LegacyCoreAssert.fail("Incorrect handle type",void 0,"GridCell.positionForHandle","GridCell.swift",170),new u.TheoPoint(.5,.5))},handlePositions:function(){return[o.positionForHandle(n.GridCellHandle.Top),o.positionForHandle(n.GridCellHandle.Bottom),o.positionForHandle(n.GridCellHandle.Left),o.positionForHandle(n.GridCellHandle.Right)]},handles:function(){return[n.GridCellHandle.Top,n.GridCellHandle.Bottom,n.GridCellHandle.Left,n.GridCellHandle.Right]},cornerHandles:function(){return[n.GridCellHandle.TopLeft,n.GridCellHandle.TopRight,n.GridCellHandle.BottomLeft,n.GridCellHandle.BottomRight]},handleForPosition:function(t){for(var e=r.iter(o.handles());!e.done;e.next()){var i=e.value;if(t.distanceTo(o.positionForHandle(i))<.001)return i}return l.LegacyCoreAssert.fail("Incorrect handle position",void 0,"GridCell.handleForPosition","GridCell.swift",202),null},fromArray:function(t){if(0==t.length||t.length>3)return l.LegacyCoreAssert.fail("GridCell.fromArray: Array has incorrect # of elements",void 0,"GridCell.fromArray","GridCell.swift",214),null;var e;if(e=c.TheoRect.decodeJson(r.as(t[0],"AnyObject"))){var i=t[1],n=null;return t.length>2&&(n=r.toString(t[2])),new o(e,n,i)}return null},decodeJson:function(t){return null==t?null:r.is(t,["Array","Any"])?o.fromArray(t):(l.LegacyCoreAssert.fail("GridCell: Not an array",void 0,"GridCell.decodeJson","GridCell.swift",246),null)}},props:{bounds:{get:function(){return this.region_},set:function(t){this.region_=t}},colorID:{get:function(){return this.colorID_},set:function(t){this.colorID_=t}},opacity:{get:function(){return this.opacity_},set:function(t){this.opacity_=t}},clone:function(){return new o(this.region_,this.colorID_,this.opacity_)},flip:function(){return new o(new c.TheoRect(this.bounds.minY,this.bounds.minX,this.bounds.maxY,this.bounds.maxX),this.colorID_,this.opacity_)},copyTo:function(t,e,i){var n,r;return void 0===t&&(t=null),void 0===e&&(e=null),void 0===i&&(i=null),new o(t||this.region_,(n=e)||null!=n?n:this.colorID_,(r=i)||null!=r?r:this.opacity_)},symmetricWith:function(t){var e=this.region_,i=t.bounds;if(e.equal(i))return!1;var o=new u.TheoPoint(1-e.center.x,e.center.y),n=new u.TheoPoint(e.center.x,1-e.center.y);return o.distanceTo(i.center)<.01||n.distanceTo(i.center)<.01},mergeableWith:function(t){var e=this.region_.unionWith(t.bounds);return!(this.region_.L1Distance(t.bounds)>.001)&&s.MathUtils.absDouble(e.area-(this.bounds.area+t.bounds.area))<.01},mergeWith:function(t){return l.LegacyCoreAssert.isTrue(this.mergeableWith(t),"cell must be adjacent",void 0,"GridCell.mergeWith","GridCell.swift",140),this.copyTo(this.region_.unionWith(t.bounds))},handlePosition:function(t){return this.region_.eval(o.positionForHandle(t))},encode:function(){return l.LegacyCoreAssert.fail("GridCell: Use encodeJson(), not encode()",void 0,"GridCell.encode","GridCell.swift",251),[]},encodeJson:function(){var t=[];return t.push(this.region_.encodeJson()),l.LegacyCoreAssert.isFalse(isNaN(this.opacity),"Can't persist NaN opacity value",void 0,"GridCell.encodeJson","GridCell.swift",259),t.push(r.as(this.opacity,"AnyObject")),null!=this.colorID_&&t.push(r.as(this.colorID_,"AnyObject")),r.as(t,"AnyObject")},isEqual:function(t){var e;return!!(e=r.as(t,o))&&this.bounds.equalWithAccuracy(e.bounds,o.BOUNDS_ACCURACY)&&this.colorID==e.colorID&&this.opacity==e.opacity}}}),o),n._equality_GridCell_GridCell=function(t,e){return t.isEqual(e)}},u2iI:function(t,e,i){var o,n=e,r=i("oAGj"),a=i("ascj"),l=i("QbzR"),s=i("Zifs");n.ShapeStyle=(o=function(){this.deprecatedPrimaryColor=null},r.defineClass({name:"ShapeStyle",ctor:o,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"ShapeStyle"}},KIND:{get:function(){return"ShapeStyle"}},factory:{get:function(){return function(t,e,i,n){return o.init_866e(i,t)}}},createDefault:function(){return o.init_d41d()},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){var i;r.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_866e,t,e),(i=r.as(this.get(l.FormaStyle.PROPERTY_COLORS_DEPRECATED),["Array",s.SolidColor]))&&i.length>=1&&(this.deprecatedPrimaryColor=i[0])},init_d41d:function(){r.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_5afe,o.KIND,l.FormaStyle.OPACITY_DEFAULT,a.ColorTable.createDefault())},willCommitState:function(){null!=this.deprecatedPrimaryColor&&(this.colors.fieldPrimary=this.deprecatedPrimaryColor,this.deprecatedPrimaryColor=null),l.FormaStyle.prototype.willCommitState.call(this)},className:{get:function(){return o.SCHEMA_CLASS_NAME}},colorTableSupportsRole:function(t){return t==a.ColorRole.FieldPrimary}}}),o)},uWOl:function(t,e,i){var o,n=e,r=i("oAGj"),a=i("ascj"),l=i("QbzR"),s=i("Qlvz"),u=i("SDdr"),c=i("Zifs");n.ImageStyle=(o=function(){this.firstCommit=!1},r.defineClass({name:"ImageStyle",ctor:o,superName:"FormaStyle",statics:{SCHEMA_CLASS_NAME:{get:function(){return"ImageStyle"}},KIND:{get:function(){return"ImageStyle"}},DEFAULT_NAME:"None",PROPERTY_NAME:"name",PROPERTY_FILTER_NAME_DEPRECATED:"filter-name",NAME_NONE:"None",NAME_GREYSCALE:"Greyscale",NAME_DARKEN:"Darken",NAME_BLUR:"Blur",NAME_OVERLAY:"Overlay",NAME_MULTIPLY:"Multiply",NAME_BLEND:"Blend",NAME_DUOTONE:"DuoTone",NAME_SCREEN:"Screen",NAME_NEWDUOTONE:"NewDuoTone",factory:{get:function(){return function(t,e,i,n){return o.init_866e(i,t)}}},makeSafeName:function(t){if(t.includes("Overlay")||t.includes("DuoTone")||t.includes("Multiply")){var e=t.substr(t.length-1);if(e>="0"&&e<="9")return t.substr(0,t.length-1)}return t},createDefault:function(){return o.init_1265(o.DEFAULT_NAME,a.ColorTable.createDefault())},_implements:function(t){return"IDBObject"==t||"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{init_866e:function(t,e){this.firstCommit=!0,r.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_866e,t,e)},init_a6fe:function(t,e,i,n){void 0===n&&(n=null);var a,s={name:o.makeSafeName(e)};if(a=n)for(var u=r.iter(a);!u.done;u.next()){var c=u.key,h=u.value;s[c]=h}r.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_5afe,t,l.FormaStyle.OPACITY_DEFAULT,i,null,null,s)},init_1265:function(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null);var a,u={name:o.makeSafeName(t)};if(a=n)for(var c=r.iter(a);!c.done;c.next()){var h=c.key,f=c.value;u[h]=f}r.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_5afe,o.KIND,l.FormaStyle.OPACITY_DEFAULT,e,i,s.ImageAdjustments.createDefault(),u)},init_dd5d:function(t,e){r.super_init(this,l.FormaStyle,l.FormaStyle.prototype.init_dd5d,t,e)},colors_:{get:function(){var t=this,e=l.FormaStyle._getters.colors_.call(this);return r.opt(e,(function(t){return null==t.library}))&&r.opt(e,(function(e){return e.setColorLibraryWithoutSubscribing(t.colorLibrary)})),e},set:function(t){l.FormaStyle._setters.colors_.call(this,t)}},clone:function(){var t,e=this,i=l.FormaStyle.prototype.clone.call(this);return(t=r.as(r.opt(i,(function(t){return t.filter})),u.AlphaBlendFilter))&&(r.opt(t.filter1,(function(t){return t.style=r.opt(r.opt(r.as(e.filter,u.AlphaBlendFilter),(function(t){return t.filter1})),(function(t){return t.style}))})),r.opt(t.filter2,(function(t){return t.style=r.opt(r.opt(r.as(e.filter,u.AlphaBlendFilter),(function(t){return t.filter2})),(function(t){return t.style}))}))),i},willCommitState:function(){this.firstCommit&&(this.ensureStyleName(),this.updateDeprecatedColorTable(),this.firstCommit=!1),l.FormaStyle.prototype.willCommitState.call(this)},ensureStyleName:function(){var t,e;if(null!=(e=r.as(this.get(o.PROPERTY_NAME),"String"))){var i=e;if(e.includes(o.NAME_OVERLAY)||e.includes(o.NAME_DUOTONE)||e.includes(o.NAME_MULTIPLY)){var n=e.substr(e.length-1);n>="0"&&n<="9"&&(i=e.substr(0,e.length-1))}i!=e&&(this.name=i)}else{var a=r.opt(this.filter,(function(t){return t.name})),l=r.as(this.get(o.PROPERTY_FILTER_NAME_DEPRECATED),"String"),s=(t=l)||null!=t?t:a;if(null!=s)switch(s){case"Greyscale":this.name="Greyscale";break;case"GreyscaleDark":this.name="Darken";break;case"Monochrome":this.name="Greyscale";break;case"Duotone":this.name="DuoTone1";break;case"DesaturateMultiply":this.name="Multiply1";break;case"ReduceContrastOverlay":this.name="Overlay1";break;default:this.name=s}if(null!=l)switch(l){case"Greyscale":this.filter=u.CompositeFilter.init_514f(this,"Greyscale",1,"none",!0);break;case"GreyscaleDark":this.colors.fieldPrimary=c.SolidColor.BLACK,this.filter=u.CompositeFilter.init_514f(this,"Darken",.5,"normal",!1);break;case"Monochrome":this.filter=u.CompositeFilter.init_514f(this,"DesaturateMultiply",1,"multiply",!0,void 0,"offset",.5,1);break;case"Duotone":this.filter=u.CompositeFilter.init_514f(this,"Duotone",1,"normal",void 0,void 0,"duotone");break;case"DesaturateMultiply":this.filter=u.CompositeFilter.init_514f(this,"DesaturateMultiply",1,"multiply",!0,void 0,"offset",.5,1);break;case"ReduceContrastOverlay":this.filter=u.CompositeFilter.init_514f(this,"ReduceContrastOverlay",.5,"overlay",!1,.5,"offset",1,1);break;case"FillColor":this.filter=u.CompositeFilter.init_514f(this,"Normal",.5,"normal",!1);break;default:this.filter=null}}},updateDeprecatedColorTable:function(){var t;(t=r.as(this.get(l.FormaStyle.PROPERTY_COLORS_DEPRECATED),["Array",c.SolidColor]))&&(t.length>=1&&(this.colors.fieldPrimary=t[0]),t.length>=2&&(this.colors.fieldSecondary=t[1]))},className:{get:function(){return o.SCHEMA_CLASS_NAME}},name:{get:function(){var t;return(t=r.as(this.get(o.PROPERTY_NAME),"String"))||null!=t?t:o.DEFAULT_NAME},set:function(t){this.set(o.PROPERTY_NAME,t)}},isColorizedFilter:{get:function(){return!["None","Greyscale","Blur","Darken"].includes(this.name)}},isColorEditable:{get:function(){return this.name==o.NAME_NEWDUOTONE}},isMixableFilter:{get:function(){return this.name==o.NAME_DARKEN}},isShuffleable:{get:function(){return this.isColorizedFilter||this.isMixableFilter}},colorTableSupportsRole:function(t){return t==a.ColorRole.FieldPrimary||t==a.ColorRole.FieldSecondary},equals:function(t){if(null==this.filter&&null!=t.filter||null!=this.filter&&null==t.filter)return!1;var e=null==this.filter&&null==t.filter,i=e||this.filter.equals(t.filter),o=e||this.colors.equalTo(t.colors),n=r.opt(this.adjustments,(function(e){return e.equals(t.adjustments)}));return i&&o&&n},description:{get:function(){if(null!=this.filter&&this.filter instanceof u.CompositeFilter){var t=this.filter,e="Style: "+this.name+", Op: "+t.colorOperation+", Filter: "+t.name,i=", params: (m="+r.toString(t.mix)+", c="+r.toString(t.contrast)+", b="+r.toString(t.blurRadius)+")";return null!=this.colors.fieldPrimary?e+i+this.colors.fieldPrimary.rgbHex:e+i}return this.name}}}}),o)},uZuM:function(t,e,i){var o,n,r=e,a=i("oAGj"),l=i("QbzR"),s=i("JEzR"),u=i("4mVB"),c=i("iCxV"),h=i("uWOl"),f=i("c+uM"),d=i("2ALn"),_=i("u2iI"),T=i("LCGV"),p=i("QTen");r.FormaStyleFactory=(o=function(){this.lookup_={},this.lookup_[l.FormaStyle.KIND]=function(){return l.FormaStyle.createDefault()},this.lookup_[h.ImageStyle.KIND]=function(){return h.ImageStyle.createDefault()},this.lookup_[T.TextStyle.KIND]=function(){return T.TextStyle.createDefault()},this.lookup_[_.ShapeStyle.KIND]=function(){return _.ShapeStyle.createDefault()},this.lookup_[d.RootStyle.KIND]=function(){return d.RootStyle.createDefault()},this.lookup_[f.LockupStyle.KIND]=function(){return f.LockupStyle.createDefault()},this.lookup_[p.VideoStyle.KIND]=function(){return p.VideoStyle.createDefault()},this.lookup_[u.GridStyle.KIND]=function(){return u.GridStyle.createDefault()},this.lookup_[s.FrameStyle.KIND]=function(){return s.FrameStyle.createDefault()}},n={},a.defineClass({name:"FormaStyleFactory",ctor:o,superName:"CoreObject",statics:{instance:{get:function(){return void 0===n.instance&&(n.instance=new o),n.instance}}},props:{create:function(t){var e;return null!=(e=this.lookup_[t])?e():(a.opt(c.Host.logging,(function(e){return e.warning("no constructor for forma style kind = "+t)})),null)}}}),o)},yumk:function(t,e,i){var o,n,r=e,a=i("oAGj"),l=i("iCxV"),s=i("SDdr");r.ImageFilterFactory=(o=function(){this.lookup_={},this.lookup_[s.ImageFilter.KIND]=function(){return s.ImageFilter.createDefault()},this.lookup_[s.AlphaBlendFilter.KIND]=function(){return s.AlphaBlendFilter.createDefault()},this.lookup_[s.CompositeFilter.KIND]=function(){return s.CompositeFilter.createDefault()}},n={},a.defineClass({name:"ImageFilterFactory",ctor:o,superName:"CoreObject",statics:{instance:{get:function(){return void 0===n.instance&&(n.instance=new o),n.instance}}},props:{create:function(t){var e;return null!=(e=this.lookup_[t])?e():(a.opt(l.Host.logging,(function(e){return e.warning("no constructor for filter kind = "+t)})),null)}}}),o)}}]);
//# sourceMappingURL=vendors_npm_spark_62c9d4d4-e69085b1.js.map