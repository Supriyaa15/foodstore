(window.webpackJsonptheoWebApp=window.webpackJsonptheoWebApp||[]).push([[15],{"+IES":function(e,t,o){var n=t,r=o("oAGj");n.MotionLogic=r.defineProtocol("MotionLogic",{apply:"(Forma, Array<KeyFrame>, Dictionary<String>) -> Void"})},"3/rh":function(e,t,o){var n,r=t,i=o("oAGj"),a=o("4/a+");r.MotionEntryFadeIn=(n=function(){this.srcId="MotionSrcFadeIn",this.logic=new a.MotionLogicDur,this.args={st:.1,dur:.9}},i.defineClass({name:"MotionEntryFadeIn",ctor:n,statics:{_implements:function(e){return"MotionEntry"==e}}}),n)},"3OP7":function(e,t,o){var n,r=t,i=o("oAGj"),a=o("gXiO"),s=o("aS4X"),c=o("uMFj"),l=o("iCxV"),u=o("8vXU"),d=o("muPB"),p=o("C4JV"),h=o("rxGp");r.DocumentPersistenceFactory=(n=function(){a.CoreObject.call(this)},i.defineClass({name:"DocumentPersistenceFactory",ctor:n,superName:"CoreObject",statics:{THEO_PROPERTY_NAMESPACE:"theo#",namespacedPropertyName:function(e){return e.includes("#")?e:n.THEO_PROPERTY_NAMESPACE+e},usesJsonDocumentEncoding:function(e){return!!e.getComponentWithAbsolutePath(p.JSON_CONTENT_PATH_DCX2D)},encoderFor:function(e){return l.Host.persistUtils.useJsonDocumentEncoding()?(l.Host.logging.logForCategory(h.LogCategories.kDocPersistenceFactory,"Using JSONDocumentEncoder",u.LogLevelEnum.INFO_LEVEL),new p.JSONDocumentEncoder(e)):(l.Host.logging.logForCategory(h.LogCategories.kDocPersistenceFactory,"Using DCXDocumentEncoder",u.LogLevelEnum.INFO_LEVEL),new c.DCXDocumentEncoder(e))},decoderFor:function(e){return n.usesJsonDocumentEncoding(e)?(l.Host.logging.logForCategory(h.LogCategories.kDocPersistenceFactory,"Using JSONDocumentDecoder",u.LogLevelEnum.INFO_LEVEL),new d.JSONDocumentDecoder(e)):(l.Host.logging.logForCategory(h.LogCategories.kDocPersistenceFactory,"Using DCXDocumentDecoder",u.LogLevelEnum.INFO_LEVEL),new s.DCXDocumentDecoder(e))}}}),n)},"3hwA":function(e,t,o){var n=t,r=o("oAGj");n.IImportDataObject=r.defineProtocol("IImportDataObject",{id:"String",type:"String",name:"String",path:"String",optionalStringProperty:"(String) -> String",stringProperty:"(String, String) -> String",numberProperty:"(String, Double) -> Double",intProperty:"(String, Integer) -> Integer",booleanProperty:"(String, Boolean) -> Boolean",optionalBooleanProperty:"(String) -> Boolean",property:"(String) -> AnyObject",forEachChild:"((IImportDataObject, Integer) -> Void) -> Void",forEachComponent:"((IImportDataComponent, Integer) -> Void) -> Void"}),n.IMissingFontHelper=r.defineProtocol("IMissingFontHelper",{recordMissingFont:"(String) -> Void"}),n.IImportDataComponent=r.defineProtocol("IImportDataComponent",{id:"String",name:"String",path:"String",mimeType:"String",etag:"String",url:"String"})},"4/a+":function(e,t,o){var n,r=t,i=o("oAGj"),a=o("URxh"),s=o("iCxV"),c=o("RkYL");r.MotionLogicDur=(n=function(){},i.defineClass({name:"MotionLogicDur",ctor:n,statics:{_implements:function(e){return"MotionLogic"==e}},props:{apply:function(e,t,o){var n,r,l,u,d=(n=i.as(o.st,"Double"))||null!=n?n:0,p=d+((r=i.as(o.dur,"Double"))||null!=r?r:1),h=[];if(p>0&&t.length>0){h=[];var f=t[0],m=t[t.length-1];d!=f.time.seconds&&h.push(f),h.push(new a.KeyFrame(c.TheoTime.fromSeconds(d),f.timingFunction,f.placement,f.bounds,f.style)),h.push(new a.KeyFrame(c.TheoTime.fromSeconds(p),m.timingFunction,m.placement,m.bounds,m.style))}(l=e.animation)?l.keyFrames=h.concat():i.opt(s.Host.logging,(function(e){return e.warning("Missing animation key-frame array")})),(u=i.opt(e.animation,(function(e){return e.endTime})))&&u.seconds<p&&(e.animation.endTime=c.TheoTime.fromSeconds(p))}}}),n)},"6azk":function(e,t,o){var n,r,i,a=t,s=o("oAGj"),c=o("gXiO"),l=o("WF+G"),u=o("ZhwN"),d=o("fNpk");a.MiniDocumentBranch=(n=function(e){this.root_=new a.MiniDocumentNode(e,null)},s.defineClass({name:"MiniDocumentBranch",ctor:n,superName:"CoreObject",statics:{_implements:function(e){return"HostDocumentBranch"==e}},props:{root:{get:function(){return this.root_}},id:{get:function(){return this.root.nodeId}},allComponents:{get:function(){var e=[];return this.root_.findComponent((function(t){return e.push(t),!1})),e}},getValue:function(e){return this.root_.getValue(e)},setValue:function(e,t){this.root.setValue(e,t)},appendNode:function(e,t,o){return(o||this.root_).appendNode(e,t)},removeNode:function(e){this.root_.removeNode(e)},getNodeWithAbsolutePath:function(e){return this.root_.find((function(t){return t.getAbsolutePath().asString==e}))},getChildrenOfNode:function(e){return e.children},getComponentsOfNode:function(e){return e.components},getComponentWithId:function(e){return this.root_.findComponent((function(t){return t.componentId==e}))},getPathForComponent:function(e){return e.sourceFile},getComponentWithAbsolutePath:function(e){return this.root_.findComponent((function(t){return t.absolutePath.asString==e}))},addComponent:function(e,t,o,n,r,i,a,s,c){return i.addComponent(e,t,o,n,r,a)},moveComponent:function(e,t){return t.moveComponent(e)},updateComponent:function(e,t,o){var n;return(n=s.as(e,a.MiniDocumentComponent))?(null!=t&&(n.sourceFile=t),n):(d.LegacyCoreAssert.fail("Not a Core component",void 0,"MiniDocumentBranch.updateComponent","MiniDocumentBranch.swift",97),null)},transferEncodingTo:function(e){this.root_.transferEncodingTo(e);for(var t=s.iter(this.root_.components);!t.done;t.next()){var o=t.value;e.appendComponent(o.componentId,o.sourceFile,o.type)}}}}),n),a.MiniDocumentNode=(r=function(e,t){var o;this.parent_=null,this.props_={},this.children_=[],this.components_=[],c.CoreObject.call(this),this.setValue("id",s.as((o=e)||null!=o?o:u.GUIDUtils.makeGUID(),"AnyObject")),this.path=t},s.defineClass({name:"MiniDocumentNode",ctor:r,superName:"CoreObject",statics:{_implements:function(e){return"HostDocumentNode"==e}},props:{path:{get:function(){return s.as(this.props_.path,"String")},set:function(e){null==e?s.removeKey(this.props_,"path"):this.props_.path=s.as(e,"AnyObject")}},nodeId:{get:function(){var e;return(e=s.as(this.props_.id,"String"))||null!=e?e:""}},getValue:function(e){return this.props_[e]},setValue:function(e,t){null==t?s.removeKey(this.props_,e):this.props_[e]=t},removeValue:function(e){s.removeKey(this.props_,e)},appendNode:function(e,t){var o=new r(e,t);return this.children_.push(o),o.parent_=this,o},removeNode:function(e){var t;(t=s.as(e,r))?t.parent_!==this?d.LegacyCoreAssert.fail("Can't remove a non-child node",void 0,"MiniDocumentNode.removeNode","MiniDocumentBranch.swift",167):(s.remove(this.children_,t),t.parent_=null):d.LegacyCoreAssert.fail("Not a Core node",void 0,"MiniDocumentNode.removeNode","MiniDocumentBranch.swift",173)},children:{get:function(){return this.children_}},components:{get:function(){return this.components_}},addComponent:function(e,t,o,n,r,i){var s=new a.MiniDocumentComponent(e,t,o,n,r,i);return s.node=this,this.components_.push(s),s},moveComponent:function(e){var t,o;return(t=s.as(e,a.MiniDocumentComponent))?((o=t.node)&&s.remove(o.components_,t),this.components_.push(t),t.node=this,t):(d.LegacyCoreAssert.fail("Not a Core component",void 0,"MiniDocumentNode.moveComponent","MiniDocumentBranch.swift",206),null)},getAbsolutePath:function(){var e=s.opt(this.parent_,(function(e){return e.getAbsolutePath()}))||l.CorePath.ROOT;return null==this.path?e:e.appendPart(this.path)},find:function(e){if(e(this))return this;for(var t=s.iter(this.children);!t.done;t.next()){var o;if(o=t.value.find(e))return o}return null},findComponent:function(e){for(var t=s.iter(this.components);!t.done;t.next()){var o=t.value;if(e(o))return o}for(var n=s.iter(this.children);!n.done;n.next()){var r;if(r=n.value.findComponent(e))return r}return null},transferEncodingTo:function(e){for(var t=s.iter(this.props_);!t.done;t.next()){var o=t.key,n=t.value;e.setManifestProperty(o,n,!1)}for(var r=s.iter(this.children);!r.done;r.next()){var i=r.value,a=e.findChild(i.path)||e.appendChild(i.nodeId);i.transferEncodingTo(a)}}}}),r),a.MiniDocumentComponent=(i=function(e,t,o,n,r,i){var a;this.node=null,this.componentId="",this.name=null,this.etag=null,this.relationship=null,this.name=e,this.componentId=(a=t)||null!=a?a:u.GUIDUtils.makeGUID(),this.type=o,this.relationship=n,this.path=r,this.sourceFile=i,c.CoreObject.call(this)},s.defineClass({name:"MiniDocumentComponent",ctor:i,superName:"CoreObject",statics:{_implements:function(e){return"HostDocumentComponent"==e}},props:{absolutePath:{get:function(){var e=s.opt(this.node,(function(e){return e.getAbsolutePath()}))||l.CorePath.ROOT;return null!=this.path&&(e=e.appendPart(this.path)),e}},mutableCopy:{get:function(){return this}},setValue:function(e,t){}}}),i)},"7EVG":function(e,t,o){var n,r=t,i=o("oAGj"),a=o("gXiO");r.WatermarkFacade=(n=function(){a.CoreObject.call(this)},i.defineClass({name:"WatermarkFacade",ctor:n,superName:"CoreObject",statics:{setWatermark:function(e,t){t.watermarkEnabled=e},getWatermark:function(e){return e.watermarkEnabled}}}),n)},"95jH":function(e,t,o){var n,r=t,i=o("oAGj"),a=o("ascj"),s=o("URxh"),c=o("iCxV"),l=o("K17h"),u=o("RkYL");r.MotionLogicStacked=(n=function(){},i.defineClass({name:"MotionLogicStacked",ctor:n,statics:{_implements:function(e){return"MotionLogic"==e}},props:{updateColorTable:function(e,t){var o=t.style.colors.clone();i.opt(e.style,(function(e){return e.colors.setColor(a.ColorRole.FieldPrimary,o.fieldPrimary)})),i.opt(e.style,(function(e){return e.colors.setColor(a.ColorRole.FieldSecondary,o.fieldSecondary)}))},updateFormaAnim:function(e,t,o,n,r){var a,c=[],l=u.TheoTime.fromSeconds(t),d=u.TheoTime.fromSeconds(o);if(r.length>0){var p=r[0];this.updateColorTable(p,e),l.value>0&&c.push(new s.KeyFrame(u.TheoTime.Zero,p.timingFunction,p.placement,p.bounds,i.opt(p.style,(function(e){return e.clone()})))),c.push(new s.KeyFrame(l,p.timingFunction,p.placement,p.bounds,i.opt(p.style,(function(e){return e.clone()}))))}r.length>1&&(p=r[1],this.updateColorTable(p,e),c.push(new s.KeyFrame(d,p.timingFunction,p.placement,p.bounds,i.opt(p.style,(function(e){return e.clone()}))))),(a=e.animation)&&(a.startTime=u.TheoTime.Zero,a.endTime=d,a.keyFrames=c.concat())},apply:function(e,t,o){var n,r,a=(n=i.as(o.lineDur,"Double"))||null!=n?n:1,s=(r=i.as(o.endPadDur,"Double"))||null!=r?r:0,d=i.clone(l.MotionUtils.findTextLines(e)),p=d.length,h=i.toDouble(p)*a+s;if(t.length<8)i.opt(c.Host.logging,(function(e){return e.warning("Less than required key-frames for Motion-Logic-Stacked")}));else{var f=t;if(p>0){var m=0,g=i.clone(d.shift()),y=null;d.length>0&&(y=i.clone(d.pop()));for(var T=f.slice(0,2),C=i.iter(g);!C.done;C.next()){var v=C.value;this.updateFormaAnim(v,m,m+a,h,T)}m+=a;for(var S=i.iter(i.toSequence(d));!S.done;S.next()){var P=S.value,E=P.offset,N=P.element;if(0==E%2)for(var _=f.slice(2,4),A=i.iter(N);!A.done;A.next())v=A.value,this.updateFormaAnim(v,m,m+a,h,_);else for(var L=f.slice(4,6),O=i.iter(N);!O.done;O.next())v=O.value,this.updateFormaAnim(v,m,m+a,h,L);m+=a}if(null!=y)for(var k=f.slice(6,8),F=i.iter(y);!F.done;F.next())v=F.value,this.updateFormaAnim(v,m,m+a,h,k);m+=a}}i.opt(e.animation,(function(e){return e.endTime=u.TheoTime.fromSeconds(h)}))}}}),n)},"9eTw":function(e,t,o){var n=t,r=o("oAGj");n.DocumentUnitsEnum=r.defineEnum("DocumentUnitsEnum",{PIXEL:"pixel",POINT:"point",INCH:"inch",MM:"mm",CM:"cm"}),n.IExportDataObject=r.defineProtocol("IExportDataObject",{setPath:"(String) -> Void",setName:"(String) -> Void",setType:"(String) -> Void",setProperty:"(String, AnyObject) -> Void",setOptionalStringProperty:"(String, String) -> Void",setStringProperty:"(String, String) -> Void",setNumberProperty:"(String, Double) -> Void",setIntProperty:"(String, Integer) -> Void",setBooleanProperty:"(String, Boolean) -> Void",setOptionalBooleanProperty:"(String, Boolean) -> Void",findChild:"(String) -> IExportDataObject",appendChild:"(String) -> IExportDataObject",appendComponent:"(String, String, String) -> Void",setCompositeID:"(String) -> Void",setManifestProperty:"(String, AnyObject, Boolean) -> Void",setDocumentSize:"(TheoSize, String) -> Void"})},BAdM:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("ytEx"),s=o("gXiO"),c=o("iCxV");r.JSONComponentDecoder=(n=function(){},i.defineClass({name:"JSONComponentDecoder",ctor:n,superName:"CoreObject",statics:{_implements:function(e){return"IImportDataComponent"==e}},props:{init_466d:function(e){this.json_=i.clone(e),s.CoreObject.call(this)},init_f390:function(e,t,o,n,r,s){var l={};null!=e&&(l[a.PROPERTY_KEY_ID]=e),null!=t&&(l[a.PROPERTY_KEY_NAME]=t),null!=o&&(l[a.PROPERTY_KEY_PATH]=o),null!=n&&(l[a.PROPERTY_KEY_MIMETYPE]=n),null!=r&&(l[a.PROPERTY_KEY_ETAG]=r),null!=s&&(l[a.PROPERTY_KEY_URL]=s),this.init_466d(l),i.opt(c.Host.logging,(function(r){return r.info("init "+i.toString(e)+" "+i.toString(t)+" "+i.toString(n)+" "+i.toString(o)+" "+i.toString(s))}))},id:{get:function(){return i.as(this.json_[a.PROPERTY_KEY_ID],"String")}},name:{get:function(){return i.as(this.json_[a.PROPERTY_KEY_NAME],"String")}},path:{get:function(){return i.as(this.json_[a.PROPERTY_KEY_PATH],"String")}},mimeType:{get:function(){return i.as(this.json_[a.PROPERTY_KEY_MIMETYPE],"String")}},etag:{get:function(){return i.as(this.json_[a.PROPERTY_KEY_ETAG],"String")}},url:{get:function(){return i.as(this.json_[a.PROPERTY_KEY_URL],"String")}}}}),n)},BQMb:function(e,t,o){var n=t,r=o("oAGj");n.MotionEntry=r.defineProtocol("MotionEntry",{srcId:"String",logic:"MotionLogic",args:"Dictionary<String>"})},C4JV:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("ytEx"),s=o("3OP7"),c=o("iCxV"),l=o("CqFS"),u=o("fNpk"),d=o("9YN4");r.PROPERTY_VALUE_CANVASES="canvases",r.PROPERTY_VALUE_CANVAS="canvas",r.PROPERTY_VALUE_CANVAS1_NAME="page-1",r.PROPERTY_VALUE_ARTBOARD="artboard",r.PROPERTY_VALUE_ARTBOARD1_NAME="artboard-1",i.gvar(r,"CANVASES_PATH",(function(){return"/"+r.PROPERTY_VALUE_CANVASES})),i.gvar(r,"CANVAS1_PATH",(function(){return r.CANVASES_PATH+"/"+r.PROPERTY_VALUE_CANVAS1_NAME})),i.gvar(r,"ARTBOARD1_PATH",(function(){return r.CANVAS1_PATH+"/"+r.PROPERTY_VALUE_ARTBOARD1_NAME})),i.gvar(r,"JSON_CONTENT_PATH_DCX2D",(function(){return r.ARTBOARD1_PATH+"/"+d.TheoDocument.COMPONENT_PATH_CONTENT})),r.PROPERTY_KEY_UNITS="units",r.PROPERTY_KEY_WIDTH="width",r.PROPERTY_KEY_HEIGHT="height",r.PROPERTY_KEY_X="x",r.PROPERTY_KEY_Y="y",i.gvar(r,"PROPERTY_KEY_MINISAVE",(function(){return s.DocumentPersistenceFactory.namespacedPropertyName("minisave")})),r.JSONDocumentEncoder=(n=function(e){this.isMiniSave=!1,this.previouslyUsedJSONDocumentEncoding=s.DocumentPersistenceFactory.usesJsonDocumentEncoding(e),l.JSONNodeEncoder.call(this,e,{},null);var t=[d.TheoDocument.COMPONENT_RELATIONSHIP_DOM,d.TheoDocument.COMPONENT_RELATIONSHIP_METADATA,d.TheoDocument.COMPONENT_RELATIONSHIP_RENDITION,r.PROPERTY_VALUE_CANVASES];this.prepareCompositeForSave(t)},i.defineClass({name:"JSONDocumentEncoder",ctor:n,superName:"JSONNodeEncoder",statics:{_implements:function(e){return"IExportDataObject"==e}},props:{getOrCreateArtboardNode:function(){var e=this.branch_.getNodeWithAbsolutePath(r.ARTBOARD1_PATH);if(null==e){var t=this.branch_.appendNode(null,r.PROPERTY_VALUE_CANVASES,null);i.opt(t,(function(e){return e.setValue(a.PROPERTY_KEY_RELATIONSHIP,i.as(r.PROPERTY_VALUE_CANVASES,"AnyObject"))}));var o=this.branch_.appendNode(null,r.PROPERTY_VALUE_CANVAS1_NAME,t);i.opt(o,(function(e){return e.setValue(a.PROPERTY_KEY_RELATIONSHIP,i.as(r.PROPERTY_VALUE_CANVAS,"AnyObject"))})),e=this.branch_.appendNode(null,r.PROPERTY_VALUE_ARTBOARD1_NAME,o),i.opt(e,(function(e){return e.setValue(a.PROPERTY_KEY_RELATIONSHIP,i.as(r.PROPERTY_VALUE_ARTBOARD,"AnyObject"))})),i.opt(e,(function(e){return e.setValue(a.PROPERTY_KEY_NAME,i.as(r.PROPERTY_VALUE_ARTBOARD1_NAME,"AnyObject"))}))}return e},getPropertyOnNode:function(e){return e==a.PROPERTY_KEY_ID||e==a.PROPERTY_KEY_NAME?i.as(this.branch_.getValue(e),"AnyObject"):l.JSONNodeEncoder.prototype.getPropertyOnNode.call(this,e)},setPropertyOnNode:function(e,t){if(e==a.PROPERTY_KEY_NAME)return this.branch_.setValue(e,t);if(l.JSONNodeEncoder.prototype.setPropertyOnNode.call(this,e,t),!this.previouslyUsedJSONDocumentEncoding)switch(e){case"name":case"type":case"children":break;default:this.branch_.root.removeValue(e)}},setDocumentSize:function(e,t){var o,n=this.getOrCreateArtboardNode();n.setValue(r.PROPERTY_KEY_X,i.as(0,"AnyObject")),n.setValue(r.PROPERTY_KEY_Y,i.as(0,"AnyObject")),n.setValue(r.PROPERTY_KEY_WIDTH,i.as(e.width,"AnyObject")),n.setValue(r.PROPERTY_KEY_HEIGHT,i.as(e.height,"AnyObject")),(o=this.branch_.getNodeWithAbsolutePath(r.CANVAS1_PATH))?o.setValue(r.PROPERTY_KEY_UNITS,i.as(t,"AnyObject")):u.LegacyCoreAssert.fail("expected to find a canvas node",void 0,"JSONDocumentEncoder.setDocumentSize","JSONDocumentEncoder.swift",120)},finish:function(){var e,t=this;l.JSONNodeEncoder.prototype.finish.call(this),this.discardStashedComponents(),this.jsonFile=(e=this.jsonFile)||null!=e?e:i.opt(c.Host.persistUtils,(function(e){return e.writeJsonContentToTempFile(i.as(t.jsonNode_,"AnyObject"))}));var o=this.branch_.getComponentWithAbsolutePath(r.JSON_CONTENT_PATH_DCX2D);if(null!=o)o=this.branch_.updateComponent(o,this.jsonFile,!1);else{var n=this.getOrCreateArtboardNode();o=this.branch_.addComponent(d.TheoDocument.COMPONENT_NAME_DOM,null,d.TheoDocument.COMPONENT_MIME_TYPE_DOCUMENT_JSON,d.TheoDocument.COMPONENT_RELATIONSHIP_DOM,d.TheoDocument.COMPONENT_PATH_CONTENT,n,this.jsonFile,!1,null)}if(null!=o){var a=o.mutableCopy;a.setValue(r.PROPERTY_KEY_MINISAVE,i.as(this.isMiniSave,"AnyObject")),this.branch_.updateComponent(a,null,!1)}}}}),n)},C654:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("FNB+"),s=o("3/rh"),c=o("Pn67"),l=o("nQ+V"),u=o("pmb0"),d=o("nUE5"),p=o("K17h"),h=o("RkYL"),f=o("zjod"),m=o("mxdD");r.ANIMATE_ICON=!1,r.MotionLogicStackedRoot=(n=function(){},i.defineClass({name:"MotionLogicStackedRoot",ctor:n,statics:{_implements:function(e){return"MotionLogic"==e}},props:{apply:function(e,t,o){var n,g,y,T,C=(n=i.as(o.lineDur,"Double"))||null!=n?n:1,v=(g=i.as(o.delay,"Double"))||null!=g?g:0,S=(y=i.as(o.fadeInDur,"Double"))||null!=y?y:1,P=(T=i.as(o.endPadDur,"Double"))||null!=T?T:0,E=0,N=[],_=[],A=[],L=new c.MotionEntryNone,O=new s.MotionEntryFadeIn,k=new l.MotionEntryStacked;e.visitAll(a.FormaTraversal.PreOrder,(function(e){var t;if(u.MotionFacade.applyEntryToForma(e,L),e.isTypeLockup())N.push(e);else if(t=i.as(e,f.VideoForma)){var o;t.isSticker()?(_.push(t),(o=p.MotionUtils.getGifDur(t)-S)>P&&(P=o)):(o=m.VideoFacade.getDurationInSecondsForVideo(t))>E&&(E=o)}else r.ANIMATE_ICON&&e.hasIntent(a.Forma.INTENT_ICON)&&A.push(e)}));var F=0,D=N.length>1||A.length>0;if(0==_.length&&(P=2),N.length>0){for(var x=i.clone(p.MotionUtils.getTitleLockups(N)),R=i.clone(x.shift()),M=i.clone(x.shift()),b=F,I=i.iter(R);!I.done;I.next()){var w,V=I.value,Y=d.MotionSource.getSourceAnimation(k.srcId,V);k.logic.apply(V,Y,{lineDur:C,endPadDur:D?v:0}),null!=(w=i.opt(V.animation,(function(e){return e.endTime.seconds})))&&w>b&&(b=w)}F=b;for(var j=i.iter(M);!j.done;j.next()){var K=j.value;Y=d.MotionSource.getSourceAnimation(O.srcId,K),O.logic.apply(K,Y,{st:F,dur:S})}}if(r.ANIMATE_ICON)for(var B=i.iter(A);!B.done;B.next()){var H=B.value;Y=d.MotionSource.getSourceAnimation(O.srcId,e),O.logic.apply(H,Y,{st:F,dur:S})}D&&(F+=S);var U=F+P;if(E>0&&(U=Math.ceil(U/E)*E,0==!_.length&&(U-=S)),_.length>0){U+=S;for(var G=i.iter(_);!G.done;G.next()){var X=G.value;Y=d.MotionSource.getSourceAnimation(O.srcId,X),O.logic.apply(X,Y,{st:F,dur:S}),i.opt(X.animation,(function(e){return e.endTime=h.TheoTime.fromSeconds(U)}))}}i.opt(e.animation,(function(e){return e.animationStyle.endTime=h.TheoTime.fromSeconds(U)}))}}}),n)},CqFS:function(e,t,o){var n,r,i=t,a=o("oAGj"),s=o("ytEx"),c=o("x0BK"),l=o("3OP7"),u=o("FNB+"),d=o("fNpk");i.PREFIX_COMPONENT="component:",i.PROPERTY_KEY_CHILDREN="children",i.PROPERTY_KEY_EXTERNAL_URL="external-url",i.JSONNodeEncoder=(n=function(e,t,o){this.manifestEncoder_=null,this.jsonNode_=t,this.parentEncoder_=o,s.BaseNodeEncoder.call(this,e,e.root)},r={},a.defineClass({name:"JSONNodeEncoder",ctor:n,superName:"BaseNodeEncoder",statics:{PROPERTY_KIND_NAMESPACED:{get:function(){return void 0===r.PROPERTY_KIND_NAMESPACED&&(r.PROPERTY_KIND_NAMESPACED=l.DocumentPersistenceFactory.namespacedPropertyName(u.Forma.PROPERTY_KIND)),r.PROPERTY_KIND_NAMESPACED}},_implements:function(e){return"IExportDataObject"==e}},props:{getPropertyOnNode:function(e){return this.jsonNode_[e]},setPropertyOnNode:function(e,t){var o,r;null!=t?(this.jsonNode_[e]=t,(o=this.manifestEncoder_)&&null!=(r=a.as(t,"String"))&&(e==s.PROPERTY_KEY_PATH?o.setPath(r):e==s.PROPERTY_KEY_TYPE?o.setType(r):e==n.PROPERTY_KIND_NAMESPACED&&o.setStringProperty(u.Forma.PROPERTY_KIND,r))):a.removeKey(this.jsonNode_,e)},createChildEncoder:function(e){var t={};t[s.PROPERTY_KEY_ID]=a.as(e,"AnyObject");var o=a.as(this.getPropertyOnNode(i.PROPERTY_KEY_CHILDREN),["Array","AnyObject"]);null==o&&(o=[]),o.push(t),this.setPropertyOnNode(i.PROPERTY_KEY_CHILDREN,o),d.LegacyCoreAssert.isTrue(this.getPropertyOnNode(i.PROPERTY_KEY_CHILDREN)===o,"children getter should return same object reference as just set",void 0,"JSONNodeEncoder.createChildEncoder","JSONNodeEncoder.swift",64);var r=new n(this.branch_,t,this);return d.LegacyCoreAssert.isTrue(a.as(r.jsonNode_,"AnyObject")===a.as(t,"AnyObject"),"JSON encoder should same json node reference as it was just constructed with",void 0,"JSONNodeEncoder.createChildEncoder","JSONNodeEncoder.swift",67),r},findChild:function(e){return null==e?null:(t=this.getManifestEncoder().findChild(e))?t:s.BaseNodeEncoder.prototype.findChild.call(this,e);var t},appendComponent:function(e,t,o){s.BaseNodeEncoder.prototype.appendComponent.call(this,e,t,o);var n=this.branch_.getValue(s.PROPERTY_KEY_ID),r=i.PREFIX_COMPONENT+n+"/"+e+"/"+a.replaceAll(o,"/","+");this.setProperty(i.PROPERTY_KEY_EXTERNAL_URL,a.as(r,"AnyObject"))},getManifestEncoder:function(){var e,t,o;return null==this.manifestEncoder_&&(null==this.parentEncoder_?this.manifestEncoder_=new c.DCXNodeEncoder(this.branch_,this.branch_.root):this.manifestEncoder_=this.parentEncoder_.getManifestEncoder().createChildEncoder(this.id),null!=(e=a.as(this.getPropertyOnNode(s.PROPERTY_KEY_PATH),"String"))&&a.opt(this.manifestEncoder_,(function(t){return t.setPath(e)})),null!=(t=a.as(this.getPropertyOnNode(s.PROPERTY_KEY_TYPE),"String"))&&a.opt(this.manifestEncoder_,(function(e){return e.setType(t)})),null!=(o=this.getPropertyOnNode(n.PROPERTY_KIND_NAMESPACED))&&a.opt(this.manifestEncoder_,(function(e){return e.setProperty(u.Forma.PROPERTY_KIND,o)}))),this.manifestEncoder_},finish:function(){s.BaseNodeEncoder.prototype.finish.call(this),this.parentEncoder_=null,this.manifestEncoder_=null}}}),n)},K17h:function(e,t,o){var n,r,i=t,a=o("oAGj"),s=o("VQVe"),c=o("gXiO"),l=o("FNB+"),u=o("cmoc"),d=o("ZK0l"),p=o("iCxV"),h=o("c+uM"),f=o("7Ta2"),m=o("enh0"),g=o("Vm85"),y=o("8t9B"),T=o("sIWg"),C=o("RkYL"),v=o("zjod");i.TextLine=(n=function(){this.words=[],this.shadows=[],this.bounds=T.TheoRect.Zero,this.isKnockout=!1},a.defineClass({name:"TextLine",ctor:n}),n),i.MotionUtils=(r=function(){c.CoreObject.call(this)},a.defineClass({name:"MotionUtils",ctor:r,superName:"CoreObject",statics:{SAME_LINE_THRESHOLD:20,sortTextLines:function(e){var t=a.clone(e);return a.sortInPlace(t,(function(e,t){return e.bounds.minY<t.bounds.minY})),t},findTextLines2:function(e){var t=g.TextFacade.getTextLook(e),o=[];if(h.LockupStyle.isKnockoutLook(t)&&!p.Host.textModelUtils.usePGMRenderer()){var n=e.boundsInCoordSpace(e.totalPlacement),s=new i.TextLine;s.words.push(e),s.isKnockout=!0,s.bounds=n||T.TheoRect.Zero,o.push(s)}else{var c={};e.visitAll(l.FormaTraversal.PreOrder,(function(e){var t;if(t=a.as(e,m.TextForma)){for(var o=!1,n=Math.floor(t.baselineBoundsInCoordSpace(t.placement).maxY),s=a.iter(c,!0);!s.done;s.next()){var l=s.key;if(Math.abs(l-n)<r.SAME_LINE_THRESHOLD){o=!0,n=l;break}}var u=t.boundsInCoordSpace(t.totalPlacement);if(o)c[n].bounds=c[n].bounds.unionWith(u),c[n].words.push(t);else{var d=new i.TextLine;d.words.push(t),d.bounds=u||T.TheoRect.Zero,c[n]=d}}}));for(var u=a.sort(a.keys(c,"numeric")),d=a.iter(u);!d.done;d.next()){var f=d.value;o.push(c[f])}}return o},findTextLines:function(e){var t=g.TextFacade.getTextLook(e),o=[];if(h.LockupStyle.isKnockoutLook(t)&&t!=h.LockupTextLook.KnockoutOnly&&!p.Host.textModelUtils.usePGMRenderer()){var n=[];n.push(e),o.push(n)}else{var r={};e.visitAll(l.FormaTraversal.PreOrder,(function(e){var t;(t=a.as(e,m.TextForma))&&(null==r[t.rowIndex]?r[t.rowIndex]=[a.as(e,l.Forma)]:r[t.rowIndex].push(e))}));for(var i=a.sort(a.keys(r,"numeric")),s=a.iter(i);!s.done;s.next()){var c=s.value;o.push(r[c])}}return o},getTitleLockups:function(e){if(0==e.length)return[];for(var t=a.clone(e),o={},n=a.iter(t);!n.done;n.next()){var r=n.value,i=(new f.RoleSuggester).getRole(r).role;o[r.formaID]=i}a.sortInPlace(t,(function(e,t){return e.controller.currentHeightScale>t.controller.currentHeightScale}));var s,c=t.shift(),l=[c],u=[];if(s=a.as(c.controller,y.TypeLockupController))for(var d=a.iter(t);!d.done;d.next()){var p;if(r=d.value,p=a.as(r.controller,y.TypeLockupController)){var h=p.getCurrentFontSize(),m=s.getCurrentFontSize();Math.abs(h-m)/Math.min(h,m)<.05?l.push(r):u.push(r)}}return[l,u]},getGifDur:function(e){var t,o,n=0;return e.isSticker()&&(o=a.as(e,v.VideoForma))&&(n=(t=a.opt(o.videoContentNode,(function(e){return e.duration.seconds})))||null!=t?t:0),n},determineLoopDur:function(e,t){var o=r.getGifDur(e);if(o>0){var n=t/o;o*=Math.ceil(n)}return o},createOpacityStyle:function(e,t){var o;if(!(e instanceof v.VideoForma||e instanceof u.FrameForma)&&(o=e.controller)){var n=a.as(o,d.GroupController);a.opt(n,(function(e){return e.beginBlockedUpdate()}));var r=e.style.clone();o.applyOpacity(t);var i,s=e.style.clone();return(i=a.as(s,h.LockupStyle))&&(i.textOpacity=t,i.backingOpacity=t),e.applyStyle(r),a.opt(n,(function(e){return e.endBlockedUpdate()})),s}var c=e.style.clone();return c.opacity=t,c},getCurrentAnimationStyle:function(e){return a.opt(a.opt(e,(function(e){return e.firstPage.root.animation})),(function(e){return e.animationStyle}))},invalidateAnimation:function(e){a.opt(e.firstPage.root.animation,(function(e){return e.invalidate()}))},isCurrentAnimationValid:function(e){var t;return!!(t=a.opt(e,(function(e){return e.firstPage.root.animation})))&&t.valid&&!t.animationStyle.modifiesFormaTree},determineTotalDuration:function(e){return a.opt(e.root.animation,(function(e){return e.animationStyle.endTime}))||C.TheoTime.Zero},getFrameTimes:function(e){var t,o=[],n=0,r=1,i=s.AnimationStyle.DEFAULT_TIMESCALE;(t=e.firstPage.animationController.animationStyle)?(n=t.endTime.value,i=t.endTime.timescale,r=a.toInt(t.endTime.timescale/s.AnimationStyle.DEFAULT_TIMESCALE)):e.firstPage.root.visitAll(l.FormaTraversal.PreOrder,(function(e){var t,o;(t=a.as(e,v.VideoForma))&&null!=(o=a.opt(t.videoContentNode,(function(e){return e.duration.value})))&&o>n&&(n=o)}));for(var c=a.iter(a.stride(0,n,r));!c.done;c.next()){var u=c.value;o.push(new C.TheoTime(u,i))}return o}}}),r)},KkVW:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("4/a+");r.MotionEntryDropIn=(n=function(){this.srcId="MotionSrcDropIn",this.logic=new a.MotionLogicDur,this.args={st:0,dur:1.5}},i.defineClass({name:"MotionEntryDropIn",ctor:n,statics:{_implements:function(e){return"MotionEntry"==e}}}),n)},Pn67:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("YeWL");r.MotionEntryNone=(n=function(){this.srcId="",this.logic=new a.MotionLogicClear,this.args={st:0,dur:1}},i.defineClass({name:"MotionEntryNone",ctor:n,statics:{_implements:function(e){return"MotionEntry"==e}}}),n)},Puiz:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("RO7T"),s=o("lWlM"),c=o("iCxV"),l=o("BAdM"),u=o("CqFS");r.PREFIX_CP="cp:",r.PREFIX_AC="ac:",r.JSONNodeDecoder=(n=function(e,t){this.node_=t,a.BaseNodeDecoder.call(this,e)},i.defineClass({name:"JSONNodeDecoder",ctor:n,superName:"BaseNodeDecoder",statics:{_implements:function(e){return"IImportDataObject"==e}},props:{getPropertyOnNode:function(e){return i.as(this.node_[e],"AnyObject")},forEachChild:function(e){var t,o=0;if(t=i.as(this.node_[u.PROPERTY_KEY_CHILDREN],["Array","Any"]))for(var r=i.iter(t);!r.done;r.next()){var a,s=r.value;(a=i.as(s,["Dictionary","String","Any"]))&&(e(new n(this.branch_,a),o),o+=1)}},forEachComponent:function(e){var t,o=0;if(null!=(t=i.as(this.property(u.PROPERTY_KEY_EXTERNAL_URL),"String"))){var n,a,d,p=null;if(t.startsWith(r.PREFIX_CP))null!=(n=i.opt(c.Host.brandkitManager,(function(e){return e.getFilePathForEncodedURL(t)})))?null!=(a=i.opt(c.Host.persistUtils,(function(e){return e.mimeTypeForFileAtPath(n)})))&&null!=(d=i.opt(c.Host.persistUtils,(function(e){return e.fileUrlForPath(n)})))?p=l.JSONComponentDecoder.init_f390(i.opt(c.Host.resourceUtils,(function(e){return e.makeGUID()})),null,this.id,a,null,d):i.opt(c.Host.logging,(function(e){return e.warning("Could not open downloaded file at "+n+"!")})):i.opt(c.Host.logging,(function(e){return e.warning("Do not have a CP file for "+t+"!")}));else if(t.startsWith(r.PREFIX_AC)){var h=t.substr(r.PREFIX_AC.length).split("/")[1];(f=this.branch_.getComponentWithId(h))?p=new s.DCXComponentDecoder(this.branch_,f):i.opt(c.Host.logging,(function(e){return e.warning("No component with id "+h+"!")}))}else if(t.startsWith(u.PREFIX_COMPONENT)){var f;h=t.substr(u.PREFIX_COMPONENT.length).split("/")[1],(f=this.branch_.getComponentWithId(h))?p=new s.DCXComponentDecoder(this.branch_,f):i.opt(c.Host.logging,(function(e){return e.warning("No component with id "+h+"!")}))}else i.opt(c.Host.logging,(function(e){return e.warning("Unrecognized external URL format: "+t+"!")}));null!=p?(e(p,o),o+=1):i.opt(c.Host.logging,(function(e){return e.warning("No component found for "+t)}))}}}}),n)},RO7T:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("ytEx"),s=o("gXiO"),c=o("3OP7"),l=o("fNpk");r.BaseNodeDecoder=(n=function(e){this.branch_=e,s.CoreObject.call(this)},i.defineClass({name:"BaseNodeDecoder",ctor:n,superName:"CoreObject",statics:{_implements:function(e){return"IImportDataObject"==e}},props:{id:{get:function(){return i.as(this.getPropertyOnNode(a.PROPERTY_KEY_ID),"String")}},name:{get:function(){return i.as(this.getPropertyOnNode(a.PROPERTY_KEY_NAME),"String")}},type:{get:function(){return i.as(this.getPropertyOnNode(a.PROPERTY_KEY_TYPE),"String")}},path:{get:function(){return i.as(this.getPropertyOnNode(a.PROPERTY_KEY_PATH),"String")}},getPropertyOnNode:function(e){return l.LegacyCoreAssert.fail("must be overridden",void 0,"BaseNodeDecoder.getPropertyOnNode","BaseNodeDecoder.swift",35),null},optionalStringProperty:function(e){return i.as(this.property(e),"String")},stringProperty:function(e,t){var o;return(o=i.as(this.property(e),"String"))||null!=o?o:t},numberProperty:function(e,t){var o;return(o=i.as(this.property(e),"Double"))||null!=o?o:t},intProperty:function(e,t){var o;return(o=i.as(this.property(e),"Int"))||null!=o?o:t},booleanProperty:function(e,t){var o;return(o=i.as(this.property(e),"Bool"))||null!=o?o:t},optionalBooleanProperty:function(e){return i.as(this.property(e),"Bool")},property:function(e){var t=c.DocumentPersistenceFactory.namespacedPropertyName(e);return i.as(this.getPropertyOnNode(t),"AnyObject")},forEachChild:function(e){l.LegacyCoreAssert.fail("must be overridden",void 0,"BaseNodeDecoder.forEachChild","BaseNodeDecoder.swift",69)},forEachComponent:function(e){l.LegacyCoreAssert.fail("must be overridden",void 0,"BaseNodeDecoder.forEachComponent","BaseNodeDecoder.swift",73)}}}),n)},SAU6:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("C654");r.MotionEntryStackedRoot=(n=function(){this.srcId="",this.logic=new a.MotionLogicStackedRoot,this.args={lineDur:.3,delay:.5,fadeInDur:.5,endPadDur:3.5}},i.defineClass({name:"MotionEntryStackedRoot",ctor:n,statics:{_implements:function(e){return"MotionEntry"==e}}}),n)},Vm85:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("SpAV"),s=o("CWW7"),c=o("gXiO"),l=o("FNB+"),u=o("fWxZ"),d=o("ylxa"),p=o("6Rk9"),h=o("iCxV"),f=o("fNpk"),m=o("c+uM"),g=o("EoOi"),y=o("VJ9E"),T=o("8t9B"),C=o("3UhB"),v=o("oKI3"),S=o("uUew");r.SpacingSequence=i.defineEnum("SpacingSequence",{NextLineSpacing:0,NextShapePadding:1,NextShadowAngle:2,NextLetterTracking:3,NextLineSpacingAndPadding:4}),r.describeSpacingSequence=function(e){switch(e){case 0:return"NextLineSpacing";case 1:return"NextShapePadding";case 2:return"NextShadowAngle";case 3:return"NextLetterTracking";case 4:return"NextLineSpacingAndPadding"}},r.ReplaceTextStrategy=i.defineEnum("ReplaceTextStrategy",{Auto:0,PreventOverlap:1,PreserveWidth:2,Balanced:3}),r.TextFacade=(n=function(){c.CoreObject.call(this)},i.defineClass({name:"TextFacade",ctor:n,superName:"CoreObject",statics:{kPuffyTextThreshold:.12,kEmptyLockupString:"‚Å†",setText:function(e,t){var o;if(o=i.as(t.controller,T.TypeLockupController)){var n=o.getCurrentFontSize(),r=e;r=C.TypeLockupUtils.fixUpQuotes(r,e),i.opt(o.contentNode,(function(e){return e.replaceText(r)})),o.snapSizeToBounds(),o.snapToClosestExistingSize(n),o.updateGroup()}},setFont:function(e,t,o){void 0===o&&(o=!1);for(var n=i.iter(t);!n.done;n.next()){var r,a=n.value;(r=i.as(a.controller,T.TypeLockupController))&&(C.TypeLockupUtils.applyFontToController(e,r),o&&r.selectCharStyleForma(),i.opt(r.lockupStyle,(function(e){return e.layout==m.LockupLayout.Auto}))&&r.snapSizeToBounds())}},getFontForForma:function(e){var t;return(t=i.as(e.controller,T.TypeLockupController))?t.styleController.targetedFont:null},getSecondaryFontForForma:function(e){var t;return(t=i.as(e.controller,T.TypeLockupController))?i.opt(t.lockupStyle,(function(e){return e.font})):null},replaceMissingFonts:function(e){if(0==!e.missingFontList.length){var t=y.TheoFont.init_9e5c(h.Host.textModelUtils.defaultFont()),o=e.missingFontList.concat([t.fontData.postScriptName]);e.firstPage.root.visitAll(l.FormaTraversal.PreOrder,(function(e){var n;(n=i.as(e.controller,T.TypeLockupController))&&n.replaceFonts(o,t)}))}},getLayoutForForma:function(e){var t;return(t=i.as(e.controller,T.TypeLockupController))?t.styleController.targetedLockupStyle.layout:m.LockupLayout.UNSET},getAlignmentForForma:function(e){var t;return(t=i.as(e.controller,T.TypeLockupController))?t.styleController.targetedLockupStyle.alignment:m.LockupAlignment.UNSET},getVerticalAlignmentForForma:function(e){var t;return(t=i.as(e.controller,T.TypeLockupController))?t.styleController.targetedLockupStyle.verticalAlignment:m.VerticalLockupAlignment.UNSET},setFitContainerToArea:function(e,t){var o;(o=i.as(e.controller,T.TypeLockupController))&&(o.fitContainerToArea=t)},getNextValidGridAlignment:function(e,t){var o=t;return o=o==m.LockupAlignment.Left?m.LockupAlignment.Center:o==m.LockupAlignment.Center?m.LockupAlignment.Right:m.LockupAlignment.Left},getNextValidPathID:function(e,t){var o=t;return o=o<v.TextPathID.Circle||o>=v.TextPathID.SemiCircleDown?v.TextPathID.Circle:v.TextPathID.toCaseValue(o+1)},getNextValidAutoAlignment:function(e,t){return n.getNextValidAutoAlignmentByCategory(e,t,g.TypographyLayoutCategory.ALL)},getNextValidAutoAlignmentByCategory:function(e,t,o){var n,r;return(n=i.as(e.controller,T.TypeLockupController))&&(r=n.lockupStyle)?g.TypographyComposer.getNextValidLayoutAlignment(n.text,r,t,n.charStyleRanges,o,void 0,!0):t},hasValidAutoAlignmentsForCategory:function(e,t){var o;return void 0===t&&(t=g.TypographyLayoutCategory.ALL),!(!(o=i.as(e.controller,T.TypeLockupController))||!g.TypographyComposer.canHandleText(o.text))&&i.clone(g.TypographyComposer.getApplicableLayouts(o.text,o.charStyleRanges,t)).length>0},getCategoryForAutoAlignment:function(e){return g.TypographyComposer.getCategoryForAlignment(e)},getTextPathIDForForma:function(e){var t;return(t=i.as(e.controller,T.TypeLockupController))?t.styleController.targetedLockupStyle.pathID:v.TextPathID.UNSET},setSessionContainerSizeForForma:function(e){var t;(t=i.as(e.controller,T.TypeLockupController))&&t.styleController.setSessionContainerSize(i.opt(e.frame,(function(e){return e.size})))},setLayoutAndAlignment:function(e,t,o,n,r,a,s){void 0===n&&(n=!1),void 0===r&&(r=v.TextPathID.UNSET),void 0===a&&(a=null),void 0===s&&(s=m.VerticalLockupAlignment.UNSET);for(var c=i.iter(o);!c.done;c.next()){var l,u=c.value;if(l=i.as(u.controller,T.TypeLockupController)){var d,p=l.styleController.targetedLockupStyle.clone();if(l.beginBlockedUpdate(),e!=m.LockupLayout.SKIP&&(l.styleController.targetedLockupStyle.layout=e),t!=m.LockupAlignment.SKIP)e==m.LockupLayout.Auto&&(d=g.TypographyComposer.getWeightingForAlignment(t,l.text,l.charStyleRanges))&&(l.autoTextRanges=i.clone(d)),l.styleController.targetedLockupStyle.alignment=t;null!=s&&s!=m.VerticalLockupAlignment.UNSET&&(l.styleController.targetedLockupStyle.verticalAlignment=s),l.styleController.targetedLockupStyle.pathID=r,l.styleController.targetedLockupStyle.customPath=a,l.styleController.onLayoutChanged(p),l.endBlockedUpdate(),n||l.styleChanged(),n&&(l.styleController.targetedLockupStyle.spacing=i.toDouble(m.LockupLayout.UNSET),l.styleChanged(),l.selectCharStyleForma()),e==m.LockupLayout.Auto&&l.snapSizeToBounds()}}},getLineSpacingForForma:function(e){var t;return(t=i.as(e.controller,T.TypeLockupController))?t.styleController.targetedLockupStyle.spacing:0},setLineSpacing:function(e,t,o){void 0===o&&(o=!1);for(var n=i.iter(t);!n.done;n.next()){var r,a=n.value;(r=i.as(a.controller,T.TypeLockupController))&&(r.styleController.targetedLockupStyle.spacing=e,o&&r.styleChanged(),r.styleController.onSpacingChanged())}},setLeading:function(e,t,o){for(var n=i.iter(o);!n.done;n.next()){var r,a=n.value;(r=i.as(a.controller,T.TypeLockupController))&&(r.setLineSpacingAndBounds(e,t),r.styleController.onSpacingChanged())}},getTrackingForForma:function(e){var t;return(t=i.as(e.controller,T.TypeLockupController))?t.styleController.targetedLockupStyle.tracking:0},setTracking:function(e,t,o){for(var n=i.iter(o);!n.done;n.next()){var r,a=n.value;(r=i.as(a.controller,T.TypeLockupController))&&(r.setLetterSpacingAndBounds(e,t),r.styleController.onTrackingChanged())}},getPaddingForForma:function(e){var t;return(t=i.as(e.controller,T.TypeLockupController))?t.styleController.targetedLockupStyle.padding:0},setPadding:function(e,t){for(var o=i.iter(t);!o.done;o.next()){var n,r=o.value;(n=i.as(r.controller,T.TypeLockupController))&&n.styleController.setPaddingFromSlider(e)}},supportsRelativeFontScale:function(e){var t;return!!(t=i.as(e.controller,T.TypeLockupController))&&t.styleController.supportsRelativeFontScale()},getRelativeFontScaleForForma:function(e){var t;if(t=i.as(e.controller,T.TypeLockupController)){var o=t.styleController.targetedLockupStyle.relativeFontScale;return o==m.LockupStyle.UNSET_RELATIVE_FONT_SCALE?g.TypographyComposer.getDefaultRelativeFontScale(t.styleController.targetedLockupStyle.alignment):o}return 1},setRelativeFontScale:function(e,t){for(var o=i.iter(t);!o.done;o.next()){var n,r=o.value;(n=i.as(r.controller,T.TypeLockupController))&&(null==n.styleController.getSessionContainerSize()&&n.styleController.setSessionContainerSize(n.size),n.styleController.setRelativeFontScale(e))}},matchNextSize:function(e,t,o){for(var n=0,r=i.iter(o);!r.done;r.next()){var a,s=r.value;(a=i.as(s.controller,T.TypeLockupController))&&(n=a.matchNextSize(e,t))}return n},matchNearestSize:function(e,t,o,n){for(var r=0,a=i.iter(n);!a.done;a.next()){var s,c=a.value;(s=i.as(c.controller,T.TypeLockupController))&&(r=s.setSizeSliderValue(e,t,o))}return r},getLineBreakForForma:function(e){var t;return!!(t=i.as(e.controller,T.TypeLockupController))&&t.styleController.targetedLockupStyle.lineBreakAtCharacterStyleSizeChange},setLineBreak:function(e,t,o){void 0===o&&(o=!1);for(var n=i.iter(t);!n.done;n.next()){var r,a=n.value;(r=i.as(a.controller,T.TypeLockupController))&&(r.styleController.targetedLockupStyle.lineBreakAtCharacterStyleSizeChange=e,o&&(r.styleChanged(),r.selectCharStyleForma()))}},setNextSpacingSequence:function(e,t){for(var o=i.iter(t);!o.done;o.next()){var n,r=o.value;if(n=i.as(r.controller,T.TypeLockupController))switch(e){case 0:n.styleController.setNextSpacingOption();break;case 1:n.styleController.setNextPaddingOption();break;case 2:n.styleController.setNextShadowAngle();break;case 3:n.styleController.setNextTrackingOption();break;case 4:n.styleController.setNextSpacingAndPaddingOption();break;default:f.LegacyCoreAssert.fail("unhandled spacing sequence",void 0,"TextFacade.setNextSpacingSequence","TextFacade.swift",513)}}},getTextLook:function(e){var t;return(t=i.as(e.controller,T.TypeLockupController))?t.styleController.targetedTextLook:m.LockupTextLook.Fill},getDefaultLockupBacking:function(e){var t,o=m.LockupBacking.None;return(t=i.as(e.style,m.LockupStyle))&&(o=m.LockupStyle.isPath(t.layout)||m.LockupStyle.isLetterGrid(t.layout)||m.LockupStyle.isAutoLayout(t.layout)?m.LockupBacking.SVGBackground:m.LockupBacking.Rows),o},getDefaultArtworkID:function(e){var t,o="none";return(t=i.as(e.style,m.LockupStyle))&&(o=m.LockupStyle.isPath(t.layout)||m.LockupStyle.isAutoLayout(t.layout)?"square_001":m.LockupStyle.isLetterGrid(t.layout)?"circle_001":"slug"),o},getBackingShape:function(e){var t;return(t=i.as(e.controller,T.TypeLockupController))?[t.styleController.targetedLockupStyle.backing,t.styleController.targetedLockupStyle.backingArtworkID]:[m.LockupBacking.None,""]},getOutlineStrokeWeightPercent:function(e){var t;return(t=i.as(e.controller,T.TypeLockupController))?t.styleController.getStrokeWeightPercentForUI():0},getShadowOffsetPercent:function(e){var t;return(t=i.as(e.controller,T.TypeLockupController))?t.styleController.getShadowOffsetPercentForUI():0},setTextLook:function(e,t,o){void 0===o&&(o=!0);for(var n=i.iter(t);!n.done;n.next()){var r,a=n.value;(r=i.as(a.controller,T.TypeLockupController))&&(r.styleController.setTextLook(e,o),r.styleChanged())}},setTextEffectsAttributes:function(e,t,o,r){for(var a=i.iter(r);!a.done;a.next()){var s,c=a.value;if(s=i.as(c.controller,T.TypeLockupController)){if(!isNaN(e)){s.styleController.targetedStrokeWeight=e;var l=n.getTextLook(c);if(l==m.LockupTextLook.FillAndOutline||l==m.LockupTextLook.FillAndOutline2){var u=n.getCorrectOutlineWithFillTextLook(s.styleController);u!=l&&n.setTextLook(u,[c],!1)}}if(isNaN(t)||(s.styleController.targetedShadowOffset=t,s.styleChanged()),!isNaN(o)){var d=o<0?360+o:o;s.styleController.targetedShadowAngle=d}}}},getTextEffectsAttributes:function(e){for(var t=0,o=0,n=0,r=i.iter(e);!r.done;r.next()){var a,s=r.value;(a=i.as(s.controller,T.TypeLockupController))&&(t=a.styleController.targetedStrokeWeight,o=a.styleController.targetedShadowOffset,n=a.styleController.targetedShadowAngle)}return[t,o,n]},REPLACE_TEXT_EXPANSION_RATIO:.95,REPLACE_TEXT_EXPANSION_MARGIN:10,replaceTextForLockup:function(e,t,o,c,l,u){var d,h,f,y;if(void 0===o&&(o=null),void 0===c&&(c=r.ReplaceTextStrategy.Auto),void 0===l&&(l=null),void 0===u&&(u=null),i.isEmpty(t.trim()))return s.CreationFacade.deleteFormae([e],null),null;if((d=i.as(e.controller,T.TypeLockupController))&&(h=e.finalFrame)&&(f=d.contentNode)&&(y=d.lockupStyle)){var v=t,S=d.text;if(v!=S){var P,E=null,N=null,_=i.isEmpty(S.trim()),A=c==r.ReplaceTextStrategy.Auto?n.resolveAutoReplaceTextStrategy(e):c;_||A!=r.ReplaceTextStrategy.PreserveWidth&&A!=r.ReplaceTextStrategy.Balanced||(E=d.getCurrentFontSize(),A==r.ReplaceTextStrategy.Balanced&&(P=d.getParentForPin())&&(N=i.opt(d.getExpansionBounds(P,n.REPLACE_TEXT_EXPANSION_RATIO,n.REPLACE_TEXT_EXPANSION_MARGIN),(function(e){return e.size}))));var L,O,k,F=y.layout,D=l;return null==D&&(m.LockupStyle.layoutSupportsAlignments(F)||1==d.numLines()&&F!=m.LockupLayout.Path)&&(D=d.getPin(!0,!0)),(L=o)&&(a.CoreAssertDebugOnly.isFalse(0==d.charStyleRanges.length&&0==!L.length,"Updating character styles ranges when currently empty",void 0,"TextFacade.replaceTextForLockup","TextFacade.swift",731),d.charStyleRanges=i.clone(L)),v=C.TypeLockupUtils.fixUpQuotes(v,S),d.beginBlockedUpdate(),i.opt(d.lockupStyle,(function(e){return e.layout==m.LockupLayout.Auto}))&&(i.isEmpty(S)?(i.opt(d.lockupStyle,(function(e){return e.alignment=m.LockupAlignment.Left})),i.opt(d.lockupStyle,(function(e){return e.layout=m.LockupLayout.Standard}))):(y.alignment=g.TypographyComposer.getNextValidLayoutAlignment(v,y,y.alignment,void 0,void 0,void 0,!1),y.alignment!=m.LockupAlignment.UNSET?(d.autoTextRanges=i.clone(g.TypographyComposer.getWeightingForAlignment(y.alignment,v)),i.opt(d.lockupStyle,(function(e){return e.alignment=y.alignment}))):(i.opt(d.lockupStyle,(function(e){return e.alignment=m.LockupAlignment.Left})),i.opt(d.lockupStyle,(function(e){return e.layout=m.LockupLayout.Standard}))))),f.replaceText(v),d.endBlockedUpdate(),d.updateGroupWithFontSize(E,N),v!=n.kEmptyLockupString&&(O=D)&&(A==r.ReplaceTextStrategy.Balanced?(d.matchPreviousPin(O,void 0,n.REPLACE_TEXT_EXPANSION_RATIO,n.REPLACE_TEXT_EXPANSION_MARGIN),null!=(k=u)?k(e,h,O.pinPoint):p.GeometryFacade.fitInPage(e,h,O.pinPoint,n.REPLACE_TEXT_EXPANSION_MARGIN)):d.matchPreviousPin(O)),d.snapSizeToBounds(),d.styleController.resetSessionContainerSize(),d.styleController.resetSessionContainerCenter(),D}i.opt(i.opt(e.page.document,(function(e){return e.controller})),(function(e){return e.updateAnnotations()}))}return null},replaceTextAndPreserveFontSize:function(e,t){n.replaceTextForLockup(e,t,null,r.ReplaceTextStrategy.PreserveWidth)},resolveAutoReplaceTextStrategy:function(e){var t,o;return(t=i.as(e.controller,T.TypeLockupController))&&null!=(o=i.opt(t.lockupStyle,(function(e){return e.layout})))&&o==m.LockupLayout.Standard&&!t.userGroupChild?r.ReplaceTextStrategy.Balanced:r.ReplaceTextStrategy.PreventOverlap},setHightlightMethod:function(e,t,o){void 0===o&&(o=!1);for(var n=i.iter(t);!n.done;n.next()){var r,a=n.value;if(r=i.as(a.controller,T.TypeLockupController)){if(o&&e!=T.HighlightMethod.Numbers)if(e==T.HighlightMethod.Manual)r.clearCharStyle(),r.selectCharStyleForma();else if(r.highlightMethod==e&&e!=T.HighlightMethod.Manual){var s=e;r.highlightMethod=T.HighlightMethod.toCaseValue(s+1)}else e!=T.HighlightMethod.Manual?r.highlightMethod==T.HighlightMethod.OddRows?r.highlightMethod=T.HighlightMethod.Bracket:r.highlightMethod==T.HighlightMethod.Bracket?r.highlightMethod=T.HighlightMethod.InsideBracket:r.highlightMethod==T.HighlightMethod.InsideBracket?r.highlightMethod=T.HighlightMethod.EvenRows:r.highlightMethod=e:r.highlightMethod=e;if(e==T.HighlightMethod.Manual&&o)return;if(o){var c=e==T.HighlightMethod.Numbers,l=e!=T.HighlightMethod.Numbers;r.autoApplyCharStyle(!0,c,l)}else r.applyPredefinedCharStyle(e);o&&r.selectCharStyleForma()}}},setCharStyleMode:function(e,t){var o;(o=i.as(e.controller,T.TypeLockupController))&&(t?(i.opt(i.opt(e.page.document,(function(e){return e.controller})),(function(e){return e.selection.inCharStyleMode=!0})),0==o.charStyleRanges.length&&o.styleController.pickVisibleColorsForCharStyle(),o.selectCharStyleForma(),o.autoApplyCharStyle(!1,!1,!1),o.selectCharStyleForma()):i.opt(i.opt(e.page.document,(function(e){return e.controller})),(function(e){return e.selection.inCharStyleMode=!1})))},applyCharStyle:function(e,t,o,n,r){var a;return(a=i.as(i.opt(e.lockupForma,(function(e){return e.controller})),T.TypeLockupController))?a.applyCharStyle(e,t,o,n,r):(f.LegacyCoreAssert.fail("cannot applyCharStyle, not a text forma",void 0,"TextFacade.applyCharStyle","TextFacade.swift",910),new S.TextRange(0,0))},adjustCharStyleRanges:function(e,t,o,n){var r;return void 0===n&&(n=null),(r=n||i.opt(i.as(e.controller,T.TypeLockupController),(function(e){return e.charStyleRanges})))?C.TypeLockupUtils.adjustRanges(r,t,o):null},applyTextStyleSuggestion:function(e,t,o,n){var r;if(r=i.as(t.controller,T.TypeLockupController)){var a=r.fitContainerToArea;r.fitContainerToArea=!0;var s=r.applyTextStyleSuggestion(e,o,n);return r.fitContainerToArea=a,s}return f.LegacyCoreAssert.fail("cannot apply text style, not a text forma",void 0,"TextFacade.applyTextStyleSuggestion","TextFacade.swift",944),null},applyNextTextEmphasisSuggestion:function(e,t){var o,n;return(o=i.as(e.controller,T.TypeLockupController))&&(n=t)?o.applyNextTextEmphasisSuggestion(n):(f.LegacyCoreAssert.fail("cannot apply next text emphasis",void 0,"TextFacade.applyNextTextEmphasisSuggestion","TextFacade.swift",958),null)},standardPPI:72,getStandardPageSize:function(e){var t=e.getPageExportData();return new d.FormaPageExportData(t.dimensions,t.format,n.standardPPI).pixelDimensions},toInternalFontSize:function(e,t){var o=n.getStandardPageSize(t),r=u.FormaPage.DEFAULT_PAGE_SIZE;return Math.max(r.width,r.height)*e/Math.max(o.width,o.height)},toUserFontSize:function(e,t){return e/n.toInternalFontSize(1,t)},setFontSize:function(e,t,o){var r;if(r=i.opt(i.first(t),(function(e){return e.page})))for(var a=n.toInternalFontSize(e,r),s=i.iter(t);!s.done;s.next()){var c,l=s.value;(c=i.as(l.controller,T.TypeLockupController))&&c.setFontSize(a,o)}},getStandardFontSizes:function(){return[18,24,36,48,60,132]},getMinimumFontSize:function(e){return void 0===e&&(e=null),12},getMaximumFontSize:function(e){var t;void 0===e&&(e=null);var o=i.clone(e||[]);return 0==!o.length&&null==o.find((function(e){var o=(t=i.opt(i.as(e.style,m.LockupStyle),(function(e){return e.layout})))||null!=t?t:m.LockupLayout.Standard;return!m.LockupStyle.isPath(o)}),this)?200:500},getCorrectOutlineWithFillTextLook:function(e){return e.targetedStrokeWeight>n.kPuffyTextThreshold?m.LockupTextLook.FillAndOutline2:m.LockupTextLook.FillAndOutline},getNewTextLookForOutlineChange:function(e,t,o){var r=e;switch(e){case-2:case-1:case 0:o||(r=n.getCorrectOutlineWithFillTextLook(t));break;case 1:o||(r=m.LockupTextLook.KnockoutAndOutline);break;case 2:o&&(r=m.LockupTextLook.KnockoutOnly);break;case 3:case 4:case 5:o&&(r=m.LockupTextLook.Fill);break;case 6:o||(r=m.LockupTextLook.KnockoutAndOutline);break;case 7:o||(r=m.LockupTextLook.ShadowAndOutline);break;case 8:o&&(r=m.LockupTextLook.Shadow);break;case 9:o||(r=m.LockupTextLook.KnockoutShadowOutline);break;case 10:o&&(r=m.LockupTextLook.Shadow);break;case 11:o&&(r=m.LockupTextLook.KnockoutAndShadow)}return r},getNewTextLookForShadowChange:function(e,t,o){var r=e;switch(e){case-2:case-1:case 0:o||(r=m.LockupTextLook.Shadow);break;case 1:o||(r=m.LockupTextLook.KnockoutAndShadow);break;case 2:o||(r=m.LockupTextLook.KnockoutShadowOutline);break;case 3:o||(r=m.LockupTextLook.ShadowOutlineTransparentText);break;case 4:case 5:o||(r=m.LockupTextLook.ShadowAndOutline);break;case 6:o||(r=m.LockupTextLook.KnockoutAndShadow);break;case 7:o&&(r=m.LockupTextLook.Fill);break;case 8:o&&(r=n.getCorrectOutlineWithFillTextLook(t));break;case 9:o&&(r=m.LockupTextLook.KnockoutOnly);break;case 10:o&&(r=m.LockupTextLook.OutlineOnly);break;case 11:o&&(r=m.LockupTextLook.KnockoutAndOutline)}return r},getNewTextLookForKnockoutChange:function(e,t,o){var r=e;switch(e){case-2:case-1:case 0:o||(r=m.LockupTextLook.KnockoutOnly);break;case 1:o&&(r=m.LockupTextLook.Fill);break;case 2:o&&(r=n.getCorrectOutlineWithFillTextLook(t));break;case 3:break;case 4:case 5:o||(r=m.LockupTextLook.KnockoutAndOutline);break;case 6:o&&(r=m.LockupTextLook.Fill);break;case 7:o||(r=m.LockupTextLook.KnockoutAndShadow);break;case 8:o||(r=m.LockupTextLook.KnockoutShadowOutline);break;case 9:o&&(r=m.LockupTextLook.Shadow);break;case 10:break;case 11:o&&(r=m.LockupTextLook.ShadowAndOutline)}return r},getNewTextLookForTransparentFillChange:function(e,t,o){var r=e;switch(e){case 2:break;case 3:r=n.getCorrectOutlineWithFillTextLook(t);break;case 4:case 5:r=m.LockupTextLook.OutlineOnly;break;case 8:r=m.LockupTextLook.ShadowOutlineTransparentText;break;case 11:break;case 10:r=m.LockupTextLook.ShadowAndOutline}return r}}}),n)},YeWL:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("URxh"),s=o("pmb0"),c=o("RkYL");r.MotionLogicClear=(n=function(){},i.defineClass({name:"MotionLogicClear",ctor:n,statics:{_implements:function(e){return"MotionLogic"==e}},props:{apply:function(e,t,o){var n,r,l=(n=i.as(o.st,"Double"))||null!=n?n:0,u=l+((r=i.as(o.dur,"Double"))||null!=r?r:1),d=a.FormaAnimation.init_9e82(s.MotionFacade.getCurrentAnimationStyle(),c.TheoTime.fromSeconds(l),c.TheoTime.fromSeconds(u),t.concat());e.animation=d}}}),n)},YxjU:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("URxh"),s=o("tGKA"),c=o("K17h"),l=o("oKlP"),u=o("RkYL"),d=o("xm77");r.MotionSourceFadeInV=(n=function(){},i.defineClass({name:"MotionSourceFadeInV",ctor:n,statics:{getSrcKeyframes:function(e){var t=[],o=u.TheoTime.Zero,n=u.TheoTime.fromSeconds(1),r=s.Matrix2D.translation(new l.TheoPoint(0,-400)),i=s.Matrix2D.Identity,p=c.MotionUtils.createOpacityStyle(e,0),h=e.style.clone();return t.push(new a.KeyFrame(o,d.TimingFunctionType.EaseInOut,r,null,p)),t.push(new a.KeyFrame(n,d.TimingFunctionType.EaseInOut,i,null,h)),t}}}),n)},aS4X:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("hEh8");r.DCXDocumentDecoder=(n=function(e){a.DCXNodeDecoder.call(this,e,e.root)},i.defineClass({name:"DCXDocumentDecoder",ctor:n,superName:"DCXNodeDecoder",statics:{_implements:function(e){return"IImportDataObject"==e}},props:{getPropertyOnNode:function(e){var t=a.DCXNodeDecoder.prototype.getPropertyOnNode.call(this,e);return null==t&&(t=i.as(this.branch_.getValue(e),"AnyObject")),t}}}),n)},c2hD:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("URxh"),s=o("tGKA"),c=o("K17h"),l=o("oKlP"),u=o("RkYL"),d=o("xm77");r.MotionSourceFadeInH=(n=function(){},i.defineClass({name:"MotionSourceFadeInH",ctor:n,statics:{getSrcKeyframes:function(e){var t=[],o=u.TheoTime.Zero,n=u.TheoTime.fromSeconds(1),r=s.Matrix2D.translation(new l.TheoPoint(400,0)),i=s.Matrix2D.Identity,p=c.MotionUtils.createOpacityStyle(e,0),h=e.style.clone();return t.push(new a.KeyFrame(o,d.TimingFunctionType.EaseInOut,r,null,p)),t.push(new a.KeyFrame(n,d.TimingFunctionType.EaseInOut,i,null,h)),t}}}),n)},f9IM:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("URxh"),s=o("c2hD"),c=o("YxjU"),l=o("RkYL");r.MotionSourceStacked=(n=function(){},i.defineClass({name:"MotionSourceStacked",ctor:n,statics:{getSrcKeyframes:function(e){var t=[],o=c.MotionSourceFadeInV.getSrcKeyframes(e),n=s.MotionSourceFadeInH.getSrcKeyframes(e);return t.push(o[0]),t.push(new a.KeyFrame(l.TheoTime.fromSeconds(.25),o[1].timingFunction,o[1].placement,o[1].bounds,o[1].style)),t.push(new a.KeyFrame(l.TheoTime.fromSeconds(.25),n[0].timingFunction,n[0].placement,n[0].bounds,n[0].style)),t.push(new a.KeyFrame(l.TheoTime.fromSeconds(.5),n[1].timingFunction,n[1].placement,n[1].bounds,n[1].style)),t.push(new a.KeyFrame(l.TheoTime.fromSeconds(.5),n[0].timingFunction,n[0].placement.inverse,n[0].bounds,n[0].style)),t.push(new a.KeyFrame(l.TheoTime.fromSeconds(.75),n[1].timingFunction,n[1].placement,n[1].bounds,n[1].style)),t.push(new a.KeyFrame(l.TheoTime.fromSeconds(.75),o[0].timingFunction,o[0].placement.inverse,o[0].bounds,o[0].style)),t.push(new a.KeyFrame(l.TheoTime.fromSeconds(1),o[1].timingFunction,o[1].placement,o[1].bounds,o[1].style)),t}}}),n)},fAXt:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("0wFF"),s=o("gXiO"),c=o("6ZWm"),l=o("cmoc"),u=o("P83h"),d=o("X0GW"),p=o("iCxV"),h=o("lmwz"),f=o("fNpk"),m=o("tGKA"),g=o("oKlP");r.TransformFacade=(n=function(){s.CoreObject.call(this)},i.defineClass({name:"TransformFacade",ctor:n,superName:"CoreObject",statics:{translateForma:function(e,t){e.move(m.Matrix2D.translation(t))},nudgeFormaeInPageSpace:function(e,t){if(f.LegacyCoreAssert.isTrue(e.length>0,"can't nudge 0 formae",void 0,"TransformFacade.nudgeFormaeInPageSpace","TransformFacade.swift",25),0!=e.length){var o,r=1,s=i.first(e);(o=i.opt(i.opt(s,(function(e){return e.page.view})),(function(e){return e.getViewportTransform()})))&&(r=Math.sqrt(Math.abs(o.determinant)));var c=t.divide(r);c=c.multiply(2),n.translateFormaeInPageSpace(e,c),e.length>1?i.opt(p.Host.logging,(function(t){return t.logToAnalytics(a.AnalyticsConstants.kAnalyticsDataMultipleNudged,{contextualData1:"formae count: "+e.length})})):s.isImage()?i.opt(p.Host.logging,(function(e){return e.logToAnalytics(a.AnalyticsConstants.kAnalyticsDataImageNudged,{})})):s.isShape()?i.opt(p.Host.logging,(function(e){return e.logToAnalytics(a.AnalyticsConstants.kAnalyticsDataShapeNudged,{})})):s.isText()&&i.opt(p.Host.logging,(function(e){return e.logToAnalytics(a.AnalyticsConstants.kAnalyticsDataTextNudged,{})}))}},translateFormaeInPageSpace:function(e,t){n.transformFormaeInPageSpaceAboutPoint(e,m.Matrix2D.translation(t),g.TheoPoint.ZERO)},transformFormaeInPageSpaceAboutPoint:function(e,t,o,n){var r;void 0===n&&(n=null);for(var a=m._asterisk_Matrix2D_Matrix2D(m._asterisk_Matrix2D_Matrix2D(m.Matrix2D.translation(g._negate_TheoPoint(o)),t),m.Matrix2D.translation(o)),s=i.iter(e);!s.done;s.next()){var p,f,y=s.value,T=y;if(null==y.controller||y.controller.floating&&!h.ImageFacade.inCropMode(y)||(p=i.as(y,l.FrameForma))&&(T=p.childAt(0)),f=T.parent){var C=new u.FormaAnimationTransactionEvent(T);C.duration=0,T.beginUpdate(C);var v,S=T.placement,P=m._asterisk_Matrix2D_Matrix2D(m._asterisk_Matrix2D_Matrix2D(f.totalPlacement,a),f.totalPlacement.inverse);if(T.move(P),v=i.as(f.controller,c.FrameController)){var E;(E=i.opt(n,(function(e){return e.transformValues})))&&(T.placement=T.placement.scaleTo(E.xscale,E.yscale));var N,_=S.transformValues.xscale;v.updateAfterChildTransform(),Math.abs(_-T.placement.transformValues.xscale)<.001&&1!=Math.abs(t.transformValues.xscale)&&(T.placement=S,v.updateCropModeImage(),(N=h.ImageFacade.getCutoutMaskFormaForForma(T))&&h.ImageFacade.updateCutoutMaskPlacement(T,N))}((r=i.opt(i.opt(T.parent,(function(e){return e.controller})),(function(e){return e.userGroup})))||null!=r)&&r&&d.GroupFacade.updateUserGroupHierarchy(T.parent),T.endUpdate(C)}}},justTransformFormaInPageSpaceAboutPoint:function(e,t,o){var n;if(n=e.parent){var r=m._asterisk_Matrix2D_Matrix2D(m._asterisk_Matrix2D_Matrix2D(m.Matrix2D.translation(g._negate_TheoPoint(o)),t),m.Matrix2D.translation(o)),i=m._asterisk_Matrix2D_Matrix2D(m._asterisk_Matrix2D_Matrix2D(n.totalPlacement,r),n.totalPlacement.inverse);e.move(i)}},transformInPageSpaceAboutFormaUV:function(e,t,o){n.transformFormaeInPageSpaceAboutPoint([e],t,m._asterisk_TheoPoint_Matrix2D(e.bounds.evalXY(o.x,o.y),e.totalPlacement))},transformAboutFormaCenter:function(e,t){var o;if(o=e.parent){var r=new g.TheoPoint(.5,.5);if(o.controller instanceof c.FrameController){var i=o.bounds.transform(e.parent.totalPlacement).center,a=e.totalPlacement.inverse.transformPoint(i);r=e.bounds.locatePoint(a)}n.transformInPageSpaceAboutFormaUV(e,t,r)}else f.LegacyCoreAssert.fail("trying to rotate a forma which doesnt have a parent",void 0,"TransformFacade.transformAboutFormaCenter","TransformFacade.swift",168)},scaleForma:function(e,t){var o=m.Matrix2D.scalingXY(t,t);n.transformAboutFormaCenter(e,o)},flipForma:function(e,t){var o=t?m.Matrix2D.scalingXY(1,-1):m.Matrix2D.scalingXY(-1,1);n.transformAboutFormaCenter(e,o)},isFormaFlipped:function(e,t){return t?e.placement.a>0&&e.placement.d<0:e.placement.a<0&&e.placement.d>0},rotateForma:function(e,t){var o=m.Matrix2D.rotation(Math.cos(t),Math.sin(t));n.transformAboutFormaCenter(e,o)},currentRotation:function(e){var t,o,n;return(t=i.as(e,l.FrameForma))&&(o=i.opt(i.opt(t.page.document,(function(e){return e.controller})),(function(e){return e.selection})))&&o.inCropMode&&(n=h.ImageFacade.getImageFormaForForma(t))?n.rotation():e.rotation()}}}),n)},hEh8:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("RO7T"),s=o("lWlM"),c=o("iCxV"),l=o("8vXU"),u=o("rxGp");r.DCXNodeDecoder=(n=function(e,t){this.node_=t,a.BaseNodeDecoder.call(this,e),c.Host.logging.logForCategory(u.LogCategories.kDecode,"init "+i.toString(this.id)+" "+i.toString(this.name)+" "+i.toString(this.type)+" "+i.toString(this.path),l.LogLevelEnum.INFO_LEVEL)},i.defineClass({name:"DCXNodeDecoder",ctor:n,superName:"BaseNodeDecoder",statics:{_implements:function(e){return"IImportDataObject"==e}},props:{getPropertyOnNode:function(e){var t=i.as(this.node_.getValue(e),"AnyObject");return c.Host.logging.logForCategory(u.LogCategories.kDecode,i.toString(this.node_.nodeId)+" getPropertyOnNode "+e+" "+i.toString(t),l.LogLevelEnum.INFO_LEVEL),t},forEachChild:function(e){for(var t=0,o=i.iter(this.branch_.getChildrenOfNode(this.node_));!o.done;o.next()){var r=o.value;e(new n(this.branch_,r),t),t+=1}},forEachComponent:function(e){for(var t=0,o=i.iter(this.branch_.getComponentsOfNode(this.node_));!o.done;o.next()){var n=o.value;e(new s.DCXComponentDecoder(this.branch_,n),t),t+=1}}}}),n)},lWlM:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("gXiO"),s=o("iCxV");r.DCXComponentDecoder=(n=function(e,t){this.branch_=e,this.component_=t,a.CoreObject.call(this)},i.defineClass({name:"DCXComponentDecoder",ctor:n,superName:"CoreObject",statics:{_implements:function(e){return"IImportDataComponent"==e}},props:{id:{get:function(){return this.component_.componentId}},name:{get:function(){return this.component_.name}},path:{get:function(){return this.component_.path}},mimeType:{get:function(){return this.component_.type}},etag:{get:function(){return this.component_.etag}},url:{get:function(){var e;return null!=(e=this.branch_.getPathForComponent(this.component_))?i.opt(s.Host.persistUtils,(function(t){return t.fileUrlForPath(e)})):null}}}}),n)},muPB:function(e,t,o){var n,r,i=t,a=o("oAGj"),s=o("ytEx"),c=o("iCxV"),l=o("C4JV"),u=o("Puiz"),d=o("9YN4");i.JSONDocumentDecoder=(n=function(e){var t,o,n,r={};(t=e.getComponentWithAbsolutePath(l.JSON_CONTENT_PATH_DCX2D))&&null!=(o=e.getPathForComponent(t))?null!=(n=a.opt(c.Host.persistUtils,(function(e){return e.readJsonContentFromFile(o)})))&&(r=n):a.opt(c.Host.logging,(function(e){return e.warning("Could not find dom component!")})),u.JSONNodeDecoder.call(this,e,r)},r={},a.defineClass({name:"JSONDocumentDecoder",ctor:n,superName:"JSONNodeDecoder",statics:{getRequiredSynchronousComponents:function(e){return[l.JSON_CONTENT_PATH_DCX2D]},localizedDefaultName:{get:function(){return void 0===r.localizedDefaultName&&(r.localizedDefaultName=a.opt(c.Host.locale,(function(e){return e.getLocalizedDefaultDocumentName()}))),r.localizedDefaultName}},_implements:function(e){return"IImportDataObject"==e}},props:{isDefaultName:function(e){return null==e||e==d.TheoDocument.DEFAULT_NAME||e==n.localizedDefaultName||""==e},getPropertyOnNode:function(e){if(e==s.PROPERTY_KEY_ID)return a.as(this.branch_.getValue(s.PROPERTY_KEY_ID),"AnyObject");if(e==s.PROPERTY_KEY_NAME){var t=n.localizedDefaultName,o=a.as(this.branch_.getValue(e),"String"),r=a.as(u.JSONNodeDecoder.prototype.getPropertyOnNode.call(this,e),"String");return this.isDefaultName(o)&&!this.isDefaultName(r)?t=r:this.isDefaultName(r)&&!this.isDefaultName(o)||null!=o?t=o:null!=r&&(t=r),a.as(t,"AnyObject")}var i=u.JSONNodeDecoder.prototype.getPropertyOnNode.call(this,e);return null==i&&(i=a.as(this.branch_.getValue(e),"AnyObject")),i}}}),n)},mxdD:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("gXiO"),s=o("FNB+"),c=o("cmoc"),l=o("RkYL"),u=o("sW6f"),d=o("zjod"),p=o("QTen");r.VideoFacade=(n=function(){a.CoreObject.call(this)},i.defineClass({name:"VideoFacade",ctor:n,superName:"CoreObject",statics:{getVideoFormaForForma:function(e){var t;return(t=i.as(e,c.FrameForma))&&t.childCount>0?i.as(t.childAt(0),d.VideoForma):i.as(e,d.VideoForma)},getTrueVideoFormaForForma:function(e){var t;return(t=n.getVideoFormaForForma(e))&&!t.isSticker()?t:null},setTransientTimeForVideoForma:function(e,t,o,r){var i,a;(i=n.getVideoStyleForForma(e))&&(a=n.getVideoContentForForma(e))&&(i.setTransientTime(t,o),a.setTransientOffset(r))},resetTransientTimeForVideoForma:function(e){var t,o;(t=n.getVideoStyleForForma(e))&&(o=n.getVideoContentForForma(e))&&(t.resetTransientTime(),o.resetTransientOffset())},changeVideoVolume:function(e,t){for(var o=i.iter(e);!o.done;o.next()){var r,a=o.value;(r=n.getVideoStyleForForma(a))&&(r.volumeLevel=t)}},getVideosOnPage:function(e,t){return void 0===t&&(t=!0),e.root.filterWithCallback((function(e){return e instanceof d.VideoForma&&(t||!e.isSticker())}))},getVideoCountOnPage:function(e,t){void 0===t&&(t=!0);for(var o=0,n=i.iter(e.root.visitAsArray(s.FormaTraversal.PreOrder));!n.done;n.next()){var r=n.value;r instanceof d.VideoForma&&(t||!r.isSticker())&&(o+=1)}return o},getStickerCountOnPage:function(e){for(var t=0,o=i.iter(e.root.visitAsArray(s.FormaTraversal.PreOrder));!o.done;o.next()){var n=o.value;n instanceof d.VideoForma&&n.isSticker()&&(t+=1)}return t},videoContentIsLivePhoto:function(e){var t;return null!=(t=i.opt(e,(function(e){return e.getTag(u.VideoContentNode.LIVE_PHOTO_TAG)})))&&"true"==t},formaIsLivePhoto:function(e){var t;return!!(t=n.getVideoContentForForma(e))&&n.videoContentIsLivePhoto(t)},formaIsGIFVideo:function(e){var t;return!!(t=n.getVideoContentForForma(e))&&t.isGIF},getVideoContentForForma:function(e){var t;return(t=n.getVideoFormaForForma(e))?t.videoContentNode:null},getVideoStyleForForma:function(e){var t;return(t=n.getVideoFormaForForma(e))?i.as(t.style,p.VideoStyle):null},getStartTimeForVideoForma:function(e,t){void 0===t&&(t=!1);var o,r,i,a=l.TheoTime.Zero;return(o=n.getVideoStyleForForma(e))&&(a=o.startTime),t&&(r=n.getVideoContentForForma(e))&&(i=r.offsetInOriginal)&&(a=a.add(i)),a},getDurationInSecondsForVideo:function(e){return n.getDurationForVideo(e).seconds},getVideoTimeForVideoWithTimeInTotalLoop:function(e,t){var o=n.getDurationInSecondsForVideo(e),r=t.seconds%o;return l.TheoTime.fromSeconds(r,t.timescale)},getDurationForVideo:function(e){var t,o,n=l.TheoTime.Zero;if(t=e.videoContentNode)if(o=i.as(e.style,p.VideoStyle))n=o.duration;else{var r=i.clone(t.times);r.length>0&&(n=r[r.length-1])}return n},addVideoContent:function(e,t,o,n,r,a,s,c,l,d,p,h){var f,m,g;return(f=i.as(i.opt(e,(function(e){return e.createNode(u.VideoContentNode.KIND,null)})),u.VideoContentNode))?(f.url=t,f.mimeType=o,f.width=n,f.height=r,f.duration=a,f.mediaMetadata=l,f.localIdentifier=d,f.setTimes(p),h&&f.setTag(u.VideoContentNode.LIVE_PHOTO_TAG,"true"),(m=s)&&(f.offsetInOriginal=m),(g=c)&&(f.originalDuration=g),f):null}}}),n)},"nQ+V":function(e,t,o){var n,r=t,i=o("oAGj"),a=o("95jH");r.MotionEntryStacked=(n=function(){this.srcId="MotionSourceStacked",this.logic=new a.MotionLogicStacked,this.args={lineDur:.3,endPadDur:1}},i.defineClass({name:"MotionEntryStacked",ctor:n,statics:{_implements:function(e){return"MotionEntry"==e}}}),n)},nUE5:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("iCxV"),s=o("wL85"),c=o("qTtJ"),l=o("f9IM");r.MotionSource=(n=function(){},i.defineClass({name:"MotionSource",ctor:n,statics:{getSourceAnimation:function(e,t){return"MotionSourceStacked"==e?l.MotionSourceStacked.getSrcKeyframes(t):"MotionSrcFadeIn"==e?c.MotionSrcFadeIn.getSrcKeyframes(t):"MotionSrcDropIn"==e?s.MotionSrcDropIn.getSrcKeyframes(t):(""!=e&&i.opt(a.Host.logging,(function(t){return t.warning("Unknown source animation: "+e)})),[])}}}),n)},qTtJ:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("URxh"),s=o("tGKA"),c=o("K17h"),l=o("RkYL"),u=o("xm77");r.MotionSrcFadeIn=(n=function(){},i.defineClass({name:"MotionSrcFadeIn",ctor:n,statics:{getSrcKeyframes:function(e){var t=[],o=l.TheoTime.Zero,n=l.TheoTime.fromSeconds(1),r=s.Matrix2D.Identity,i=s.Matrix2D.Identity,d=c.MotionUtils.createOpacityStyle(e,0),p=e.style.clone();return t.push(new a.KeyFrame(o,u.TimingFunctionType.Linear,r,null,d)),t.push(new a.KeyFrame(n,u.TimingFunctionType.Linear,i,null,p)),t}}}),n)},txj3:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("fNpk"),s=o("ThKb");r.NNMLPClassifier=(n=function(e,t,o){this._finalSoftmax=!0,void 0===o&&(o=!0),a.LegacyCoreAssert.isTrue(e.length==t.length,"counts of coefficients and intercepts do not match",void 0,"NNMLPClassifier.init","NNMLPClassifier.swift",18),this._coefficients=i.clone(e),this._intercepts=i.clone(t);var n=e.length;this._classNum=e[n-1].rows,this._finalSoftmax=o,i.defctor(this)},i.defineClass({name:"NNMLPClassifier",ctor:n,props:{predict:function(e){return a.LegacyCoreAssert.isTrue(1==e.cols,"can't predict for multi-column input",void 0,"NNMLPClassifier.predict","NNMLPClassifier.swift",28),i.clone(this.forwardPropagate(e)).AL},forwardPropagate:function(e){for(var t={},o=[],n=e,r=this.hiddenLayerNumber(),a=i.iter(i.range(0,r,!1));!a.done;a.next()){var s=a.value,c=n,l=this._coefficients[s],u=this._intercepts[s],d=i.clone(this.linearActivationForward(c,l,u,"relu"));n=d.A,o.push(d.cache)}if(1!=this._classNum&&this._finalSoftmax){var p=i.clone(this.linearActivationForward(n,this._coefficients[r],this._intercepts[r],"softmax"));o.push(p.cache),t.AL=p.A,t.caches=i.clone(o)}else{var h=i.clone(this.linearActivationForward(n,this._coefficients[r],this._intercepts[r],"sigmoid"));o.push(h.cache),t.AL=h.A,t.caches=i.clone(o)}return t},backwardPropagate:function(e,t,o){var n={},r=[],c=[],l=[],u=o.length;a.LegacyCoreAssert.isTrue(e.cols==t.cols&&e.rows==t.rows,"probability vector and output vector dimensions do not match",void 0,"NNMLPClassifier.backwardPropagate","NNMLPClassifier.swift",104);var d=i.clone(o[u-1]);if(1==this._classNum){var p=s.TheoMatrix.ones(t.rows,t.cols),h=t.divide(e).subtract(p.subtract(t).divide(p.subtract(e))).multiplyConstant(-1),f=i.clone(this.linearActivationBackward(h,d,"sigmoid"));r.push(f.dAprev),c.push(f.dW),l.push(f.db)}else{var m=e.subtract(t),g=i.clone(this.linearActivationBackward(m,d,"softmax"));r.push(g.dAprev),c.push(g.dW),l.push(g.db)}for(var y=i.iter(i.range(0,u-2,!0).reversed());!y.done;y.next()){var T=y.value;d=i.clone(o[T]);var C=i.clone(this.linearActivationBackward(r[r.length-1],d,"relu"));r.push(C.dAprev),c.push(C.dW),l.push(C.db)}return n.dAs=i.reverse(r),n.dWs=i.reverse(c),n.dbs=i.reverse(l),n},computeCost:function(e,t){var o=t.cols;if(a.LegacyCoreAssert.isTrue(o>0,"number of columns in output vector must be positive",void 0,"NNMLPClassifier.computeCost","NNMLPClassifier.swift",139),1==this._classNum){var n=s.TheoMatrix.ones(t.rows,t.cols),r=t.multiply(e.matrixLog()),c=n.subtract(t).multiply(n.subtract(e).matrixLog()),l=r.add(c);return i.toDouble(i.toInt(-1/o))*l.sumRows().value(0,0)}return t.transpose().matrixMultiply(e.matrixLog()).value(0,0)*(-1/i.toDouble(o))},linearForward:function(e,t,o){var n={};return n.Z=t.matrixMultiply(e).add(o),n.cache={A:e,W:t,b:o},n},linearActivationForward:function(e,t,o,n){var r={},a={},s=i.clone(this.linearForward(e,t,o)),c=s.Z;return a.linearCache=s.cache,a.activationCache=c,r.cache=i.clone(a),"sigmoid"==n?r.A=c.sigmoid():"relu"==n?r.A=c.relu():"softmax"==n&&(r.A=this.softmaxActivation(c)),r},hiddenLayerNumber:function(){return this._coefficients.length-1},linearBackward:function(e,t,o,n){var r={},s=t.cols,c=e.matrixMultiply(t.transpose()).multiplyConstant(i.toDouble(i.toInt(1/s))),l=e.sumColumns().multiplyConstant(i.toDouble(i.toInt(1/s))),u=o.transpose().matrixMultiply(e);return a.LegacyCoreAssert.isTrue(c.cols==o.cols&&c.rows==o.rows,"weight and gradient matrix dimensions do not match",void 0,"NNMLPClassifier.linearBackward","NNMLPClassifier.swift",223),a.LegacyCoreAssert.isTrue(l.cols==n.cols&&l.rows==n.rows,"bias and gradient matrix dimensions do not match",void 0,"NNMLPClassifier.linearBackward","NNMLPClassifier.swift",224),a.LegacyCoreAssert.isTrue(u.cols==t.cols&&u.rows==t.rows,"activation and gradient matrix dimensions do not match",void 0,"NNMLPClassifier.linearBackward","NNMLPClassifier.swift",225),r.dAprev=u,r.dW=c,r.db=l,r},linearActivationBackward:function(e,t,o){var n=i.clone(t.linearCache),r=n.A,a=n.W,s=n.b,c=t.activationCache,l={};if("sigmoid"==o){var u=this.sigmoidBackward(e,c);l=i.clone(this.linearBackward(u,r,a,s))}else"relu"==o?(u=this.reluBackward(e,c),l=i.clone(this.linearBackward(u,r,a,s))):"softmax"==o&&(u=e,l=i.clone(this.linearBackward(u,r,a,s)));return l},softmaxActivation:function(e){a.LegacyCoreAssert.isTrue(1==e.cols,"can't calculate softmax activation for multi-column input",void 0,"NNMLPClassifier.softmaxActivation","NNMLPClassifier.swift",266);var t=e.exp(),o=t.sum();return t.multiplyConstant(i.toDouble(1/o))},sigmoidBackward:function(e,t){var o=s.TheoMatrix.ones(t.rows,t.cols),n=t.sigmoid(),r=e.multiply(n).multiply(o.subtract(n));return a.LegacyCoreAssert.isTrue(r.cols==t.cols&&r.rows==t.rows,"sigmoid backward result's dimensions incorrect",void 0,"NNMLPClassifier.sigmoidBackward","NNMLPClassifier.swift",277),r},reluBackward:function(e,t){a.LegacyCoreAssert.isTrue(e.cols==t.cols&&e.rows==t.rows,"relu backward input dimensions incorrect",void 0,"NNMLPClassifier.reluBackward","NNMLPClassifier.swift",282);for(var o=[],n=i.iter(i.range(0,e.rows,!1));!n.done;n.next()){for(var r=n.value,c=[],l=i.iter(i.range(0,e.cols,!1));!l.done;l.next()){var u=l.value;t.value(r,u)>=0?c.push(e.value(r,u)):c.push(0)}o.push(c)}var d=new s.TheoMatrix(o);return a.LegacyCoreAssert.isTrue(d.cols==t.cols&&d.rows==t.rows,"relu backward result's dimensions incorrect",void 0,"NNMLPClassifier.reluBackward","NNMLPClassifier.swift",296),d}}}),n)},uMFj:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("x0BK"),s=o("9YN4");r.DCXDocumentEncoder=(n=function(e){a.DCXNodeEncoder.call(this,e,e.root);var t=[s.TheoDocument.COMPONENT_RELATIONSHIP_METADATA,s.TheoDocument.COMPONENT_RELATIONSHIP_RENDITION];this.prepareCompositeForSave(t)},i.defineClass({name:"DCXDocumentEncoder",ctor:n,superName:"DCXNodeEncoder",statics:{_implements:function(e){return"IExportDataObject"==e}},props:{finish:function(){a.DCXNodeEncoder.prototype.finish.call(this),this.discardStashedComponents()}}}),n)},uj1m:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("iCxV"),s=o("ThKb");r.MLPModel=(n=function(e,t,o,n,r,a,s,c){this.featureScalingMean=e,this.featureScalingStd=t,this.coefficients=i.clone(o),this.intercepts=i.clone(n),this.shapes=i.clone(r||[]),this.fonts=i.clone(a||[]),this.layouts=i.clone(s||[]),this.roles=i.clone(c||[]),this.fontMap={},this.finalSoftmax=!0},i.defineClass({name:"MLPModel",ctor:n,statics:{cache:{},loadNNModel:function(e){if(null==n.cache[e]){var t,o=null;if(t=i.opt(a.Host.learning,(function(t){return t.loadNNJSON(e)}))){var r,c=new s.TheoMatrix([t.featureScalingMean]),l=new s.TheoMatrix([t.featureScalingStd]);if(r=i.as(t.model,["Dictionary","String","Any"])){for(var u=i.clone(r.coefs),d=[],p=i.iter(u);!p.done;p.next()){var h=p.value;d.push(new s.TheoMatrix(h).transpose())}for(var f=i.clone(r.intercepts),m=[],g=i.iter(f);!g.done;g.next()){var y=g.value;m.push(new s.TheoMatrix([y]).transpose())}for(var T={},C=i.iter(["shapes","fonts","layouts","roles"]);!C.done;C.next()){var v=C.value;null!=r[v]?T[v]=i.clone(r[v]):T[v]=[]}o=new n(c,l,d,m,T.shapes,T.fonts,T.layouts,T.roles)}}n.cache[e]=o}return n.cache[e]}},props:{data:function(){for(var e=[],t=[],o=i.iter(this.coefficients);!o.done;o.next()){var n=o.value;e.push(n.transpose().asArray)}for(var r=i.iter(this.intercepts);!r.done;r.next()){var a=r.value;t.push(a.transpose().asFlatArray)}return i.clone(i.as({model:{coefs:e,intercepts:t,shapes:this.shapes,fonts:this.fonts,layouts:this.layouts,roles:this.roles},featureScalingMean:this.featureScalingMean.asFlatArray,featureScalingStd:this.featureScalingStd.asFlatArray},["Dictionary","String","Any"]))}}}),n)},wL85:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("URxh"),s=o("tGKA"),c=o("oKlP"),l=o("RkYL"),u=o("xm77");r.MotionSrcDropIn=(n=function(){},i.defineClass({name:"MotionSrcDropIn",ctor:n,statics:{getSrcKeyframes:function(e){var t=[],o=l.TheoTime.Zero,n=l.TheoTime.fromSeconds(1),r=s.Matrix2D.translation(new c.TheoPoint(0,-400)),i=s.Matrix2D.Identity,d=e.style.clone();return t.push(new a.KeyFrame(o,u.TimingFunctionType.Linear,r,null,d)),t.push(new a.KeyFrame(n,u.TimingFunctionType.Linear,i,null,d)),t}}}),n)},x0BK:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("ytEx"),s=o("iCxV"),c=o("8vXU"),l=o("rxGp");r.DCXNodeEncoder=(n=function(e,t){this.node_=t,a.BaseNodeEncoder.call(this,e,t)},i.defineClass({name:"DCXNodeEncoder",ctor:n,superName:"BaseNodeEncoder",statics:{_implements:function(e){return"IExportDataObject"==e}},props:{getPropertyOnNode:function(e){return i.as(this.node_.getValue(e),"AnyObject")},setPropertyOnNode:function(e,t){s.Host.logging.logForCategory(l.LogCategories.kEncode,i.toString(this.id)+" setPropertyOnNode "+e+" "+i.toString(t),c.LogLevelEnum.INFO_LEVEL),null!=t?this.node_.setValue(e,t):this.node_.removeValue(e)},createChildEncoder:function(e){var t=this.branch_.appendNode(e,null,this.node_);return new n(this.branch_,t)},findChild:function(e){return null==e?null:(t=this.branch_.getChildrenOfNode(this.node_).find((function(t){return i.as(t.getValue(a.PROPERTY_KEY_PATH),"String")==e}),this))?(s.Host.logging.logForCategory(l.LogCategories.kEncode,i.toString(this.id)+" foundChild "+t.nodeId,c.LogLevelEnum.INFO_LEVEL),new n(this.branch_,t)):a.BaseNodeEncoder.prototype.findChild.call(this,e);var t}}}),n)},ytEx:function(e,t,o){var n,r=t,i=o("oAGj"),a=o("gXiO"),s=o("3OP7"),c=o("iCxV"),l=o("fNpk");r.PROPERTY_KEY_ID="id",r.PROPERTY_KEY_TYPE="type",r.PROPERTY_KEY_NAME="name",r.PROPERTY_KEY_PATH="path",r.PROPERTY_KEY_MIMETYPE="mimeType",r.PROPERTY_KEY_ETAG="etag",r.PROPERTY_KEY_URL="url",r.PROPERTY_KEY_RELATIONSHIP="rel",r.ASSETS_PATH="assets",r.BaseNodeEncoder=(n=function(e,t){this.childNodeEncoders_=[],this.branch_=e,this.componentNode_=t,a.CoreObject.call(this)},i.defineClass({name:"BaseNodeEncoder",ctor:n,superName:"CoreObject",statics:{_implements:function(e){return"IExportDataObject"==e}},props:{prepareCompositeForSave:function(e){l.LegacyCoreAssert.isTrue(null==this.stashNode_,"creating a stashNode when we already have one?",void 0,"BaseNodeEncoder.prepareCompositeForSave","BaseNodeEncoder.swift",35),this.stashNode_=this.createTempNode(this.branch_.root);for(var t=i.iter(this.branch_.allComponents);!t.done;t.next()){var o=t.value;null!=o.relationship&&e.includes(o.relationship)||this.branch_.moveComponent(o,this.createTempNode(this.stashNode_))}for(var n=i.iter(this.branch_.getChildrenOfNode(this.branch_.root));!n.done;n.next()){var a=n.value,s=i.as(a.getValue(r.PROPERTY_KEY_RELATIONSHIP),"String");null!=s&&e.includes(s)||a.nodeId!=this.stashNode_.nodeId&&a.path!=r.ASSETS_PATH&&this.branch_.removeNode(a)}},createTempNode:function(e){var t=i.opt(c.Host.resourceUtils,(function(e){return e.makeGUID()}));return this.branch_.appendNode(t,t,e)},discardStashedComponents:function(){this.branch_.removeNode(this.stashNode_)},getPropertyOnNode:function(e){return l.LegacyCoreAssert.fail("must be overridden",void 0,"BaseNodeEncoder.getPropertyOnNode","BaseNodeEncoder.swift",80),null},setPropertyOnNode:function(e,t){l.LegacyCoreAssert.fail("must be overridden",void 0,"BaseNodeEncoder.setPropertyOnNode","BaseNodeEncoder.swift",85)},id:{get:function(){return i.as(this.getPropertyOnNode(r.PROPERTY_KEY_ID),"String")}},path:{get:function(){return i.as(this.getPropertyOnNode(r.PROPERTY_KEY_PATH),"String")}},setName:function(e){this.setPropertyOnNode(r.PROPERTY_KEY_NAME,i.as(e,"AnyObject"))},setType:function(e){this.setPropertyOnNode(r.PROPERTY_KEY_TYPE,i.as(e,"AnyObject"))},setPath:function(e){this.setPropertyOnNode(r.PROPERTY_KEY_PATH,i.as(e,"AnyObject"))},setProperty:function(e,t){var o=s.DocumentPersistenceFactory.namespacedPropertyName(e);this.setPropertyOnNode(o,t)},setOptionalStringProperty:function(e,t){this.setProperty(e,i.as(t,"AnyObject"))},setStringProperty:function(e,t){this.setProperty(e,i.as(t,"AnyObject"))},setNumberProperty:function(e,t){l.LegacyCoreAssert.isFalse(isNaN(t),"Can't set NaN for prop.",{property:e},"BaseNodeEncoder.setNumberProperty","BaseNodeEncoder.swift",122),this.setProperty(e,i.as(t,"AnyObject"))},setIntProperty:function(e,t){this.setProperty(e,i.as(t,"AnyObject"))},setBooleanProperty:function(e,t){this.setProperty(e,i.as(t,"AnyObject"))},setOptionalBooleanProperty:function(e,t){this.setProperty(e,i.as(t,"AnyObject"))},createChildEncoder:function(e){return l.LegacyCoreAssert.fail("must be overridden",void 0,"BaseNodeEncoder.createChildEncoder","BaseNodeEncoder.swift",139),new n(this.branch_,this.componentNode_)},findChild:function(e){return null==e?null:this.childNodeEncoders_.find((function(t){return t.path==e}),this)},appendChild:function(e){var t=this.createChildEncoder(e);return this.childNodeEncoders_.push(t),t},appendComponent:function(e,t,o){var n,r=i.opt(c.Host.pathUtils,(function(e){return e.absolutePathFromURL(t)})),a=e,s=i.clone(i.opt(i.opt(c.Host.pathUtils,(function(e){return e.lastPathComponentFromURL(t)})),(function(e){return e.split(".")})));if(null!=s&&s.length>1){var l=i.last(s);i.isEmpty(l)||(a+="."+l)}if(n=this.branch_.getComponentWithId(e)){if(this.nodeHasComponentWithPath(n.path)||i.opt(n.path,(function(e){return 1==e.includes("/")}))){var u=n.mutableCopy;u.path=a,n=this.branch_.updateComponent(u,null,!1)}this.branch_.moveComponent(n,this.componentNode_)}else i.opt(r,(function(e){return 1==e.startsWith("shapes/")}))||this.branch_.addComponent(e,e,o,null,a,this.componentNode_,r,!0,null)},nodeHasComponentWithPath:function(e){if(null!=e)for(var t=i.iter(this.branch_.getComponentsOfNode(this.componentNode_));!t.done;t.next())if(t.value.path==e)return!0;return!1},setCompositeID:function(e){},setDocumentSize:function(e,t){},setManifestProperty:function(e,t,o){o?this.getManifestEncoder().setProperty(e,t):this.getManifestEncoder().setPropertyOnNode(e,t)},getManifestEncoder:function(){return this},finish:function(){for(var e=i.iter(this.childNodeEncoders_);!e.done;e.next())e.value.finish()}}}),n)}}]);
//# sourceMappingURL=vendors_npm_spark_28b70a57-e9f87caf.js.map