(window.webpackJsonptheoWebApp=window.webpackJsonptheoWebApp||[]).push([[100,77,89],{"/QpO":function(e,t,o){var a,n;a=[o("xeH2"),o("YLtl"),o("W1Jy"),o("2Fsf"),o("tpS0"),o("KFmL"),o("rPfa"),o("bBG2"),o("6G8C"),o("UzQk"),o("3xm6"),o("rJP3")],void 0===(n=function(e,t,o,a,n,i,l,r,s,d,c,u){const p=r.default,h=u.default;return function(e){(e=e||{}).layout="rows",e.panels=[{id:"PostSidebarBackgroundColorActions",size:"96px"},{id:"PostSidebarBackgroundColorsList",class:"post-panel-divider-above",size:"auto"}];var a,n,i=new o(e),r=[],u={},E=t.throttle((function(e){if(!i.isHidden()&&a){e=e||{};var o=a.getSelectedForma();o&&(o.controller.moveable?(u.opacitySlider.show(),u.opacitySlider.setValue(a.getOpacitySliderValueOfSelectedForma()),i.update({panels:[{id:"PostSidebarBackgroundColorActions",size:"96px"},{id:"PostSidebarBackgroundColorsList",class:"post-panel-divider-above",size:"auto"}]})):(u.opacitySlider.hide(),i.update({panels:[{id:"PostSidebarBackgroundColorActions",size:"0px"},{id:"PostSidebarBackgroundColorsList",class:"post-panel-divider-above",size:"auto"}]})),e.doFade?(u.listOfBgColors.$el.addClass("fade-out"),t.delay((function(){m(o,e),u.listOfBgColors.update(),u.listOfBgColors.$el.removeClass("fade-out")}),100)):(m(o,e),u.listOfBgColors.update()))}}),400);function g(){var e=a.getSelectedForma();e&&(n=e.formaID),E({doFade:!1,updateSelection:!0}),r.push(a.events.subscribe("forma-selected",(function(e){var t;e.forma&&(e.forma.formaID!==n?(t=e.forma.formaID,n=t,E({doFade:!0,updateSelection:!1}),u.listOfBgColors.closeColorPicker()):(f(e.forma,{updateSelection:!1}),u.listOfBgColors.update()))})))}function b(){!function(){for(var e=0;e<r.length;e++)r[e].remove();r=[]}()}function m(e,o){if(!i.isHidden()&&e){o.includeNoneCategory=function(e){const t=d.ImageFacade.getFrameFormaForForma(e);return t&&t.controller&&t.controller.canHaveNoneFillColor()}(e),o.includeNoneCategory?u.listOfBgColors.setNoneSection():u.listOfBgColors.removeNoneSection(),f(e,o);var a=e.controller.getSuggestableColors(),n=t.map(a,(function(e){return[{red:255*e[0].rgbColor.red,green:255*e[0].rgbColor.green,blue:255*e[0].rgbColor.blue,roles:e[0].sparkRoles,id:e[0].sparkElementID}]}));u.listOfBgColors.setSuggestedColors(n),u.listOfBgColors.setDefaultColors()}}function f(e,t){if(!a)return;if(!(e=e||a.getSelectedForma()))return;const o=[];if(function(e){if(e&&e.isImage()){const t=d.ImageFacade.getFrameFormaForForma(e);return d.ImageFacade.canApplyBackgroundColor(t)}return!0}(e)){const t=a.getFormaBackgroundColor(e);t&&o.push({red:255*t.rgbColor.red,green:255*t.rgbColor.green,blue:255*t.rgbColor.blue,alpha:t.rgbColor.alpha,roles:t.sparkRoles,id:t.sparkElementID})}u.listOfBgColors.setCurrentColors(o,t)}function T(e,t){if(i.events.publish("bg-color-selected",e,t),e&&e[0]&&e[0].isBKColor){var o=h.currentBrandKit(),a=o?o.getTypeForAnalytics():null;p.publish("usedBrandKitBGColor",{contextualData3:a})}}function S(){a.beginGesture("background-shape-opacity")}function _(){a.endGesture(!0)}function C(e){a.setOpacityForSelectedFormae(e.value).done()}return i.setCoreWrapper=function(e){a=e},i.setBrandKitColors=function(e){u.listOfBgColors.setBrandKitColors(e)},i.removeBrandkitSections=function(){u.listOfBgColors.removeBrandkitSections()},i.handleEyeDropperClicked=function(e){u.listOfBgColors.handleEyeDropperClicked(e)},i.handleEyeDropperMoved=function(e,t){u.listOfBgColors.handleEyeDropperMoved(e,t)},i.selectCurrentColor=function(e){u.listOfBgColors.selectCurrentColor(e)},i.el.className+=" post-sidebar-background-color",u.opacitySlider=new l({parent:"PostSidebarBackgroundColorActions",id:"PostBannerColorOpacitySlider",onSlide:C,onSlideStart:S,onSlideEnd:_,top:60,left:28,sliderWidth:232,sliderHitBuffer:20,minValue:.05,maxValue:1,roundValues:!1,showValueTooltip:!0,label:"i18n.components.slider.kOpacity",labelClass:"label-above",computeTooltipValue:function(e){return c.translate("components.slider.kValueLabel",{sliderValue:Math.round(100*e)})}}),u.listOfBgColors=new s({elementClassName:"post-bg-colors-list",parent:"PostSidebarBackgroundColorsList",hidden:!1,top:0,bottom:0,colorPicker:e.colorPicker}),i.events.subscribe("shown",g),i.events.subscribe("hidden",b),u.listOfBgColors.events.subscribe("item-selected",T),u.listOfBgColors.events.subscribe("update-color",T),i.republish(u.listOfBgColors.events,"eyedropper-changed"),i}}.apply(t,a))||(e.exports=n)},"0IaF":function(e,t,o){var a,n;a=[o("xeH2"),o("YLtl"),o("BG/d"),o("2AzE")],void 0===(n=function(e,t,o,a){return function(e){(e=e||{}).renderOvershoot=400,e.sections=[{id:"PostBrandPrimaryLogos",maxTileWidth:300,tileMargin:15,tileAspect:2,verticalPadding:15,label:"i18n.panels.logo.kPrimary",labelHeight:30},{id:"PostBrandSecondaryLogos",maxTileWidth:100,tileMargin:15,tileAspect:108/87,verticalPadding:15,label:"i18n.panels.logo.kMore",labelHeight:45}];var t=new a(e),n=[],i=[],l=!1;function r(e){var t=new o({data:null,selected:!1,hidden:!0,reselectable:!0,template:"<div class='postspinner' style='height:100%;width:100%;background-size:contain;background-repeat:no-repeat;background-position:center'></div>"});return e&&e.then((function(e){!function(e,t){e.update({data:t});var o=e.$el.find("div");o.css("background-image","url("+t.fullResUrl+")"),o.removeClass("postspinner")}(t,e)})),t}function s(){0===n.length&&0===i.length?t.events.publish("show-no-logos-panel"):(t.setItems(n,"PostBrandPrimaryLogos"),t.setItems(i,"PostBrandSecondaryLogos"),l&&t.addItems([new o({selectable:!1,hidden:!0,template:"<div class='post-add-logo-tile'></div>",onClick:function(){t.events.publish("upload-new-logo")}})],"PostBrandSecondaryLogos"),t.events.publish("hide-no-logos-panel")),t.handleScroll()}return t.setBrandKitLogos=function(e){if(e){n=[],i=[],l=e.belongsToUser;var t=e.primaryLogoPromise,o=e.secondaryLogoPromises;t&&n.push(r(t)),o&&o.length&&o.forEach((function(e){i.push(r(e))})),s()}},t.el.className+=" post-logos-list",t.events.subscribe("shown",s),t}}.apply(t,a))||(e.exports=n)},"4eTD":function(e,t,o){var a,n;a=[o("xeH2"),o("YLtl"),o("2Fsf"),o("W1Jy"),o("KFmL"),o("+VG/"),o("rPfa"),o("bBG2"),o("UzQk"),o("Pbp+"),o("3xm6")],void 0===(n=function(e,t,o,a,n,i,l,r,s,d,c){const u=r.default;return function(e){(e=e||{}).layout="rows",e.panels=[{id:"PostSidebarIconActions",size:"175px"},{id:"PostSidebarIconFlip",class:"post-panel-divider-above",size:"95px"},{id:"PostSidebarIconReplace",class:"post-panel-divider-above",size:"auto"}];var r,s=new a(e),p={},h=t.throttle((function(){s.isHidden()||(r.getSelectedForma()?(r.getNumLayers()>1?(p.layerSlider.enable(),function(){p.layerSlider.update({maxValue:r.getNumLayers()-1});var e=r.getLayerSliderValueOfSelectedForma();p.layerSlider.setValue(e)}()):p.layerSlider.disable(),p.opacitySlider.enable(),p.opacitySlider.setValue(r.getOpacitySliderValueOfSelectedForma())):(p.layerSlider.disable(),p.opacitySlider.disable()))}),400);function E(){h()}function g(e){s.events.publish("buttonpress-replace-icon",e),u.publish("editor:icon:replacedPressed")}function b(){r.beginGesture("icon-layer")}function m(){r.endGesture(!0)}function f(e){r.setLayerForSelectedForma(e.value).done()}function T(){u.publish("editor:icon:opacityValueChanged"),r.beginGesture("icon-opacity")}function S(){r.endGesture(!0)}function _(e){r.setOpacityForSelectedFormae(e.value).done()}function C(e){var t=r.getSelectedForma();r.flipForma(e,t)}return s.setCoreWrapper=function(e){(r=e).events.subscribe("forma-added",h),r.events.subscribe("formae-deleted",h),r.events.subscribe("forma-selected",h)},function(){s.el.className+=" post-sidebar-icon-tab",p.iconActionsPanel=new o({parent:"PostSidebarIconActions"}),p.opacitySlider=new l({parent:p.iconActionsPanel,id:"PostIconOpacitySlider",onSlide:_,onSlideStart:T,onSlideEnd:S,top:60,left:28,sliderWidth:232,sliderHitBuffer:20,minValue:.05,maxValue:1,roundValues:!1,showValueTooltip:!0,label:"i18n.components.slider.kOpacity",labelClass:"label-above",computeTooltipValue:function(e){return c.translate("components.slider.kValueLabel",{sliderValue:Math.round(100*e)})}}),p.layerSlider=new l({parent:p.iconActionsPanel,id:"PostIconLayerSlider",onSlide:f,onSlideStart:b,onSlideEnd:m,top:123,left:28,sliderWidth:232,minValue:0,maxValue:1,roundValues:!0,label:"i18n.components.slider.kOrder",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:function(e){return e+1}}),p.iconFlipPanel=new o({parent:"PostSidebarIconFlip",id:"PostIconFlipPanel"}),p.flipButtonContainer=new o({id:"PostFlipContainer",parent:"PostIconFlipPanel",top:15,left:25,height:75,width:150}),p.flipLabel=new o({parent:"PostFlipContainer",id:"PostFlipLabel",tag:"p",top:0,left:0,height:20,width:36,template:"<p>i18n.panels.images.kFlip</p>"}),p.flipHWrapper=new o({id:"PostFlipHWrapper",parent:"PostFlipContainer",top:20,left:0,height:40,width:55}),p.flipHButton=new i({parent:"PostFlipHWrapper",label:"",id:"PostFlipHButton",hoverLabel:"i18n.components.buttons.flipHorizontal.kHoverLabel",height:40,width:55,onClick:function(){C(!1)}}),p.flipVWrapper=new o({id:"PostFlipVWrapper",parent:"PostFlipContainer",top:20,left:64,height:40,width:55}),p.flipVButton=new i({parent:"PostFlipVWrapper",label:"",id:"PostFlipVButton",hoverLabel:"i18n.components.buttons.flipVertical.kHoverLabel",height:40,width:55,onClick:function(){C(!0)}}),p.iconReplacePanel=new o({parent:"PostSidebarIconReplace"}),p.iconButtonWrapper=new o({parent:p.iconReplacePanel,height:"auto",top:0});var e="i18n.components.buttons.kReplaceIcon";d.run("IconShapeExperiment",{shape_for_icon_label:function(t){e="i18n.components.buttons.kReplaceShape"},control:function(e){}}).then((function(t){p.replaceIconButton=new n({parent:p.iconButtonWrapper,label:e,id:"ReplaceIconButton",class:"post-centered-button",onClick:g})})).done(),s.events.subscribe("shown",E)}(),s}}.apply(t,a))||(e.exports=n)},"7VrH":function(e,t,o){var a,n;a=[o("xeH2"),o("YLtl"),o("NgGw"),o("Dfrx")],void 0===(n=function(e,t,o,a){return function(e){var t=new o(e=e||{}),n=t.update,i={};function l(){}return t.setCoreWrapper=function(e){e,i.group.setCoreWrapper(e)},t.update=function(e){n(e=e||{}),e.attributes&&i.group.update(e)},t.el.className+=" post-sidebar-group",i.group=new a({parent:t,hidden:!0,visibilityGroup:"group-sidebar"}),t.registerSidebarTabWithId(i.group,"group"),t.events.subscribe("shown",l),t}}.apply(t,a))||(e.exports=n)},"7len":function(e,t,o){"use strict";o.r(t),o.d(t,"AnimationOptions",(function(){return s}));var a=o("3xm6"),n=o.n(a);function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class s{constructor(){r(this,"MAX_COLOR_VARIANT",5),r(this,"MAX_STYLE_VARIANT",3),r(this,"translatedText",this._getTranslatedText()),r(this,"categoryNone",{categoryName:"",buttonList:[{name:"None",label:this.translatedText.NAME_NO_STYLE,type:"icon-button"}]})}getInitialAnimationOptions(){return[this.categoryNone]}updateAnimationOptions(e){const t=[];let o=!1,a=!1;const n={categoryName:this.translatedText.TEXT_CATEGORY,buttonList:[]},i={categoryName:this.translatedText.PHOTO_CATEGORY,buttonList:[]},l=e.getColorPalette(),r=e.getDisplayableAnimationStyles();for(let t=0;t<r.length;++t){const s=r[t];if(s){let t=null;t="Color"===s.name||"Fill"===s.name?this._buildDropdown(e,{name:s.name,label:this._getAnimationLabel(e,s),colors:l},!0):s.variantCount>1?this._buildDropdown(e,{name:s.name,label:this._getAnimationLabel(e,s),variantCount:s.variantCount},!1):{name:s.name,type:"icon-button",label:this._getAnimationLabel(e,s)},t&&s.textStyle?(o=!0,n.buttonList.push(t)):t&&s.imageStyle?(a=!0,i.buttonList.push(t)):"None"!==s.name&&console.warn("unkown category animation style: "+s.name)}}return t.push(this.categoryNone),o&&t.push(n),a&&t.push(i),t}_buildDropdown(e,t,o=!1){const{name:a,label:i}=t;return{label:i,type:"theo-sidebar-button-dropdown",name:a+"-dropdown",icon:a.toLowerCase(),dropdownLabel:o?n.a.translate("app.animationStyles.kColorDropdownLabel"):"",dropdownList:o?this._getColorsDropdownList(e,t,a):this._getImageDropdownList(t,a)}}_getImageDropdownList(e,t){const{variantCount:o}=e;let a=[],n=0;"Dynamic"===t&&(n=1);for(let e=0;e<Math.min(o,this.MAX_STYLE_VARIANT);++e){const o={type:"image-button",name:`${t}${e+n}`,options:{imageUrl:`/theo-web/images/modules/component/icons/${`${t}${e}`.toLowerCase()}.gif`}};a=[...a,o]}return a}_getColorsDropdownList(e,t,o){const{colors:a}=t;let n=[];for(let t=0;t<Math.min(a.length,this.MAX_COLOR_VARIANT);++t){const i={type:"color-button",name:`${o}${e.getColorAnimationVariant(a[t].color)}`,options:{colorHex:"#"+a[t].color}};n=[...n,i]}return n}_getAnimationLabel(e,t){const o=e.getCoreAnimationStyle();if(o){const e=Object.keys(this.translatedText).filter(e=>t.name===o[e]);return this.translatedText[e]||t.name}return t.name}_buildCategory(){}_getTranslatedText(){return Object.entries({TEXT_CATEGORY:"app.animationStyles.kTextCategoryName",PHOTO_CATEGORY:"app.animationStyles.kPhotoCategoryName",NAME_NO_STYLE:"app.animationStyles.kNoStyle",NAME_TYPE:"app.animationStyles.kTypewriter",NAME_DYNAMIC:"app.animationStyles.kDynamic",NAME_FLICKER:"app.animationStyles.kFlicker",NAME_COLORSWAP:"app.animationStyles.kColorShuffle",NAME_FADE:"app.animationStyles.kFade",NAME_SLIDE:"app.animationStyles.kSlide",NAME_GROW:"app.animationStyles.kGrow",NAME_ZOOM:"app.animationStyles.kZoom",NAME_PAN:"app.animationStyles.kPan",NAME_GRAYSCALE:"app.animationStyles.kGrey",NAME_BLUR:"app.animationStyles.kBlur",NAME_COLOR:"app.animationStyles.kColor",NAME_FILL:"app.animationStyles.kFade"}).reduce((e,[t,o])=>l(l({},e),{},{[t]:n.a.translate(o)}),{})}}t.default=s},"8t++":function(e,t,o){var a,n;a=[o("YLtl"),o("BG/d"),o("2AzE"),o("UzQk"),o("3xm6")],void 0===(n=function(e,t,o,a,n){return function(i){(i=i||{}).sections=[{id:"custom",maxTileWidth:100,tileMargin:40,horizontalPadding:38,verticalPadding:30,label:"i18n.panels.crop.kStandard",labelHeight:37,class:"post-panel-divider-above"},{id:"standard",maxTileWidth:100,tileMargin:40,horizontalPadding:38,verticalPadding:15,label:"i18n.panels.crop.kRatios",labelHeight:37},{id:"shapes",labelHeight:37,maxTileWidth:100,tileMargin:40,horizontalPadding:38,verticalPadding:15,label:"i18n.panels.crop.kShapes"}];const l=new o(i);function r(e){const o=e.aspectRatio||1,a=Math.sqrt(5625/o),i=o*a,l=!!e.reselectable,r=e.label||"",s=r&&"i18n.panels.crop."+n.toLocaleKey(r);let d="";e.secondaryLabel&&(d=`<div class="overlay-label">i18n.panels.crop.${n.toLocaleKey(e.secondaryLabel)}</div>`),"string"!=typeof e.iconId&&(e.iconId="");const c=`<div data-i18n="[aria-label]panels.badges.kNewlabel" class="aspect" style="${`margin-left:-${Math.round(i/2)}px;margin-top:-${Math.round(a/2)}px;width:${Math.round(i)}px;height:${Math.round(a)}px;`}">\n                                <div class="overlay">\n                                  <div class="overlay-aspect-icon crop-icon-${e.iconId.toLowerCase()}"></div>\n                                  ${d}\n                                </div>\n                                <div class="label">${s}</div>\n                            </div>`;return new t({data:e,reselectable:l,group:"crops",class:"",selected:!1,hidden:!0,template:c})}function s(e){const o=`${window.THEO_BUNDLE_PATH}/images/images/shapes/svg/${e.id}.svg`;return e.shapeId=e.id,new t({data:e,reselectable:!1,group:"crops",class:"vector-shape-crops",selected:!1,showShuffleOverlay:!1,shuffleLabel:"i18n.common.kShuffle",hidden:!0,template:`<div class='crop-shape' style='-webkit-mask-image: url(${o});mask-image: url(${o});'></div>`})}return l.selectSection=function(t){e.delay((function(){"crop"===t.section?l.scrollToSection("custom"):"shape"===t.section&&l.scrollToSection("shapes")}),50)},l.updateTiles=function(e){const t=(e=e||{}).forma,o=a.ImageFacade.getMaskForForma(t),n=o&&o.id,i=a.ImageFacade.getCropRatioId(t);let d=i,c=!1;l.setItems([r(a.CropRatioPresetLibrary.FREECROP_PRESET)],"custom");const u=a.CropRatioPresetLibrary.getListOfRatios(),p=a.CropRatioPresetLibrary.ORIGINAL_SIZE_PRESET,h=a.ImageFacade.getImageFormaForForma(t);h&&(p.aspectRatio=h.bounds.aspectRatio);const E=[r(p)];for(let e=0;e<u.length;e++)E.push(r(u[e])),u[e].id===i&&(d=u[e].id,c=!1);l.setItems(E,"standard");const g=a.CropAssetLibrary.getListOfShapes(),b=[];for(let e=0;e<g.length;e++)b.push(s(g[e])),g[e].id===n&&(d=g[e].id,c=!0);return l.setItems(b,"shapes"),null!==d&&l.selectItemWithProperty("id",d,{silent:!0}),l.update(),{selectionId:d,selectedShape:c}},l.$el.addClass("post-crops-list"),l}}.apply(t,a))||(e.exports=n)},Af0U:function(e,t,o){var a,n;a=[o("xeH2"),o("UFvF"),o("YLtl"),o("BG/d"),o("2AzE")],void 0===(n=function(e,t,o,a,n){var i,l,r;return function(s){var d={id:"Suggested",tileAspect:2.5,maxTileWidth:100,columns:2,verticalPadding:30,tileMargin:10,label:"i18n.panels.layout.kSuggested",labelHeight:37},c={id:"Grid",tileAspect:2.5,maxTileWidth:100,columns:2,verticalPadding:30,tileMargin:10,label:"i18n.panels.layout.kGrid",labelHeight:37},u={id:"Simple",tileAspect:2.5,maxTileWidth:300,verticalPadding:30,tileMargin:10,label:"i18n.panels.layout.kSimple",labelHeight:37},p={id:"Banner",tileAspect:2.5,maxTileWidth:100,columns:2,verticalPadding:30,tileMargin:10,label:"i18n.panels.layout.kBanner",labelHeight:37};(s=s||{}).sections=[];var h=new n(s);function E(t,o,n,i){i=i||1;var s=l/r,d=Math.min(l,220/i),c=d/s,u=t.numBackgroundCells>1,p='<div class="aspect" style="left:50%;top:50%;margin-left:-'+Math.round(d/2)+"px;margin-top:-"+Math.round(c/2)+"px;width:"+Math.round(d)+"px;height:"+Math.round(c)+'px;"></div>',h=new a({group:"grids",data:o,selected:n,reselectable:u,showShuffleOverlay:u,shuffleLabel:"i18n.common.kShuffle",hidden:!0,template:p});return h.$el.find(".aspect").prepend(function(t,o,a){var n,i=e('<div class="grid-thumbnail"></div>').css({width:"100%",height:"100%"}),l=t.overlappingCells();return t.gridCells.forEach((function(t){n=e("<div></div>");var r=l.indexOf(t)>-1,s=t.bounds.minY*a,d=t.bounds.minX*o,c=(t.bounds.maxX-t.bounds.minX)*o,u=(t.bounds.maxY-t.bounds.minY)*a;0===t.bounds.minY&&(s+=4,u-=4),1===t.bounds.maxY&&(u-=4),0===t.bounds.minX&&(d+=4,c-=4),1===t.bounds.maxX&&(c-=4),r||(0!==t.bounds.minY&&(s+=2,u-=2),1!==t.bounds.maxY&&(u-=2),0!==t.bounds.minX&&(d+=2,c-=2),1!==t.bounds.maxX&&(c-=2)),n.css({top:s+"px",left:d+"px",width:c+"px",height:u+"px"}).addClass("grid-cell"),r&&n.addClass("foreground-grid-cell"),i.append(n)})),i}(t,d,c)),h}function g(){var e=i.getPageAspectRatio();"original"===e?(r=Math.sqrt(7500),l=4/3*r):(r=Math.sqrt(1e4/e),l=e*r,e>1&&l>220&&(l=220,r=Math.max(44,Math.round(r*(1/e)))),e<1&&r>140&&(r=140,l=Math.max(28,e*r))),h.updateSections({tileHeight:r+20}),h.updateTiles()}function b(e,t){if(h.removeSection(t.id),e.length){h.addSection(o.defaults({},t));for(var a=[],n=0;n<e.length;n++){var i={name:e[n].name,gridStyle:e[n],silent:!0};a.push(E(e[n],i,!1,t.columns))}h.setItems(a,t.id)}}return h.updateTilesAfterImageLoad=function(){if(i){var e=i.hostImages(),a=[];o.each(e,(function(e){e.loaded()||a.push(e.getImageLoadedPromise())})),0===a.count?h.updateTiles():t.all(a).then((function(){h.updateTiles()}))}},h.updateTiles=function(){i&&i.getAllGridStyles().then((function(e){var t=[],o=[],a=[],n=[];e.forEach((function(e){"Suggested"===e.category?o.push(e):"Banner"===e.category||e.overlappingCells().length?a.push(e):"Simple"===e.category?t.push(e):n.push(e)})),b(o,d),b(t,u),b(a,p),b(n,c),h.updateSections({tileHeight:r+20}),h.update()}))},h.selectLayout=function(e){var t=h.getSelected();if(!t||t.item.data.name!==e.name){var o=h.getItemWithProperty("name",e.name);o&&o.item.select({silent:!0})}},h.setCoreWrapper=function(e){i=e,g(),e.events.subscribe("formae-deleted",h.updateTiles),e.events.subscribe("undo-finished",h.updateTiles),e.events.subscribe("redo-finished",h.updateTiles),e.events.subscribe("image-set-background",h.updateTiles),e.events.subscribe("image-set-foreground",h.updateTiles),e.events.subscribe("forma-added",h.updateTilesAfterImageLoad),e.events.subscribe("document-size-changed",g)},h.el.className+=" post-grids-list",h}}.apply(t,a))||(e.exports=n)},Dfrx:function(e,t,o){var a,n;a=[o("xeH2"),o("YLtl"),o("2Fsf"),o("W1Jy"),o("KFmL"),o("+VG/"),o("rPfa"),o("8DU0"),o("GSfz"),o("UzQk"),o("3xm6")],void 0===(n=function(e,t,o,a,n,i,l,r,s,d,c){const u=r.default;return function(e){(e=e||{}).layout="rows",e.panels=[{id:"PostSidebarGroupActions",size:"175px"},{id:"PostSidebarUngroup",class:"post-panel-divider-above",size:"95px"}];var n,r=s.keys.POST_SEEN_UNGROUP_MENU,d=new a(e),p={},h=t.throttle((function(){d.isHidden()||(n.getSelectedForma()?(n.getNumLayers()>1?(p.layerSlider.enable(),function(){p.layerSlider.update({maxValue:n.getNumLayers()-1});var e=n.getLayerSliderValueOfSelectedForma();p.layerSlider.setValue(e)}()):p.layerSlider.disable(),p.opacitySlider.enable(),p.opacitySlider.setValue(n.getOpacitySliderValueOfSelectedForma()),p.ungroupButton.enable()):(p.layerSlider.disable(),p.opacitySlider.disable(),p.ungroupButton.disable()))}),400);function E(){h()}function g(){n.beginGesture("group-layer")}function b(){n.endGesture(!0)}function m(e){n.setLayerForSelectedForma(e.value).done()}function f(){n.beginGesture("group-opacity")}function T(){n.endGesture(!0)}function S(e){n.setOpacityForSelectedFormae(e.value).done()}function _(){u.setSetting(r,!0);const e=n.getAllSelectedFormas();n.ungroupItems(e,!0,"button")}return d.setCoreWrapper=function(e){(n=e).events.subscribe("forma-added",h),n.events.subscribe("formae-deleted",h),n.events.subscribe("forma-selected",h)},d.el.className+=" post-sidebar-group-tab",p.groupActionsPanel=new o({parent:"PostSidebarGroupActions"}),p.opacitySlider=new l({parent:p.groupActionsPanel,id:"PostGroupOpacitySlider",onSlide:S,onSlideStart:f,onSlideEnd:T,top:60,left:28,sliderWidth:232,sliderHitBuffer:20,minValue:.05,maxValue:1,roundValues:!1,showValueTooltip:!0,label:"i18n.components.slider.kOpacity",labelClass:"label-above",computeTooltipValue:function(e){return c.translate("components.slider.kValueLabel",{sliderValue:Math.round(100*e)})}}),p.layerSlider=new l({parent:p.groupActionsPanel,id:"PostGroupLayerSlider",onSlide:m,onSlideStart:g,onSlideEnd:b,top:123,left:28,sliderWidth:232,minValue:0,maxValue:1,roundValues:!0,label:"i18n.components.slider.kOrder",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:function(e){return e+1}}),p.ungroupPanel=new o({parent:"PostSidebarUngroup",id:"PostUngroupPanel"}),p.ungroupButton=new i({parent:p.ungroupPanel,id:"PostUngroupButton",class:"post-centered-button image-sidebar-button",label:"i18n.components.buttons.kUngroup",height:50,width:145,onClick:_}),d.events.subscribe("shown",E),d}}.apply(t,a))||(e.exports=n)},FIWz:function(e,t,o){var a,n;a=[o("xeH2"),o("YLtl"),o("NgGw"),o("/QpO"),o("I9uX"),o("rOUP")],void 0===(n=function(e,t,o,a,n,i){return function(e){var t=new o(e=e||{}),l={};return t.updateFilters=function(e){(e=e||{}).whilePanelVisibleOnly&&l.looks.isHidden()||l.looks.updateFilters(e)},t.setCoreWrapper=function(e){l.looks.setCoreWrapper(e),l.image.setCoreWrapper(e),l.color.setCoreWrapper(e)},t.update=function(e){l.looks.update(e),l.image.update(e),l.color.update(e)},t.setBrandKitColors=function(e){l.color.setBrandKitColors(e)},t.removeBrandkitSections=function(){l.color.removeBrandkitSections()},t.handleEyeDropperClicked=function(e){l.color.handleEyeDropperClicked(e)},t.handleEyeDropperMoved=function(e,t){l.color.handleEyeDropperMoved(e,t)},t.selectCurrentColor=function(e){l.color.selectCurrentColor(e)},t.el.className+=" post-sidebar-background",l.looks=new i({parent:t,hidden:!0,enablePixiRenderer:e.enablePixiRenderer,visibilityGroup:"background-sidebar",class:"post-panel-scrollable"}),l.image=new n({parent:t,hidden:!0,visibilityGroup:"background-sidebar",enableFlip:e.enableFlip,disableImageFrames:e.disableImageFrames,cutoutEnabled:e.cutoutEnabled}),l.color=new a({parent:t,hidden:!0,colorPicker:e.colorPicker,visibilityGroup:"background-sidebar"}),t.registerSidebarTabWithId(l.looks,"looks"),t.registerSidebarTabWithId(l.image,"image"),t.registerSidebarTabWithId(l.color,"color"),t.republish(l.image.events,"buttonpress-change-photo"),t.republish(l.image.events,"buttonpress-set-foreground"),t.republish(l.image.events,"buttonpress-set-background"),t.republish(l.image.events,"buttonpress-crop"),t.republish(l.image.events,"buttonpress-set-cutout-none"),t.republish(l.image.events,"buttonpress-set-cutout-remove-background"),t.republish(l.looks.events,"filter-selected"),t.republish(l.color.events,"bg-color-selected"),t.republish(l.color.events,"image-forma-replace-with-color"),t.republish(l.color.events,"eyedropper-changed"),t.republish(l.image.events,"hidden","hide-image-picker"),t}}.apply(t,a))||(e.exports=n)},"GN+k":function(e,t,o){var a,n;a=[o("xeH2"),o("YLtl"),o("2Fsf"),o("NgGw"),o("KFmL"),o("+VG/"),o("+Mhg"),o("rPfa"),o("0IaF")],void 0===(n=function(e,t,o,a,n,i,l,r,s){return function(e){(e=e||{}).layout="rows",e.panels=[{id:"PostSidebarLogoActions",size:"24px"},{id:"PostSidebarLogoContent",size:"auto"}];var t=new a(e),r={};function d(){}function c(e){t.events.publish("item-selected",e)}function u(e){t.events.publish("logo-uploaded",e),r.logoLocalInput.clearValue()}function p(){r.logoLocalInput&&r.logoLocalInput.click(),t.events.publish("buttonpress-uploadNewLogo")}function h(){t.hide(),t.events.publish("buttonpress-closeLogoPanel")}function E(){r.logoActionsPanel.hide(),r.listOfLogos.hide()}function g(){r.logoActionsPanel.show(),r.listOfLogos.show()}return t.setCoreWrapper=function(){},t.el.className+=" post-sidebar-logo",r.closeButton=new i({parent:"PostSidebarLogoActions",class:"close-button",id:"LogoActionsCloseLogo",width:24,height:24,onClick:h}),r.logoActionsPanel=new o({parent:"PostSidebarLogoActions"}),r.logoLocalInput=new l({parent:r.sidebarLogo,type:"image",hidden:!0}),r.noLogosActionPanel=new o({parent:t,id:"PostLogoNoLogosPanel",hidden:!0}),r.noLogosActionContent=new o({parent:r.noLogosActionPanel,top:60}),r.noLogoAddLogo=new n({parent:r.noLogosActionContent,id:"PostNoLogosAddLogoButton",label:"i18n.panels.addNewLogo.kAddNewLogo",class:"pill pill-asset",onClick:p}),r.addLogoMessage=new o({parent:r.noLogosActionContent,id:"PostLogoPanelAddLogoMessage",template:"<p>i18n.panels.addNewLogo.kMessage1</p><p>i18n.panels.addNewLogo.kMessage2</p>",top:75,height:100}),r.listOfLogos=new s({parent:"PostSidebarLogoContent"}),t.events.subscribe("shown",d),r.listOfLogos.events.subscribe("item-selected",c),r.listOfLogos.events.subscribe("upload-new-logo",p),r.listOfLogos.events.subscribe("show-no-logos-panel",r.noLogosActionPanel.show),r.listOfLogos.events.subscribe("hide-no-logos-panel",r.noLogosActionPanel.hide),r.noLogosActionPanel.events.subscribe("shown",E),r.noLogosActionPanel.events.subscribe("hidden",g),r.logoLocalInput.events.subscribe("item-selected",u),t}}.apply(t,a))||(e.exports=n)},HPKp:function(e,t,o){var a,n;a=[o("Avqh"),o("2Fsf"),o("W1Jy"),o("KFmL"),o("+VG/"),o("rPfa"),o("Lo4C"),o("8t++"),o("bBG2"),o("UzQk")],void 0===(n=function(e,t,o,a,n,i,l,r,s,d){const c=s.default;return function(a){(a=a||{}).layout="rows",a.panels=[{id:"CropPickerHeader",size:"255px"},{id:"CropPickerCrops",class:"post-panel-divider-above",size:"auto"}];const s=new o(a),u={};let p,h,E,g,b="none",m="none",f=!1,T=!1,S=!1,_=!1,C=!1;function A(e){const t=h.getSelectedForma();h.flipForma(e,t)}function O(e){const t=!(null!==e.aspectRatio)||!h.getSelectedFormaHasShapeMask(),o=h.getSelectedForma().bounds;!o.equal(g)&&t&&(E=o),e.cropToRatioUsingFrameBounds=E,null!=e.aspectRatio?(b=e.id,m="none",s.events.publish("crop-aspect-ratio-selected",e),_||(c.publish("editImage:cropRatioSelected",{contextualData1:"ratioId:"+e.id}),_=!0)):e.shapeId&&(m=e.id,b="none",s.events.publish("crop-shape-selected",e),C||(c.publish("editImage:cropShapeSelected",{contextualData1:"shapeId:"+e.id}),C=!0)),setTimeout((function(){g=h.getSelectedForma().bounds}),100)}function v(){S=!0,p=d.ImageFacade.getImageFormaForForma(h.getSelectedForma()).placement,h.beginGesture("crop-rotation")}function P(){T=!0,p=d.ImageFacade.getImageFormaForForma(h.getSelectedForma()).placement,h.beginGesture("crop-scale")}function k(e){h.rotateSelectedForma(e.delta,p).done()}function N(e){h.scaleSelectedForma(e.value,p).done()}function I(){h.endGesture(!0),y()}function y(){let e=h.getSelectedFormaRotation()%360;e>180&&(e=e-180-180);const t=h.getSelectedFormaScale();u.rotationSlider.setValue(e),u.scaleSlider.setValue(t)}function L(){y();const e=h.getSelectedForma();E=e.bounds,g=E,u.listOfCrops.show(!0);const t=u.listOfCrops.updateTiles({forma:e});t.selectedShape?(m=t.selectionId,b="none"):(b=t.selectionId,m="none"),T=!1,S=!1,f=!1}function w(){if(T||S){let e="<>";T&&S?e="<rotate,scale>":S?e="<rotate>":T&&(e="<scale>"),c.publish("editImage:cropImageAdjusted",{contextualData1:"adjustTransforms:"+e})}c.publish("editImage:cropCompleted",{contextualData1:"ratioId:"+b,contextualData2:"shapeId:"+m,contextualData3:"resizeHandleUsed:"+f})}function F(){s.events.publish("close-crop-picker"),s.hide(),u.closeCropTooltip.hide()}return s.recordFormaResize=function(){f=!0},s.setCoreWrapper=function(e){h=e},s.moveToSection=function(e){u.listOfCrops.selectSection(e)},s.el.className+=" post-crop-picker",u.headerLabel=new e({parent:"CropPickerHeader",tag:"h1",template:"i18n.panels.crop.kCrop"}),u.closeButton=new n({id:"PostCloseCropButton",parent:"CropPickerHeader",class:"check-button",width:24,height:24,onClick:F}),u.closeCropTooltip=new l({parent:u.closeButton,message:"i18n.panels.crop.kCloseCropTooltip",hoverLabelPosition:"below"}),u.scaleSlider=new i({parent:"CropPickerHeader",hidden:!1,onSlideStart:P,onSlideEnd:I,onSlide:N,top:100,left:25,sliderWidth:232,sliderHeight:2,handleHeight:16,minValue:.05,maxValue:5,roundValues:!1,label:"i18n.panels.crop.kScaleImage",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:e=>e.toFixed(2)}),u.rotationSlider=new i({parent:"CropPickerHeader",hidden:!1,onSlide:k,onSlideStart:v,onSlideEnd:I,top:150,left:25,sliderWidth:226,sliderHeight:2,handleHeight:16,minValue:-179,maxValue:180,roundValues:!0,label:"i18n.panels.crop.kRotateImage",labelClass:"label-above",snapToTickEnable:!0,snapTicks:[-179,-135,-90,-45,0,45,90,135,180],snapSensitivity:5,showValueTooltip:!0,computeTooltipValue:e=>Math.round(e)+"&deg"}),u.flipButtonContainer=new t({id:"PostFlipContainer",parent:"CropPickerHeader",top:177,left:25,height:75,width:150}),u.flipLabel=new t({parent:"PostFlipContainer",id:"PostFlipLabel",tag:"p",top:0,left:0,height:20,width:36,template:"i18n.panels.images.kFlip"}),u.flipHWrapper=new t({id:"PostFlipHWrapper",parent:"PostFlipContainer",top:20,left:0,height:40,width:55}),u.flipHButton=new n({parent:"PostFlipHWrapper",label:"",id:"PostFlipHButton",hoverLabel:"i18n.components.buttons.flipHorizontal.kHoverLabel",height:40,width:55,onClick(){A(!1)}}),u.flipVWrapper=new t({id:"PostFlipVWrapper",parent:"PostFlipContainer",top:20,left:64,height:40,width:55}),u.flipVButton=new n({parent:"PostFlipVWrapper",label:"",id:"PostFlipVButton",hoverLabel:"i18n.components.buttons.flipVertical.kHoverLabel",height:40,width:55,onClick(){A(!0)}}),u.listOfCrops=new r({parent:"CropPickerCrops"}),s.events.subscribe("shown",L),s.events.subscribe("hidden",w),u.listOfCrops.events.subscribe("item-selected",O),s}}.apply(t,a))||(e.exports=n)},I9uX:function(e,t,o){var a,n;a=[o("xeH2"),o("YLtl"),o("2Fsf"),o("W1Jy"),o("KFmL"),o("+VG/"),o("rPfa"),o("GSfz"),o("UzQk"),o("3xm6"),o("bBG2")],void 0===(n=function(e,t,o,a,n,i,l,r,s,d,c){const u=c.default;return function(e){(e=e||{}).layout="rows";e.panels=[{id:"PostSidebarPhotoActions",size:"350px"},{id:"PostSidebarPhotoReplace",class:"post-panel-divider-above",size:"auto"}],e.cutoutEnabled&&e.panels.splice(1,0,{id:"PostSidebarCutoutModes",class:"post-panel-divider-above",size:"83px"});var t,n,r,c=new a(e),p={},h=e.disableImageFrames||!1;function E(){c.updateForCurrentSelection()}function g(){var e=t.getSelectedFormaRotation()%360;e>180&&(e=e-180-180);var o=t.getSelectedFormaScale();p.rotationSlider.setValue(e),p.scaleSlider.setValue(o)}function b(e){if(e.isBackgroundImage()){p.scaleSlider.show(),p.rotationSlider.show(),p.opacitySlider.hide(),p.layerSlider.hide();var o=t.getSelectedFormaScaleRange(),a=o.min,n=o.max;p.scaleSlider.update({minValue:a,maxValue:n}),g(),r=t.getSelectedFormaPlacement()}else p.opacitySlider.show(),p.layerSlider.show(),p.scaleSlider.hide(),p.rotationSlider.hide(),t.getNumLayers()>1?(p.layerSlider.enable(),function(){p.layerSlider.update({maxValue:t.getNumLayers()-1});var e=t.getLayerSliderValueOfSelectedForma();p.layerSlider.setValue(e)}()):p.layerSlider.disable(),i=t.getOpacitySliderValueOfSelectedForma(),p.opacitySlider.setValue(i);var i}function m(e){t.rotateSelectedForma(e.delta,r.placement).done()}function f(e){t.scaleSelectedForma(e.value,r.placement).done()}function T(){u.publish("editor:image:backgroundScaleValueChanged"),n=t.getSelectedForma(),t.beginGesture("background-scale"),r.id!=t.getSelectedFormaPlacement().id&&b(n)}function S(){u.publish("editor:image:backgroundRotateValueChanged"),n=t.getSelectedForma(),t.beginGesture("background-rotation")}function _(){t.endGesture(!0),g()}function C(){t.beginGesture("background-image-opacity")}function A(){t.endGesture(!0)}function O(e){t.setOpacityForSelectedFormae(e.value).done()}function v(){t.beginGesture("background-layer")}function P(){t.endGesture(!0)}function k(e){t.setLayerForSelectedForma(e.value).done()}function N(e){var o=t.getSelectedForma();t.flipForma(e,o),e?u.publish("editor:image:verticalFlipPressed"):u.publish("editor:image:horizontalFlipPressed")}return c.updateForCurrentSelection=function(){if(c.isHidden())return;var o=t.getSelectedForma();if(!o||!o.isImage()&&!o.isShape())return;var a=t.allowSetForeground(o),n=o.controller.userGroupMember,i=e.cutoutEnabled&&s.ImageFacade.canApplyCutout(o);if(e.cutoutEnabled&&p.cutoutBetaTooltip.show(!1),o.isImage()&&(b(o),p.setBackgroundButton.show(!a&&!n&&!o.isSticker()),p.setForegroundButton.show(a&&!n),p.cropButtonContainer.show(t.allowCrop(o)),e.cutoutEnabled)){var l=s.ImageFacade.getCutoutModeForForma(o);p.setCutoutNoneButton.show(i&&!(l===s.CutoutMode.Off)),p.setCutoutRemoveBackgroundButton.show(i&&!(l===s.CutoutMode.BackgroundRemoval)),p.cutoutBetaTooltip.show(i)}var r=t.backgroundImageFormas().length>0,d=r?"i18n.components.buttons.addToCollage.kButtonLabel":"i18n.components.buttons.setBackground.kButtonLabel",u=r?150:190;r?p.setBackgroundButton.$el.addClass("add-to-collage ").removeClass("pin-to-background"):p.setBackgroundButton.$el.addClass("pin-to-background").removeClass("add-to-collage "),p.setBackgroundButton.update({label:d,width:u}),h&&(p.setBackgroundButton.show(!1),p.setForegroundButton.show(!1),p.cropButtonContainer.show(!1));const E=[{id:"PostSidebarPhotoActions",size:(a?280:350)+"px"}];i&&E.push({id:"PostSidebarCutoutModes",size:"83px"}),c.update({panels:E})},c.setCoreWrapper=function(e){(t=e).events.subscribe("forma-added",c.updateForCurrentSelection),t.events.subscribe("formae-deleted",c.updateForCurrentSelection),t.events.subscribe("forma-selected",c.updateForCurrentSelection)},c.el.className+=" post-sidebar-photo",p.scaleSlider=new l({parent:"PostSidebarPhotoActions",hidden:!1,onSlide:f,onSlideStart:T,onSlideEnd:_,top:55,left:25,sliderWidth:226,sliderHeight:2,handleHeight:16,minValue:0,maxValue:1,roundValues:!1,label:"i18n.components.slider.kScale",labelClass:"label-above"}),p.rotationSlider=new l({parent:"PostSidebarPhotoActions",hidden:!1,onSlide:m,onSlideStart:S,onSlideEnd:_,top:107,left:25,sliderWidth:226,sliderHeight:2,handleHeight:16,minValue:-179,maxValue:180,roundValues:!0,label:"i18n.components.slider.kRotate",labelClass:"label-above",snapToTickEnable:!0,snapTicks:[-179,-135,-90,-45,0,45,90,135,180],snapSensitivity:5,showValueTooltip:!0,computeTooltipValue:e=>Math.round(e)+"&deg"}),p.opacitySlider=new l({parent:"PostSidebarPhotoActions",hidden:!0,onSlide:O,onSlideStart:C,onSlideEnd:A,top:55,left:25,sliderWidth:232,sliderHeight:2,handleHeight:16,minValue:.05,maxValue:1,roundValues:!1,label:"i18n.components.slider.kOpacity",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:function(e){return d.translate("components.slider.kValueLabel",{sliderValue:Math.round(100*e)})}}),p.layerSlider=new l({parent:"PostSidebarPhotoActions",hidden:!0,onSlide:k,onSlideStart:v,onSlideEnd:P,top:107,left:25,sliderWidth:232,sliderHeight:2,handleHeight:16,minValue:0,maxValue:1,roundValues:!0,label:"i18n.components.slider.kOrder",labelClass:"label-above",showValueTooltip:!0,computeTooltipValue:e=>e+1}),p.flipButtonContainer=new o({id:"PostFlipContainer",parent:"PostSidebarPhotoActions",top:137,left:25,height:75,width:150}),p.flipLabel=new o({parent:"PostFlipContainer",id:"PostFlipLabel",tag:"p",top:0,left:0,height:20,width:36,template:"i18n.panels.images.kFlip"}),p.flipHWrapper=new o({id:"PostFlipHWrapper",parent:"PostFlipContainer",top:20,left:0,height:40,width:55}),p.flipHButton=new i({parent:"PostFlipHWrapper",label:"",id:"PostFlipHButton",hoverLabel:"i18n.components.buttons.flipHorizontal.kHoverLabel",height:40,width:55,onClick:function(){N(!1)}}),p.flipVWrapper=new o({id:"PostFlipVWrapper",parent:"PostFlipContainer",top:20,left:64,height:40,width:55}),p.flipVButton=new i({parent:"PostFlipVWrapper",label:"",id:"PostFlipVButton",hoverLabel:"i18n.components.buttons.flipVertical.kHoverLabel",height:40,width:55,onClick:function(){N(!0)}}),p.cropButtonContainer=new o({id:"PostCropContainer",parent:"PostSidebarPhotoActions",top:210,left:25,height:75,width:150}),p.cropLabel=new o({parent:"PostCropContainer",id:"PostCropLabel",tag:"p",top:0,left:0,height:20,width:36,template:"i18n.components.buttons.kCrop"}),p.cropShapeLabel=new o({parent:"PostCropContainer",id:"PostCropLabel",tag:"p",top:0,left:60,height:20,width:60,template:"i18n.components.buttons.kShapeCrop"}),p.cropWrapper=new o({id:"PostCropWrapper",parent:"PostCropContainer",top:20,left:0,height:40,width:55}),p.cropButton=new i({parent:"PostCropWrapper",label:"",id:"PostCropButton",height:40,width:55,onClick:function(){c.events.publish("buttonpress-crop",{section:"crop"})}}),p.cropShapeWrapper=new o({id:"PostCropShapeWrapper",parent:"PostCropContainer",top:20,left:64,height:40,width:55}),p.cropShapeButton=new i({parent:"PostCropShapeWrapper",label:"",id:"PostCropShapeButton",height:40,width:55,onClick:function(){c.events.publish("buttonpress-crop",{section:"shape"})}}),p.cropShapeLabel=new o({parent:"PostCropContainer",id:"PostCropLabel",tag:"p",top:0,left:60,height:20,width:60,template:"i18n.components.buttons.kShapeCrop"}),p.setBackgroundButton=new i({parent:"PostSidebarPhotoActions",id:"PostSidebarSetBackgroundButton",class:"post-centered-button image-sidebar-button pin-to-background",label:"i18n.components.buttons.setBackground.kButtonLabel",height:50,width:190,onClick:function(){c.events.publish("buttonpress-set-background")}}),p.setForegroundButton=new i({parent:"PostSidebarPhotoActions",id:"PostSidebarSetForegroundButton",class:"post-centered-button image-sidebar-button",label:"i18n.components.buttons.setForeground.kButtonLabel",height:50,width:148,onClick:function(){c.events.publish("buttonpress-set-foreground")}}),e.cutoutEnabled&&(p.setCutoutNoneButton=new i({parent:"PostSidebarCutoutModes",id:"PostSidebarSetCutoutNoneButton",class:"post-centered-button image-sidebar-button",label:"i18n.components.buttons.setCutoutNone.kButtonLabel",height:50,width:200,onClick:function(){c.events.publish("buttonpress-set-cutout-none")}}),p.setCutoutRemoveBackgroundButton=new i({parent:"PostSidebarCutoutModes",id:"PostSidebarSetCutoutRemoveBackgroundButton",class:"post-centered-button image-sidebar-button",label:"i18n.components.buttons.setCutoutRemoveBackground.kButtonLabel",height:50,width:220,onClick:function(){c.events.publish("buttonpress-set-cutout-remove-background")}}),p.cutoutBetaTooltip=new o({parent:"PostSidebarCutoutModes",id:"PostBetaBadge",top:10,left:215,height:20,width:"auto",tag:"p",template:"i18n.panels.badges.kBetaLabel"})),p.replaceButton=new i({parent:"PostSidebarPhotoReplace",id:"PostSidebarReplaceButton",class:"post-centered-button image-sidebar-button",label:"i18n.components.buttons.kReplace",height:50,width:148,onClick:function(){c.events.publish("buttonpress-change-photo")}}),c.events.subscribe("shown",E),c}}.apply(t,a))||(e.exports=n)},QuSD:function(e,t,o){var a,n;a=[o("xeH2"),o("YLtl"),o("UFvF"),o("BG/d"),o("2AzE"),o("HTdw"),o("UzQk"),o("wHG3"),o("yBTN")],void 0===(n=function(e,t,o,a,n,i,l,r,s){const{PixiJSApp:d,PixiJSRenderer:c}=r,{RawEncoding:u,TargetRenderParameters:p,TargetTransformTypeEnum:h}=d,E=s.default;var g={None:"i18n.common.kNone",Greyscale:"i18n.panels.images.kGrayscale",Darken:"i18n.panels.images.kDarken",Overlay:"i18n.panels.images.kContrast",Blend:"i18n.panels.images.kMatte",Multiply:"i18n.panels.images.kMultiply",DuoTone:"i18n.panels.images.kColorize",Screen:"i18n.panels.images.kLighten"};return function(r){(r=r||{}).sections=[{id:"filters",tileAspect:1,maxTileWidth:100,verticalPadding:30,topPadding:30,bottomPadding:50,tileMargin:30,verticalTileMargin:48,label:"i18n.panels.images.kFilters",labelHeight:42}];const s=new n(r),d=s.update,b={};let m,f,T,S,_="",C=!0,A=null,O=null;const v=t.debounce((function(){if(!m)return;const e=m.placement,{width:t,height:a}=P(f&&f.bounds||T),n=[m.colorThemeKey,m.url,m.styleFilter.name,m.styleFilter.adjustments.asString,e.a,e.b,e.c,e.d,e.tx,e.ty,m.width,m.height,T.width,T.height].join(":");if(_!==n){_=n;const e=m.styleFilter.detachFromDatabase();let i=0;const l=s.getItems();let r=o();for(let o=0;o<l.length;o++){const n=l[o];let s=n.data;s.name===e.name?(i=o,e.colorLibrary=m.forma.page.colorLibrary,s=e,n.data=e):s.adjustments=e.adjustments,n.$el.find(".filter-canvas").css({height:Math.round(a)+"px",width:Math.round(t)+"px",marginLeft:-Math.round((t-96)/2)+"px",marginTop:-Math.round((a-96)/2)+"px"}),r=r.then(N(n))}r.done(),s.selectIndex(i,{silent:!0})}}),300);function P(e){return{width:Math.round(96*e.width/Math.min(e.width,e.height)),height:Math.round(96*e.height/Math.min(e.width,e.height))}}function k(){v()}function N(e){if(!O)return log.error("trying to render a tile before core wrapper has been established"),o.resolve();const t=e.$el.find("canvas")[0],a=f.page.document.beginTransaction("apply_styles_for_filter_thumbnails");f.childAt(0).applyStyle(e.data);const n=f.getGraph(l.PGMExportSettings.STATIC),{width:i,height:r}=P(f.bounds);return a.rollback(),O.render(n,new p(h.FillCentered,i,r,u.AsUint8Array())).then(e=>{t.width=e.width,t.height=e.height;const o=t.getContext("2d"),a=o.createImageData(e.width,e.height);a.data.set(e.data),o.putImageData(a,0,0)})}function I(e){t.delay((function(){if(m)for(var e=m.styleFilter.detachFromDatabase(),t=s.getItems(),o=0;o<t.length;o++){var a=t[o];if(a.data.name===e.name){e.colorLibrary=m.forma.page.colorLibrary,a.data=e;const t=N(a);"function"==typeof t&&t()}}}),100)}function y(e){s.events.publish("filter-checkbox-changed",e.target.checked),s.deselectSelected()}return s.update=function(t){d(t);var o=!1;if(void 0!==(t=t||{}).documentSize&&(T=t.documentSize,s.update({items:S})),t.core&&(A=new c,O=A.imageService.createQueue(new E(t.core))),void 0!==t.forma&&(f=t.forma,o=!0),void 0!==t.items&&(void 0===S||!function(e,t){if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++){var a=e[o],n=t[o];if(a.name!==n.name)return!1}return!0}(t.items,S))){var n=[];if(!0===t.disabled){for(var i in g){var l=new a({group:"filters",data:{},selected:!1,reselectable:!1,hidden:!0});l.$el.append('<div class="frame disabled"></div><div class="overlay"></div><div class="label disabled">'+g[i]+"</div>"),n.push(l)}C=!0}else{m&&(C=!1),S=t.items;const{width:o,height:i}=P(f&&f.bounds||T);for(var r=0;r<t.items.length;r++){var u=t.items[r],p=-1===e.inArray(u.name,["None","Greyscale"]),h=new a({group:"filters",class:"outline-selection",data:u,selected:!1,reselectable:p,showShuffleOverlay:p,shuffleLabel:"i18n.common.kShuffle",hidden:!0}),b=g[u.name]||u.name;h.$el.append(`<div class="frame"></div><div class="label">${b}</div>`);var k=e(`<div class="filter-wrapper"><div class="filter-canvas" style="height:${i}px;width:${o}px;margin-left:${-Math.round((o-96)/2)}px;margin-top:${-Math.round((i-96)/2)}px;"><canvas></canvas></div></div>`);h.$el.append(k),n.push(h)}}s.setItems(n),_=""}if(void 0!==t.styleFilters)for(var N=s.getItems(),I=N.length-1;I>=0;I--){var y=t.styleFilters[I];y&&(N[I].data=y)}void 0!==t.image&&(m=t.image,o=!0),o&&!1===s.isHidden()&&v()},s.isDisabled=function(){return C},s.showCheckBox=function(){s.update({sections:[{id:"filters",topPadding:45}]}),b.applyAllCheckbox.show()},s.hideCheckBox=function(){s.update({sections:[{id:"filters",topPadding:25}]}),b.applyAllCheckbox.hide()},s.el.className+=" post-filters-list",s.events.subscribe("shown",k),s.events.subscribe("item-selected",I),b.applyAllCheckbox=new i({parent:s,id:"applyToAllPhotosCheckbox",label:"i18n.panels.images.kApplyFilterToAllImage",left:24,top:59,handleChange:y,hidden:!0}),s}}.apply(t,a))||(e.exports=n)},Qzxj:function(e,t,o){var a,n;a=[o("xeH2"),o("YLtl"),o("2Fsf"),o("rPfa"),o("6G8C")],void 0===(n=function(e,t,o,a,n){return function(e){var a,i,l=new o(e=e||{}),r=[],s={},d=t.throttle((function(e){if(!l.isHidden()&&a){e=e||{};var o=a.getSelectedForma();e.doFade?(s.listOfIconColors.$el.addClass("fade-out"),t.delay((function(){p(o,e),s.listOfIconColors.$el.removeClass("fade-out")}),100)):p(o,e),s.listOfIconColors.update()}}),400);function c(){var e=a.getSelectedForma();e&&a.isIcon(e)&&(i=e.formaID,d({doFade:!1,updateSelection:!0}),r.push(a.events.subscribe("forma-selected",(function(e){var t;e.forma&&(e.forma.formaID!==i?(t=e.forma.formaID,i=t,d({doFade:!0,updateSelection:!1}),s.listOfIconColors.closeColorPicker()):(h(e.forma,{updateSelection:!1}),s.listOfIconColors.update()))}))))}function u(){!function(){for(var e=0;e<r.length;e++)r[e].remove();r=[]}()}function p(e,o){if(!l.isHidden()&&e){h(e,o);var a=e.controller.getSuggestableColors(),n=t.map(a,(function(e){return[{red:255*e[0].rgbColor.red,green:255*e[0].rgbColor.green,blue:255*e[0].rgbColor.blue,roles:e[0].sparkRoles,id:e[0].sparkElementID}]}));s.listOfIconColors.setSuggestedColors(n),s.listOfIconColors.setDefaultColors(),s.listOfIconColors.update()}}function h(e,t){if(a&&(e=e||a.getSelectedForma())){var o=[],n=a.getShapeFormaTheoColor(e);n&&o.push({red:255*n.rgbColor.red,green:255*n.rgbColor.green,blue:255*n.rgbColor.blue,roles:n.sparkRoles,id:n.sparkElementID}),s.listOfIconColors.setCurrentColors(o,t)}}function E(e,t){l.events.publish("icon-color-selected",e,t)}return l.setCoreWrapper=function(e){a=e},l.setBrandKitColors=function(e){s.listOfIconColors.setBrandKitColors(e)},l.removeBrandkitSections=function(){s.listOfIconColors.removeBrandkitSections()},l.handleEyeDropperClicked=function(e){s.listOfIconColors.handleEyeDropperClicked(e)},l.handleEyeDropperMoved=function(e,t){s.listOfIconColors.handleEyeDropperMoved(e,t)},l.selectCurrentColor=function(e){s.listOfIconColors.selectCurrentColor(e)},l.el.className+=" post-sidebar-icon-color",s.listOfIconColors=new n({elementClassName:"post-icon-colors-list",parent:l,hidden:!1,top:0,bottom:0,colorPicker:e.colorPicker}),l.events.subscribe("shown",c),l.events.subscribe("hidden",u),s.listOfIconColors.events.subscribe("item-selected",E),s.listOfIconColors.events.subscribe("update-color",E),l.republish(s.listOfIconColors.events,"eyedropper-changed"),l}}.apply(t,a))||(e.exports=n)},R81C:function(e,t,o){var a,n;a=[o("xeH2"),o("YLtl"),o("BG/d"),o("2AzE")],void 0===(n=function(e,t,o,a){return function(t){(t=t||{}).sections=[{id:"default",tileAspect:230/90,maxTileWidth:230,horizontalPadding:25,verticalPadding:25,tileMargin:14,label:"i18n.panels.badges.kFromTemplate",labelHeight:37}];var n=new a(t);return n.populate=function(){const a=[],i=t.advancedTextLayoutAllEnabled;e.get("/api/post/v1/badges").done((function(t){t.items.forEach((function(t,n){t.hasOwnProperty("advancedOnly")&&!i||a.push(function(t,a){var n,i,l,r=new o({class:t.premium?"outline-selection premium":"outline-selection",data:(n={imgUrl:t.thumbnail,manifestUrl:t.manifestUrl,assetId:t.assetId,premium:t.premium,index:a},l={},l.imgUrl=n.imgUrl,l.assetId=n.assetId,l.premium=n.premium,l.index=n.index,l.manifestPromise=function(){return i||(i=Q.defer(),e.get(n.manifestUrl,(function(e){i.resolve(e)})).fail((function(e,t,o){i.reject({url:n.manifestUrl,jqXHR:e,textStatus:t,errorThrown:o})}))),i.promise},l),hidden:!0});return r.hasImageBeenSet=!1,r.events.subscribe("shown",(function(){if(!1===r.hasImageBeenSet){r.hasImageBeenSet=!0;var e=t.width/t.height,o=Math.min(230,Math.sqrt(52900*e)),a=o/e;a>90&&(o=(a=90)*e);var n=new Image,i=window.devicePixelRatio>=2?460:230;n.src=`${t.thumbnail}/format/jpg/dimension/width/size/${i}`,r.$el.append(n),r.$el.css({width:Math.round(o)+"px",height:Math.round(a)+"px","margin-left":Math.round((230-o)/2)+"px","margin-top":Math.round((90-a)/2)+"px"}),r.data.premium&&(r.data.getRendition=function(o){var a,i=o.maxWidth,l=o&&o.format||"jpg",r=e||230/90;(a=i/r)>o.maxHeight&&(i=(a=o.maxHeight)*r);var s=i;return window.devicePixelRatio>=2&&(s*=2),{preloadedUrl:n.src,url:`${t.thumbnail}/format/${l}/dimension/width/size/${s}`,width:i,height:a}})}})),r}(t,n))})),n.setItems(a,"default")}))},n.getMerchAnchor=function(e){const t=n.getSectionById("default");if(t){const{item:o}=t.getItemWithProperty("index",e);if(o){const a=1,n=1,i=t.getFirstVisibleIndex(90,n)+a,l=t.getLastVisibleIndex(90,n)-a-i+1,r=e-i<Math.floor(.5*l)?"right":"top";return{element:o.$el,position:r}}}},n.el.className+=" post-badge-list post-panel-divider-above",n.populate(),n}}.apply(t,a))||(e.exports=n)},RvTP:function(e,t,o){"use strict";o.r(t),o.d(t,"bindEvents",(function(){return k})),o.d(t,"unbindEvents",(function(){return P}));var a=o("bBG2"),n=o("3xm6"),i=o.n(n),l=o("UzQk"),r=o("MGCh"),s=o.n(r),d=o("f5T3");const c=s.a.channel("ui");let u={};var p;!function(e){e.THEO_RANGE_INPUT_BEGIN_GESTURE="THEO_RANGE_INPUT_BEGIN_GESTURE",e.THEO_RANGE_INPUT_END_GESTURE="THEO_RANGE_INPUT_END_GESTURE",e.setOpacity="set-opacity",e.showColorPicker="show-color-picker",e.deselect="deselect",e.HELP_POPUP_CTA_CLICK_EVENT="HELP_POPUP_CTA_CLICK_EVENT",e.HELP_POPUP_ANCHOR_HOVER_EVENT="HELP_POPUP_ANCHOR_HOVER_EVENT",e.THEO_IMAGE_ENHANCEMENTS_EVENT="THEO_IMAGE_ENHANCEMENTS_EVENT",e.THEO_IMAGE_ENHANCEMENTS_CONTRAST_EVENT="THEO_IMAGE_ENHANCEMENTS_CONTRAST_EVENT",e.THEO_IMAGE_ENHANCEMENTS_BRIGHTNESS_EVENT="THEO_IMAGE_ENHANCEMENTS_BRIGHTNESS_EVENT",e.THEO_IMAGE_ENHANCEMENTS_SATURATION_EVENT="THEO_IMAGE_ENHANCEMENTS_SATURATION_EVENT",e.THEO_IMAGE_ENHANCEMENTS_HIGHLIGHT_EVENT="THEO_IMAGE_ENHANCEMENTS_HIGHLIGHT_EVENT",e.THEO_IMAGE_ENHANCEMENTS_SHADOW_EVENT="THEO_IMAGE_ENHANCEMENTS_SHADOW_EVENT",e.THEO_IMAGE_ENHANCEMENTS_WARMTH_EVENT="THEO_IMAGE_ENHANCEMENTS_WARMTH_EVENT",e.THEO_IMAGE_ENHANCEMENTS_SHARPEN_EVENT="THEO_IMAGE_ENHANCEMENTS_SHARPEN_EVENT",e.THEO_IMAGE_ENHANCEMENTS_BLUR_EVENT="THEO_IMAGE_ENHANCEMENTS_BLUR_EVENT",e.THEO_IMAGE_TOGGLE_BLUR_EVENT="THEO_IMAGE_TOGGLE_BLUR_EVENT",e.THEO_IMAGE_ENHANCEMENTS_RESET_EVENT="THEO_IMAGE_ENHANCEMENTS_RESET_EVENT",e.IMAGE_SET_FILTER="IMAGE_SET_FILTER",e.CHANGE_DUOTONE_COLOR_PAIR="CHANGE_DUOTONE_COLOR_PAIR",e.EDIT_DUOTONE_COLOR="EDIT_DUOTONE_COLOR",e.SWAP_DUOTONE_COLOR_PAIR_EVENT="SWAP_DUOTONE_COLOR_PAIR",e.IMAGE_ADD_TO_BACKGROUND_LAYER="IMAGE_ADD_TO_BACKGROUND_LAYER",e.IMAGE_REMOVE_FROM_BACKGROUND_LAYER="IMAGE_REMOVE_FROM_BACKGROUND_LAYER",e.IMAGE_REPLACE="IMAGE_REPLACE",e.IMAGE_FLIP_HORIZONTAL="IMAGE_FLIP_HORIZONTAL",e.IMAGE_FLIP_VERTICAL="IMAGE_FLIP_VERTICAL",e.IMAGE_ACTIVATE_CROP="IMAGE_ACTIVATE_CROP",e.IMAGE_RESTORE_BACKGROUND="IMAGE_RESTORE_BACKGROUND",e.IMAGE_REMOVE_BACKGROUND="IMAGE_REMOVE_BACKGROUND",e.IMAGE_ACTIVATE_CUTOUT="IMAGE_ACTIVATE_CUTOUT",e.CUTOUT_MODE_DONE="CUTOUT_MODE_DONE",e.CUTOUT_MODE_CANCEL="CUTOUT_MODE_CANCEL",e.IMAGE_CUTOUT_CHANGE_BRUSH_MODE="IMAGE_CUTOUT_CHANGE_BRUSH_MODE",e.IMAGE_CUTOUT_RESIZE_BRUSH="IMAGE_CUTOUT_RESIZE_BRUSH",e.IMAGE_CUTOUT_UPGRADE="IMAGE_CUTOUT_UPGRADE",e.IMAGE_CUTOUT_TOGGLE_BACKGROUND="IMAGE_CUTOUT_TOGGLE_BACKGROUND",e.IMAGE_CUTOUT_INVERT="IMAGE_CUTOUT_INVERT",e.IMAGE_SET_SCALE="IMAGE_SET_SCALE",e.IMAGE_SET_ROTATION="IMAGE_SET_ROTATION",e.IMAGE_SET_OPACITY="IMAGE_SET_OPACITY",e.CLOSE_IMAGE_PANEL="CLOSE_IMAGE_PANEL",e.CROP_MODE_CANCEL="CROP_MODE_CANCEL",e.CROP_MODE_DONE="CROP_MODE_DONE",e.IMAGE_SET_CROP_SCALE="IMAGE_SET_CROP_SCALE",e.IMAGE_SET_CROP_ROTATION="IMAGE_SET_CROP_ROTATION",e.IMAGE_FLIP_CROP_HORIZONTAL="IMAGE_FLIP_CROP_HORIZONTAL",e.IMAGE_FLIP_CROP_VERTICAL="IMAGE_FLIP_CROP_VERTICAL",e.CROP_ITEM_SELECTED="CROP_ITEM_SELECTED",e.IMAGE_ADD_COLOR="IMAGE_ADD_COLOR",e.IMAGE_REMOVE_COLOR="IMAGE_REMOVE_COLOR",e.setTextMultiStyle="set-text-multi-style",e.setTextAlignment="set-text-alignment",e.showFontPicker="show-font-picker",e.setFontSize="set-font-size",e.editTextColor="edit-text-color",e.editOutlineColor="edit-OUTLINE-color",e.editShadowColor="edit-shadow-color",e.editShapeColor="edit-shape-color",e.THEO_TEXT_EFFECTS_OUTLINE_EVENT="THEO_TEXT_EFFECTS_OUTLINE_EVENT",e.THEO_TEXT_EFFECTS_OUTLINE_ONLY_EVENT="THEO_TEXT_EFFECTS_OUTLINE_ONLY_EVENT",e.THEO_TEXT_EFFECTS_OUTLINE_THICKNESS_INPUT_EVENT="THEO_TEXT_EFFECTS_OUTLINE_THICKNESS_INPUT_EVENT",e.THEO_TEXT_EFFECTS_SHADOW_EVENT="THEO_TEXT_EFFECTS_SHADOW_EVENT",e.THEO_TEXT_EFFECTS_SHADOW_DISTANCE_INPUT_EVENT="THEO_TEXT_EFFECTS_SHADOW_DISTANCE_INPUT_EVENT",e.THEO_TEXT_EFFECTS_SHADOW_DIRECTION_INPUT_EVENT="THEO_TEXT_EFFECTS_SHADOW_DIRECTION_INPUT_EVENT",e.THEO_TEXT_EFFECTS_SHAPE_EVENT="THEO_TEXT_EFFECTS_SHAPE_EVENT",e.THEO_TEXT_EFFECTS_SHAPE_MASK_TEXT_EVENT="THEO_TEXT_EFFECTS_SHAPE_MASK_TEXT_EVENT",e.THEO_TEXT_EFFECTS_SHAPE_PADDING_INPUT_EVENT="THEO_TEXT_EFFECTS_SHAPE_PADDING_INPUT_EVENT",e.THEO_PANEL_TITLE_ANNOTATION_CLICK="THEO_PANEL_TITLE_ANNOTATION_CLICK",e.CLOSE_TEXT_PANEL_EVENT="CLOSE_TEXT_PANEL",e.TEXT_SET_LINE_HEIGHT="TEXT_SET_LINE_HEIGHT",e.TEXT_SET_LETTER_SPACING="TEXT_SET_LETTER_SPACING",e.THEO_TEXT_STYLES_EVENT="THEO_TEXT_SUGGESTIONS_NEXT_STYLE",e.THEO_EDIT_TEXT_EVENT="THEO_EDIT_TEXT_EVENT",e.THEO_EDIT_TEXT_FOCUSED_EVENT="THEO_EDIT_TEXT_FOCUSED_EVENT",e.THEO_EDIT_TEXT_FOCUSED_IN_EVENT="THEO_EDIT_TEXT_FOCUSED_IN_EVENT",e.THEO_EDIT_TEXT_FOCUSED_OUT_EVENT="THEO_EDIT_TEXT_FOCUSED_OUT_EVENT",e.SHAPES_SELECTION_EVENT="SHAPES_SELECTION_EVENT",e.SET_SHAPE_OPACITY="set-shape-opacity",e.showImagePicker="show-image-picker",e.ungroup="ungroup",e.showIconPicker="show-icon-picker",e.flipVertical="flip-vertical",e.flipHorizontal="flip-horizontal",e.replaceLogo="replace-logo",e.addLogoToCanvas="add-logo-to-canvas",e.addLogoToPanel="add-logo-to-panel",e.setAlignment="set-alignment",e.group="group",e.THEO_SET_BLENDMODES_EVENT="THEO_SET_BLENDMODES_EVENT",e.THEO_OPENED_BLENDMODES_EVENT="THEO_OPENED_BLENDMODES_EVENT",e.THEO_EFFECTS_DROPDOWN_CLOSED_EVENT="THEO_EFFECTS_DROPDOWN_CLOSED_EVENT"}(p||(p={}));const h={ratioID:null,shapeID:null,rotate:!1,scale:!1,horizontalFlip:!1,verticalFlip:!1},E="theo-text-effects-outline",g="theo-text-effects-shadow",b="theo-text-effects-shape",m="theo-image-filters",f="theo-image-enhancements",T="theo-image-blur",S="theo-image-background-color",_={0:"left",1:"centerX",2:"right",3:"top",4:"centerY",5:"bottom"},C={none:"None",grayscale:"Greyscale",darken:"Darken",contrast:"Overlay",matte:"Blend",multiply:"Multiply",colorize:"DuoTone",lighten:"Screen",duotone:"NewDuoTone"};let A=[],O=!1,v=!1;function P(e){A.forEach(t=>{e.removeEventListener(t.event,t.method)}),A=[]}function k(e,t,o){Object.values(p).forEach(n=>{const r={event:n,method(e){!function(e,t,o){var n,r;const s=e,A=(null==s?void 0:s.type)||e.type,P=null==s?void 0:s.detail,k=t.getSelectedFormaType();switch(A){case p.THEO_RANGE_INPUT_BEGIN_GESTURE:t.beginGesture(P.name),O=!1,v=!0;break;case p.THEO_RANGE_INPUT_END_GESTURE:v&&t.endGesture(!0),O=!1,v=!1;break;case p.setOpacity:if(!O){switch(k){case"multiselect":case"group":a.default.publish("editor:group:opacityValueChanged");break;case"logo":a.default.publish("editor:logo:opacityValueChanged");break;case"text":a.default.publish("editor:text:opacityValueChanged");break;case"icon":a.default.publish("editor:icon:opacityValueChanged")}O=!0}"text"===k?t.setOpacityValueOfSelectedLockupAsScalar(P.value,!1).done():t.setOpacityValueOfSelectedFormaAsScalar(P.value).done();break;case p.SET_SHAPE_OPACITY:t.setOpacityValueOfSelectedLockupAsScalar(P.value,!0).done();break;case p.showColorPicker:let e="colors.kTextColor";switch(k){case"logo":e="colors.kLogoColor",a.default.publish("editor:logo:colorSelected");break;case"icon":e="colors.kIconColor",a.default.publish("editor:icon:colorSelected");break;case"cell":e="colors.kBackgroundColor",a.default.publish("editor:solidBackgroundColorSelected");break;case"image":e="colors.kBackgroundColor",a.default.publish("editor:image:cutoutBackgroundColorSelected")}o.showColorPicker({label:i.a.translate(e),role:l.ColorRole.FieldPrimary,color:P.color,anchor:P.anchor,colorToEdit:P.colorToEdit});break;case p.editTextColor:"text"===k&&a.default.publish("editor:text:fillColorSelected"),o.showColorPicker({label:i.a.translate("colors.kTextColor"),role:l.ColorRole.FieldPrimary,color:P.color,anchor:P.anchor,colorToEdit:P.colorToEdit});break;case p.editShapeColor:a.default.publish("editor:text:shapeColorSelected"),o.showColorPicker({label:i.a.translate("colors.kEffectColor"),role:l.ColorRole.FieldSecondary,color:P.color,anchor:P.anchor,colorToEdit:P.colorToEdit});break;case p.editShadowColor:a.default.publish("editor:text:shadowColorSelected"),o.showColorPicker({label:i.a.translate("colors.kEffectColor"),role:l.ColorRole.Shadow,color:P.color,anchor:P.anchor,colorToEdit:P.colorToEdit});break;case p.editOutlineColor:a.default.publish("editor:text:outlineColorSelected"),o.showColorPicker({label:i.a.translate("colors.kEffectColor"),role:l.ColorRole.Border,color:P.color,anchor:P.anchor,colorToEdit:P.colorToEdit});break;case p.deselect:t.deselect();break;case p.THEO_IMAGE_ENHANCEMENTS_EVENT:if(!P.value){a.default.publish("editor:image:enhancementsDisabled"),t.resetImageAdjustments({contrast:0,brightness:0,saturation:0,highlights:0,shadows:0,warmth:0,sharpness:0}).done();break}a.default.publish("editor:image:enhancementsEnabled"),t.resetImageAdjustments({contrast:0,brightness:50,saturation:0,highlights:0,shadows:0,warmth:0,sharpness:0}).done();break;case p.THEO_IMAGE_ENHANCEMENTS_CONTRAST_EVENT:O||(a.default.publish("editor:image:enhancementsContrastValueChanged"),O=!0),t.setSelectedFormaImageAdjustmentAsScalar("contrast",parseFloat(P.value)).done();break;case p.THEO_IMAGE_ENHANCEMENTS_BRIGHTNESS_EVENT:O||(a.default.publish("editor:image:enhancementsBrightnessValueChanged"),O=!0),t.setSelectedFormaImageAdjustmentAsScalar("brightness",parseFloat(P.value)).done();break;case p.THEO_IMAGE_ENHANCEMENTS_SATURATION_EVENT:O||(a.default.publish("editor:image:enhancementsSaturationValueChanged"),O=!0),t.setSelectedFormaImageAdjustmentAsScalar("saturation",parseFloat(P.value)).done();break;case p.THEO_IMAGE_ENHANCEMENTS_HIGHLIGHT_EVENT:O||(a.default.publish("editor:image:enhancementsHighlightValueChanged"),O=!0),t.setSelectedFormaImageAdjustmentAsScalar("highlights",parseFloat(P.value)).done();break;case p.THEO_IMAGE_ENHANCEMENTS_SHADOW_EVENT:O||(a.default.publish("editor:image:enhancementsShadowValueChanged"),O=!0),t.setSelectedFormaImageAdjustmentAsScalar("shadows",parseFloat(P.value)).done();break;case p.THEO_IMAGE_ENHANCEMENTS_WARMTH_EVENT:O||(a.default.publish("editor:image:enhancementsWarmthValueChanged"),O=!0),t.setSelectedFormaImageAdjustmentAsScalar("warmth",parseFloat(P.value)).done();break;case p.THEO_IMAGE_ENHANCEMENTS_SHARPEN_EVENT:O||(a.default.publish("editor:image:enhancementsSharpenValueChanged"),O=!0),t.setSelectedFormaImageAdjustmentAsScalar("sharpness",parseFloat(P.value)).done();break;case p.THEO_IMAGE_TOGGLE_BLUR_EVENT:P.value?(a.default.publish("editor:image:blurEnabled"),t.setSelectedFormaImageAdjustmentAsScalar("blur",.05).done()):(a.default.publish("editor:image:blurDisabled"),t.setSelectedFormaImageAdjustmentAsScalar("blur",0).done());break;case p.THEO_IMAGE_ENHANCEMENTS_BLUR_EVENT:O||(a.default.publish("editor:image:blurValueChanged"),O=!0),0===parseFloat(P.value)&&a.default.publish("editor:image:blurDisabled"),t.setSelectedFormaImageAdjustmentAsScalar("blur",parseFloat(P.value)).done();break;case p.THEO_IMAGE_ENHANCEMENTS_RESET_EVENT:O||(a.default.publish("editor:image:enhancementsReset"),O=!0),t.resetImageAdjustments({contrast:0,brightness:0,saturation:0,highlights:0,shadows:0,warmth:0,sharpness:0}).done();break;case p.IMAGE_SET_FILTER:const s=[l.ImageStyle.NAME_NONE,l.ImageStyle.NAME_GREYSCALE,l.ImageStyle.NAME_NEWDUOTONE],A=C[P.filter];A===C.none?a.default.publish("editor:image:filtersDisabled"):a.default.publish("editor:image:filtersEnabled");const I=t.getImagePreviewData(t.getSelectedForma()).styleFilter;if(A===I.name){if(s.includes(A))return;return a.default.publish("editor:image:filtersShuffled",{contextualData1:`${l.AnalyticsConstants.kAnalyticsDataFilterName}: ${A}`}),void t.setImageFilterForSelection(I,1,!1).done()}let y=null;A===l.ImageStyle.NAME_NEWDUOTONE&&(y={shadowsColor:P.filterData.colors.shadows,highlightsColor:P.filterData.colors.highlights});let L=`${l.AnalyticsConstants.kAnalyticsDataFilterName}:${A}`;A===l.ImageStyle.NAME_NEWDUOTONE&&(L=l.AnalyticsConstants.kAnalyticsDataFilterName+":NewDuoToneDefault"),N(t,A,y,L);break;case p.CHANGE_DUOTONE_COLOR_PAIR:N(t,l.ImageStyle.NAME_NEWDUOTONE,{shadowsColor:P.colors.shadows,highlightsColor:P.colors.highlights},l.AnalyticsConstants.kAnalyticsDataFilterName+":NewDuoTonePreset");break;case p.EDIT_DUOTONE_COLOR:const w="duotone: shadows"===P.colorToEdit,F=w?"colors.kShadowsColor":"colors.kHighlightsColor";a.default.publish("editor:image:filtersApplied",{contextualData1:l.AnalyticsConstants.kAnalyticsDataFilterName+":NewDuoToneCustom"}),o.showColorPicker({label:i.a.translate(F),role:w?l.ColorRole.FieldPrimary:l.ColorRole.FieldSecondary,color:P.color,anchor:P.anchor,colorToEdit:P.colorToEdit});break;case p.SWAP_DUOTONE_COLOR_PAIR_EVENT:const M=C.duotone,V={shadowsColor:P.colors.shadows,highlightsColor:P.colors.highlights};N(t,M,V,l.AnalyticsConstants.kAnalyticsDataFilterName+":NewDuoToneSwap");break;case p.THEO_SET_BLENDMODES_EVENT:t.applyBlendModeByName(t.getSelectedForma(),P.blendMode);break;case p.THEO_OPENED_BLENDMODES_EVENT:a.default.publish("editor:blendModePressed");break;case p.IMAGE_ADD_TO_BACKGROUND_LAYER:a.default.publish("editor:image:pinToBackgroundEnabled"),t.setImageAsBackground().done();break;case p.IMAGE_REMOVE_FROM_BACKGROUND_LAYER:a.default.publish("editor:image:pinToBackgroundDisabled"),t.setImageAsForeground().then(()=>{const e=t.getSelectedForma();t.deselectAll(),t.selectFormaById({formaId:e.formaID})}).done();break;case p.IMAGE_REPLACE:a.default.publish("editor:imageReplacePressed",{contextualData1:"method: propertiesPanel"}),o.handleReplaceImageButtonPress();break;case p.IMAGE_FLIP_HORIZONTAL:a.default.publish("editor:image:horizontalFlipPressed"),t.flipForma(!1,t.getSelectedForma());break;case p.IMAGE_FLIP_VERTICAL:a.default.publish("editor:image:verticalFlipPressed"),t.flipForma(!0,t.getSelectedForma());break;case p.IMAGE_ACTIVATE_CROP:o.enterCropMode(),h.scale=h.rotate=h.verticalFlip=h.horizontalFlip=!1;break;case p.IMAGE_ACTIVATE_CUTOUT:o.enterRefineCutoutMode();break;case p.CUTOUT_MODE_CANCEL:o.exitRefineCutoutMode(!1);break;case p.CUTOUT_MODE_DONE:o.exitRefineCutoutMode(!0);break;case p.IMAGE_CUTOUT_CHANGE_BRUSH_MODE:t.setCutoutBrushMode(P.brushMode);break;case p.IMAGE_CUTOUT_RESIZE_BRUSH:t.setCutoutBrushSize(P.value);break;case p.IMAGE_CUTOUT_TOGGLE_BACKGROUND:t.toggleCutoutPreviewVisibility();break;case p.IMAGE_CUTOUT_UPGRADE:t.tryPremiumCutoutFeature(P.merchAnchor,P.feature);break;case p.IMAGE_CUTOUT_INVERT:t.invertCutout();break;case p.IMAGE_RESTORE_BACKGROUND:t.clearCutout();break;case p.IMAGE_REMOVE_BACKGROUND:t.autoCutoutForRefineCutout();break;case p.IMAGE_SET_SCALE:t.setSelectedFormaScaleAsScalar(P.value).done();break;case p.IMAGE_SET_ROTATION:O||(a.default.publish("editor:image:backgroundRotateValueChanged"),O=!0),t.setSelectedFormaRotationAsScalar(P.value).done();break;case p.IMAGE_SET_OPACITY:O||(a.default.publish("editor:image:opacityValueChanged"),O=!0),t.setOpacityValueOfSelectedFormaAsScalar(P.value).done();break;case p.CLOSE_IMAGE_PANEL:t.deselect();break;case p.CROP_MODE_CANCEL:a.default.publish("editor:image:cropCancelled"),o.exitCropMode(!0);break;case p.CROP_MODE_DONE:o.exitCropMode(!1),a.default.publish("editor:image:cropComplete",{contextualData1:"ratioId:"+h.ratioID,contextualData2:"shapeId: "+h.shapeID,contextualData3:"scaleValue:"+h.scale,contextualData4:"rotateValue:"+h.rotate,contextualData5:"verticalFlip:"+h.verticalFlip,contextualData6:"horizontalFlip:"+h.horizontalFlip});break;case p.IMAGE_SET_CROP_SCALE:h.scale=!0,t.setSelectedFormaScaleAsScalar(P.value).done();break;case p.IMAGE_SET_CROP_ROTATION:h.rotate=!0,t.setSelectedFormaRotationAsScalar(P.value).done();break;case p.IMAGE_FLIP_CROP_HORIZONTAL:h.horizontalFlip=!h.horizontalFlip,t.flipForma(!1,t.getSelectedForma());break;case p.IMAGE_FLIP_CROP_VERTICAL:h.verticalFlip=!h.verticalFlip,t.flipForma(!0,t.getSelectedForma());break;case p.CROP_ITEM_SELECTED:const H=P;H.aspectRatio=h.ratioID=H.aspect,H.shapeId=h.shapeID=H.id,null!=H.aspectRatio?t.applyAspectRatioCropToImage(P).done():H.shapeId&&t.applyShapeMaskToImage(P).done();break;case p.IMAGE_ADD_COLOR:a.default.publish("editor:image:cutoutBackgroundColorEnabled"),t.setColorForSelection([{red:255,green:255,blue:255,id:null,roles:null}]).done();break;case p.IMAGE_REMOVE_COLOR:const x=!t.getSelectedForma().controller.moveable;a.default.publish("editor:image:cutoutBackgroundColorDisabled"),x?t.setColorForSelection([{red:255,green:255,blue:255,id:null,roles:null}]).done():t.setColorForSelection([]).done();break;case p.setTextMultiStyle:"main"===P.tab?(P.deleteSecondaryStyle&&t.clearStyleRanges().done(),t.exitCharStyleModeAndSelect()):"secondary"===P.tab&&(a.default.publish("editor:text:multiStyleSelected"),t.enterCharStyleMode());break;case p.setTextAlignment:const D=function(e,t){const o=t.getLockupLayouts(),a=t.getLockupAlignments(),n=t.getTextPathIDs();switch(e){case d.a.center:return{layout:o.Standard,alignment:a.Center,pathID:n.UNSET,analyticsAlignmentType:"center"};case d.a.left:return{layout:o.Standard,alignment:a.Left,pathID:n.UNSET,analyticsAlignmentType:"left"};case d.a.right:return{layout:o.Standard,alignment:a.Right,pathID:n.UNSET,analyticsAlignmentType:"right"};case d.a.capitalizeAndFit:return{layout:o.FitJustified,alignment:a.UNSET,pathID:n.UNSET,analyticsAlignmentType:"fitJustified"};case d.a.circle:return{layout:o.Path,alignment:a.UNSET,pathID:n.Circle,analyticsAlignmentType:"circle"};case d.a.semicircle:return{layout:o.Path,alignment:a.UNSET,pathID:n.SemiCircleUp,analyticsAlignmentType:"semiCircle"};case d.a.semicircleInverted:return{layout:o.Path,alignment:a.UNSET,pathID:n.SemiCircleDown,analyticsAlignmentType:"invertedSemiCircle"};case d.a.gridLeft:return{layout:o.LetterGrid,alignment:a.Left,pathID:n.UNSET,analyticsAlignmentType:"letterGridLeft"};case d.a.gridCenter:return{layout:o.LetterGrid,alignment:a.Center,pathID:n.UNSET,analyticsAlignmentType:"letterGridCenter"};case d.a.gridRight:return{layout:o.LetterGrid,alignment:a.Right,pathID:n.UNSET,analyticsAlignmentType:"letterGridRight"};case d.a.autoDropCap:return{layout:o.Auto,alignment:t.getNextValidAutoAlignmentByCategoryOfSelectedLockup(t.getAlignmentOfSelectedLockup(),l.TypographyLayoutCategory.DropCap),pathID:n.UNSET,analyticsAlignmentType:"autoDropCap"};case d.a.autoTriplet:return{layout:o.Auto,alignment:t.getNextValidAutoAlignmentByCategoryOfSelectedLockup(t.getAlignmentOfSelectedLockup(),l.TypographyLayoutCategory.Triplet),pathID:n.UNSET,analyticsAlignmentType:"autoTriplet"};case d.a.autoRotate:return{layout:o.Auto,alignment:t.getNextValidAutoAlignmentByCategoryOfSelectedLockup(t.getAlignmentOfSelectedLockup(),l.TypographyLayoutCategory.Rotate),pathID:n.UNSET,analyticsAlignmentType:"autoRotate"};case d.a.autoFitRotate:return{layout:o.Auto,alignment:t.getNextValidAutoAlignmentByCategoryOfSelectedLockup(t.getAlignmentOfSelectedLockup(),l.TypographyLayoutCategory.RotateFit),pathID:n.UNSET,analyticsAlignmentType:"autoRotateFit"};default:return void c.warn("Unhandled LOCKUP_ALIGNMENT_UI_VALUES value: "+e)}}(P.value,t);D&&function(e,t){const o=t.getSelectedForma();if(!o||!o.isTypeLockup())return;const{analyticsAlignmentType:n,layout:i,alignment:l,pathID:r}=e;a.default.publish("editor:text:alignmentSelected",{contextualData1:"alignmentType: "+n}),t.setSessionContainerSizeForSelectedLockup(),t.setLayoutAndAlignmentForSelectedLockup(i,l,r).done()}(D,t);break;case p.showFontPicker:a.default.publish("editor:text:fontSizePickerPressed");const R=null==P||null===(n=P.anchor)||void 0===n?void 0:n.find("button");R&&o.showFontPicker(R);break;case p.setFontSize:let G=parseFloat(P.value);if(!isNaN(G)){const e=t.getMinFontSize(),o=t.getMaxFontSize();isNaN(e)||(G=Math.max(G,e)),isNaN(o)||(G=Math.min(G,o)),t.setFontSize(G).done()}break;case p.THEO_TEXT_EFFECTS_OUTLINE_EVENT:!function(e,t){const o=t.getSelectedForma();if(!o)return;const n=o.controller.styleController,i=n.targetedTextLook,r=l.TextFacade.getNewTextLookForOutlineChange(i,n,e);r!==i&&(e?a.default.publish("editor:text:outlineDisabled"):a.default.publish("editor:text:outlineEnabled"),t.setEffectForSelectedLockup(r).done())}(!P.value,t);break;case p.THEO_TEXT_EFFECTS_OUTLINE_ONLY_EVENT:const B=null===(r=t.getSelectedForma())||void 0===r?void 0:r.controller.styleController.targetedTextLook;l.LockupStyle.isOutlineLook(B)&&function(e,t){const o=t.getSelectedForma();if(!o)return;const n=o.controller.styleController,i=n.targetedTextLook,r=l.TextFacade.getNewTextLookForTransparentFillChange(i,n,e);r!==i&&(e?a.default.publish("editor:text:outlineOnlyDisabled"):a.default.publish("editor:text:outlineOnlyEnabled"),t.setEffectForSelectedLockup(r).done())}(!P.value,t);break;case p.THEO_TEXT_EFFECTS_OUTLINE_THICKNESS_INPUT_EVENT:O||(a.default.publish("editor:text:outlineThicknessValueChanged"),O=!0),t.setSelectedFormaOutlineThicknessAsScalar(P.value).done();break;case p.THEO_TEXT_EFFECTS_SHADOW_EVENT:!function(e,t){const o=t.getSelectedForma();if(!o)return;const n=o.controller.styleController,i=n.targetedTextLook,r=l.TextFacade.getNewTextLookForShadowChange(i,n,e);r!==i&&(e?a.default.publish("editor:text:shadowDisabled"):a.default.publish("editor:text:shadowEnabled"),t.setEffectForSelectedLockup(r).done())}(!P.value,t);break;case p.THEO_TEXT_EFFECTS_SHADOW_DISTANCE_INPUT_EVENT:t.setSelectedFormaShadowDistanceAsScalar(P.value).done();break;case p.THEO_TEXT_EFFECTS_SHADOW_DIRECTION_INPUT_EVENT:t.setSelectedFormaShadowAngleAsScalar(P.value).done();break;case p.THEO_TEXT_EFFECTS_SHAPE_EVENT:const U=t.getSelectedForma();if(!U)return;if(P.value)if(a.default.publish("editor:text:shapeEnabled"),u[U.formaID])t.setShapeForSelectedLockup(u[U.formaID].shapeID).done();else{const e=l.LockupStyle.isPath(U.style.layout),o=l.LockupStyle.isLetterGrid(U.style.layout);e?(t.setShapeForSelectedLockup("square_001").done(),t.setSelectedFormaShapePaddingAsScalar(.33).done()):o?t.setShapeForSelectedLockup("circle_001").done():t.setShapeForSelectedLockup(2).done()}else a.default.publish("editor:text:shapeDisabled"),function(e,t){if(!e||!e.formaID||!t)return;-1!==t.getShapeOfSelectedLockup()&&(u[e.formaID]={shapeID:t.getShapeOfSelectedLockup()})}(U,t),t.setShapeForSelectedLockup(0).done();break;case p.THEO_TEXT_EFFECTS_SHAPE_MASK_TEXT_EVENT:!function(e,t){const o=t.getSelectedForma();if(!o)return;const n=o.controller.styleController,i=n.targetedTextLook,r=l.TextFacade.getNewTextLookForKnockoutChange(i,n,e);r!==i&&(e?a.default.publish("editor:text:shapeMaskDisabled"):a.default.publish("editor:text:shapeMaskEnabled"),t.setEffectForSelectedLockup(r).done())}(!P.value,t);break;case p.THEO_TEXT_EFFECTS_SHAPE_PADDING_INPUT_EVENT:O||(a.default.publish("editor:text:shapeSizeValueChanged"),t.setCurrentPin(),O=!0),t.setSelectedFormaShapePaddingAsScalar(P.value).done();break;case p.CLOSE_TEXT_PANEL_EVENT:t.deselect();break;case p.THEO_PANEL_TITLE_ANNOTATION_CLICK:o.handleAnnotationClicked();break;case p.TEXT_SET_LINE_HEIGHT:O||(a.default.publish("editor:text:lineSpacingValueChanged"),O=!0),t.setSelectedFormaLineHeightAsScalar(P.value).done();break;case p.TEXT_SET_LETTER_SPACING:O||(a.default.publish("editor:text:letterSpacingValueChanged"),t.setCurrentPin(),O=!0),t.setSelectedFormaLetterSpacingAsScalar(P.value).done();break;case p.THEO_TEXT_STYLES_EVENT:o.handleShuffleStyleButtonClicked();break;case p.THEO_EDIT_TEXT_EVENT:o.handleTextChange(P.value,P.changedStart,P.changedEnd,P.numAdded);break;case p.THEO_EDIT_TEXT_FOCUSED_EVENT:o.onFocusTextRequestHandled();break;case p.THEO_EDIT_TEXT_FOCUSED_IN_EVENT:o.handleTextControlFocusedIn(P.manual);break;case p.THEO_EDIT_TEXT_FOCUSED_OUT_EVENT:o.handleTextControlFocusedOut(P.value,P.textModified);break;case p.SHAPES_SELECTION_EVENT:a.default.publish("editor:text:shapeSelected");const W=parseInt(P.id,10),z=isNaN(W)?P.id:W;t.setShapeForSelectedLockup(z).done();break;case p.showImagePicker:o.handleReplaceImageButtonPress();break;case p.ungroup:t.ungroupItems(t.getAllSelectedFormas(),!0,"button").done();break;case p.showIconPicker:o.handleReplaceImageButtonPress(),a.default.publish("editor:iconReplacePressed",{contextualData1:"method: propertiesPanel"});break;case p.flipVertical:t.flipForma(!0,t.getSelectedForma());break;case p.flipHorizontal:t.flipForma(!1,t.getSelectedForma());break;case p.addLogoToCanvas:o.addExistingLogo(P.id);break;case p.addLogoToPanel:o.addNewLogo();break;case p.replaceLogo:a.default.publish("editor:logoReplacePressed",{contextualData1:"method: propertiesPanel"}),o.handleReplaceImageButtonPress();break;case p.setAlignment:const X=t.getAlignmentTypes();let $=null;switch(P.value){case 0:$=X.Left;break;case 1:$=X.CenterX;break;case 2:$=X.Right;break;case 3:$=X.Top;break;case 4:$=X.CenterY;break;case 5:$=X.Bottom}null!==$&&($===X.Left||$===X.CenterX||$===X.Right?a.default.publish("editor:multiselect:horizontalAlignmentSelected",{contextualData1:"alignmentType: "+_[$]}):a.default.publish("editor:multiselect:verticalAlignmentSelected",{contextualData1:"alignmentType: "+_[$]}),t.setAlignmentForSelectedFormae($).done());break;case p.group:t.groupItems(t.getAllSelectedFormas(),!0,"button").done();break;case p.THEO_EFFECTS_DROPDOWN_CLOSED_EVENT:const j=P.formaType;let K="";switch(P.effectName){case m:K="filter";break;case T:K="blur";break;case f:K="enhancement";break;case S:K="cutoutBackgroundColor";break;case E:K="outline";break;case g:K="shadow";break;case b:K="shape"}a.default.publish("editor:minimizePressed",{contextualData1:"objectType: "+j,contextualData2:"effectType: "+K});break;case p.HELP_POPUP_ANCHOR_HOVER_EVENT:!function(e){const t=e.id;"editText"===t?a.default.publish("tutorialPlayed",{contextualData1:"tutorialName:editTextChangeColor",contextualData2:"tutorialFormat.gif"}):"editImage"===t&&a.default.publish("tutorialPlayed",{contextualData1:"tutorialName:applyFilterAddToBackground",contextualData2:"tutorialFormat.gif"})}(P);break;case p.HELP_POPUP_CTA_CLICK_EVENT:!function(e){const t=e.link;window.open(t,"_blank"),a.default.publish("tutorialCtaPressed")}(P)}}(e,t,o)}};A.push(r),e.addEventListener(r.event,r.method)}),u={}}function N(e,t,o,n){const i=e.getImageFilters().find(e=>e.name===t);a.default.publish("editor:image:filtersApplied",{contextualData1:n}),e.setImageFilterForSelection(i,0,!1,o).done()}},W3p6:function(e,t,o){var a,n;a=[o("xeH2"),o("YLtl"),o("NgGw"),o("4eTD"),o("Qzxj")],void 0===(n=function(e,t,o,a,n){return function(e){var t=new o(e=e||{}),i={};function l(){}return t.setCoreWrapper=function(e){e,i.icon.setCoreWrapper(e),i.color.setCoreWrapper(e)},t.setBrandKitColors=function(e){i.color.setBrandKitColors(e)},t.removeBrandkitSections=function(){i.color.removeBrandkitSections()},t.handleEyeDropperClicked=function(e){i.color.handleEyeDropperClicked(e)},t.handleEyeDropperMoved=function(e,t){i.color.handleEyeDropperMoved(e,t)},t.selectCurrentColor=function(e){i.color.selectCurrentColor(e)},t.el.className+=" post-sidebar-icon",i.icon=new a({parent:t,hidden:!0,visibilityGroup:"icon-sidebar"}),i.color=new n({parent:t,hidden:!0,colorPicker:e.colorPicker,visibilityGroup:"icon-sidebar"}),t.registerSidebarTabWithId(i.icon,"icon"),t.registerSidebarTabWithId(i.color,"color"),t.republish(i.icon.events,"buttonpress-replace-icon"),t.republish(i.icon.events,"hidden","hide-icon-picker"),t.republish(i.color.events,"icon-color-selected"),t.republish(i.color.events,"eyedropper-changed"),t.events.subscribe("shown",l),t}}.apply(t,a))||(e.exports=n)},efk3:function(e,t,o){var a,n;a=[o("7len"),o("/JSe"),o("+FNJ"),o("Cho4"),o("+/kw"),o("3xm6"),o("2Fsf"),o("bBG2"),o("MGCh"),o("3xm6")],void 0===(n=function(e,t,o,a,n,i,l,r,s){return function(d){const c=r.default,u=s.channel("theo-sidebar-animation");(d=d||{}).tag="DIV";const p=new e.AnimationOptions,h=new l(d),E=h.update,{THEO_ANIMATION_COLLECTION_OPTION_SELEECT_EVENT:g}=o,{THEO_PANEL_TITLE_BAR_CLOSE:b}=n.EVENTS;let m;const f=function(){for(let e=0;e<h.el.children.length;++e)if(h.el.children[e].tagName===t.TheoAnimationCollection.elementName.toUpperCase())return h.el.children[e];return null},T=function(e){if(!m)return void u.assert(m,"missing coreWrapper when select animation style");const t=f();if(!t)return;const o=(e.originalEvent.detail.optionName||"").split(/([0-9]+)/);if(o.length>0){const e=o[0],a=parseInt(o.length>1?o[1]:"",10);h.events.publish("animation-loading-begin"),t.setAttribute("waiting",""),setTimeout(()=>{m.setAnimationStyle(e,a).finally((function(){t.removeAttribute("waiting"),h.events.publish("animation-loading-end")})),c.publish("animationPreviewed")},150)}},S=function(e){e.stopPropagation(),h.events.publish("animation-panel-title-bar-close")},_=function(){h.$el.off(g,T),h.$el.off(b,S)},C=function(){h.$el.on(g,T),h.$el.on(b,S)},A=function(){const e=document.createElement(t.TheoAnimationCollection.elementName);return e.categoryList=p.getInitialAnimationOptions(),e.betaflag=!0,e.placeholderImageUrl="/theo-web/images/modules/component/icons/animation_placeholder.png",e.placeholderTitle=i.translate("app.animationPlaceholder.kTitle"),e.placeholderText=i.translate("app.animationPlaceholder.kText"),e};return h.update=function(e){if(!m)return;const t=f();t&&function(e){const t=(o=m.getCurrentAnimationStyle())?"Color"===o.name||"Fill"===o.name||o.variantCount>1?`${o.name}${o.variant}`:o.name:"None";var o;e.categoryList=p.updateAnimationOptions(m),e.setAttribute("selected-option-name",t)}(t),E(e)},h.setCoreWrapper=function(e){m=e},function(){const e=function(){const e=document.createElement(a.TheoPanelTitleBar.elementName);return e.titleText=i.translate("components.buttons.kAnimation"),e}(),t=A();h.$el.append(e),h.$el.append(t),h.events.subscribe("shown",C),h.events.subscribe("hidden",_),h.isHidden()||C()}(),h}}.apply(t,a))||(e.exports=n)},jo99:function(e,t,o){var a,n;function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function l(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}a=[o("Avqh"),o("2Fsf"),o("W1Jy"),o("KFmL"),o("+VG/"),o("R81C")],void 0===(n=function(e,t,o,a,n,i){return function(t){(t=t||{}).layout="rows",t.panels=[{id:"BadgePickerHeader",size:"164px"},{id:"BadgePickerBadges",size:"auto"}];var r=new o(t),s=r.handleParentResize,d={};function c(e,t){const o=d.listOfBadges.getAllItems().length;d.listOfBadges.deselectSelected(),r.events.publish("badge-selected",e,t,o)}function u(){"function"==typeof t.onAddText&&t.onAddText()}function p(){r.hide(),r.events.publish("close-buttonpress"),"function"==typeof t.onClose&&t.onClose()}return r.handleParentResize=function(e){e=l(l({},e||{}),{},{width:t.width,left:t.left}),s(e)},r.el.className+=" post-badge-picker",d.fromScratchLabel=new e({parent:"BadgePickerHeader",tag:"label",class:"panel-title",template:"i18n.panels.badges.kFromScratch"}),d.closeButton=new n({parent:"BadgePickerHeader",class:"asset-rail-close-button",width:13,height:13,onClick:p}),d.addCustomTextButton=new a({parent:"BadgePickerHeader",class:"pill",label:"i18n.panels.badges.kCustom",onClick:u}),d.listOfBadges=new i({parent:"BadgePickerBadges",advancedTextLayoutAllEnabled:t.advancedTextLayoutEnabled}),d.listOfBadges.events.subscribe("item-selected",c),r.getMerchAnchor=function(e){return d.listOfBadges.getMerchAnchor(e)||{element:r.$el,position:"left"}},r}}.apply(t,a))||(e.exports=n)},mYMA:function(e,t,o){var a,n;a=[o("YLtl"),o("2Fsf"),o("W1Jy"),o("+VG/"),o("HTdw"),o("rPfa"),o("bBG2"),o("Af0U"),o("UzQk"),o("8DU0"),o("GSfz"),o("3xm6"),o("Cho4"),o("+/kw"),o("Pbp+"),o("8TtT")],void 0===(n=function(e,t,o,a,n,i,l,r,s,d,c,u,p,h,E,g){const b=l.default;const{THEO_PANEL_TITLE_BAR_CLOSE:m}=h.EVENTS;BACKGROUND_PANEL_HELP_MODAL_CONTENT={title:u.translate("components.buttons.kBackground"),ctaText:u.translate("app.helpModal.kCtaText"),ctaLink:"https://adobespark.zendesk.com/hc/en-us/categories/202688167-Adobe-Spark",assetUrl:"https://"+window.location.host+"/images/help-videos/r_background.gif",placement:"bottom-left",id:"background"};return function(l){(l=l||{}).layout="rows",l.panels=[{id:"PostSidebarLayoutTitleBar",size:"73px"},{id:"PostSidebarLayoutActions",size:"180px"},{id:"PostSidebarLayoutContent",class:"post-panel-divider-above",size:"auto"}];var s,d,c,h,f=new o(l),T={},S=f.hide,_=f.show,C=!1,A=[];function O(e){f.allowAutomaticLayout()&&s.enableAutomaticLayoutMode(),T.layoutModeCheckbox.show(),y(),(e=void 0===e||e)&&(D(),U(s.getLayoutSpacing()===s.getLayoutMargin()))}function v(){s.prepareForGridLayouts(),O(!0),L(),A.push(s.events.subscribe("design-updated",I)),f.$el.on(m,W),f.$el.on(g.HELP_POPUP_CTA_CLICK_EVENT,P),f.$el.on(g.HELP_POPUP_ANCHOR_HOVER_EVENT,k)}function P(e){var t=e.originalEvent.detail.link;window.open(t,"_blank"),b.publish("tutorialCtaPressed")}function k(e){var t=e.originalEvent.detail.id;BACKGROUND_PANEL_HELP_MODAL_CONTENT.id===t&&b.publish("tutorialPlayed",{contextualData1:"tutorialName:selectBackgroundLayoutChangeBorder",contextualData2:"tutorialFormat.gif"})}function N(){e.each(A,(function(e){e.remove()})),A=[],s.disableAutomaticLayoutMode(),f.$el.off(m,W),f.$el.off(g.HELP_POPUP_CTA_CLICK_EVENT,P),f.$el.off(g.HELP_POPUP_ANCHOR_HOVER_EVENT,k)}function I(){O(!C),L()}function y(){if(s){var e=s.spacingChangesVisible();e?(T.spacingSlider.show(),T.linkButton.show(),T.topLinkLine.show(),T.bottomLinkLine.show()):(T.spacingSlider.hide(),T.linkButton.hide(),T.topLinkLine.hide(),T.bottomLinkLine.hide());var t=e?180:140;f.update({panels:[{id:"PostSidebarLayoutActions",size:t+"px"}]})}}function L(){var e=s.getGridForma(!0),t=e&&e.style&&e.style.name;t&&t!=h&&(T.listOfGrids.selectLayout(e.style),h=t)}function w(e){e.target.checked?s.enableAutomaticLayoutMode():s.disableAutomaticLayoutMode(),b.publish("editor:background:moveContentToggled",{contextualData1:"status:"+(e.target.checked?"on":"off")})}function F(e,t){d=!0,e,f.events.publish("grid-item-selected",e,t)}function M(e){x(e.value,-1),H(2*e.value,c?2*e.value:-1)}function V(e){x(-1,e.value),H(c?2*e.value:-1,2*e.value)}function H(e,t){s.setLayoutSpacingAndMargin(e,t).done()}function x(e,t){e>=0?(T.spacingSlider.setValue(Math.round(e)),c&&T.borderSlider.setValue(Math.round(e))):t>=0&&(T.borderSlider.setValue(Math.round(t)),c&&T.spacingSlider.setValue(Math.round(t)))}function D(){T.spacingSlider.setValue(Math.round(s.getLayoutSpacing()/2)),T.borderSlider.setValue(Math.round(s.getLayoutMargin()/2))}function R(e){C=!0,s.beginGesture(e)}function G(){D(),s.endGesture(!0),C=!1}function B(){if(U(!c),c){const e=s.getLayoutSpacing(),t=s.getLayoutMargin(),o=0===e||0===t?Math.max(t,e):Math.min(t,e);H(o,o),D()}}function U(e){c=e,e?(T.linkButton.$el.find("i").addClass("lock-close"),T.linkButton.$el.find("i").removeClass("lock-open")):(T.linkButton.$el.find("i").addClass("lock-open"),T.linkButton.$el.find("i").removeClass("lock-close"))}function W(e){e.stopPropagation(),f.events.publish("layout-panel-title-bar-close")}return f.setCoreWrapper=function(e){s=e,T.listOfGrids.setCoreWrapper(e),y(),f.allowAutomaticLayout()&&s.enableAutomaticLayoutMode()},f.deselectSelected=function(){T.listOfGrids.deselectSelected()},f.allowAutomaticLayout=function(){return T.layoutModeCheckbox.$el.find("input")[0].checked},f.returnFromSelectionState=function(){s.prepareForGridLayouts(),f.allowAutomaticLayout()&&s.enableAutomaticLayoutMode()},f.show=function(){_(),d=!1},f.hide=function(){S(),d&&b.publish("resizeAndGrid")},function(){f.el.className+=" post-sidebar-layout",T.layoutModeTitleBar=new t({parent:"PostSidebarLayoutTitleBar"});const e=function(){const e=document.createElement(p.TheoPanelTitleBar.elementName);return e.titleText=u.translate("components.buttons.kBackground"),e.helpModalContent=BACKGROUND_PANEL_HELP_MODAL_CONTENT,e}();T.layoutModeTitleBar.$el.prepend(e);let o=!1;u.currentLanguage.startsWith("en")&&E.run("testShowPanelHelpVideos*",{helpModalVariant:()=>{o=!0,e.enableHelpModal=o},control:()=>{}}).then(()=>{}).done(),T.layoutModeToolWrapper=new t({parent:"PostSidebarLayoutActions",height:15,bottom:28,left:24,top:"auto"}),T.layoutModeCheckbox=new n({parent:T.layoutModeToolWrapper,id:"disableMagicLayoutCheckbox",label:"i18n.components.input.toggle.kMoveContentWithLayout",height:15,checked:!1,handleChange:w}),T.borderSlider=new i({parent:"PostSidebarLayoutActions",onSlide:V,onSlideStart:function(){R("background-border")},onSlideEnd:G,top:55,left:24,sliderWidth:210,sliderHeight:2,handleHeight:16,minValue:0,maxValue:100,roundValues:!0,snapSensitivity:5,label:"i18n.components.slider.kBorder",labelClass:"label-above",showValueTooltip:!0}),T.spacingSlider=new i({parent:"PostSidebarLayoutActions",onSlide:M,onSlideStart:function(){R("background-spacing")},onSlideEnd:G,top:107,left:24,sliderWidth:210,sliderHeight:2,handleHeight:16,minValue:0,maxValue:100,roundValues:!0,snapSensitivity:5,label:"i18n.components.slider.kCell",labelClass:"label-above",showValueTooltip:!0}),T.linkButton=new a({parent:"PostSidebarLayoutActions",label:"",width:26,height:26,id:"LinkSlidersButton",class:"post-layout-link",onClick:B}),T.topLinkLine=new t({parent:"PostSidebarLayoutActions",top:55,left:251,width:7,height:14,id:"TopLinkLine",class:"top-link-line",hidden:!1}),T.bottomLinkLine=new t({parent:"PostSidebarLayoutActions",top:97,left:251,width:7,height:14,id:"BottomLinkLine",class:"bottom-link-line",hidden:!1}),T.listOfGrids=new r({parent:"PostSidebarLayoutContent",hidden:!1}),f.events.subscribe("shown",v),f.events.subscribe("hidden",N),T.listOfGrids.events.subscribe("item-selected",F)}(),f}}.apply(t,a))||(e.exports=n)},rOUP:function(e,t,o){var a,n;a=[o("xeH2"),o("YLtl"),o("2Fsf"),o("TW0n"),o("W1Jy"),o("KFmL"),o("uXkU"),o("bBG2"),o("QuSD"),o("3xm6")],void 0===(n=function(e,t,o,a,n,i,l,r,s,d){const c=r.default;var u=!1;return function(e){(e=e||{}).layout="rows",e.panels=[{id:"PostSidebarPhotoEnhancements",size:"80px",kind:"fixed",min:"80px",max:"80px"},{id:"PostSidebarPhotoFilters",class:"post-panel-divider-above",size:"650px",kind:"fixed",min:"650px",max:"650px"},{id:"PostSidebarPhotoEffects",class:"post-panel-divider-above",size:"120px",kind:"fixed",min:"120px",max:"120px"}];var t,r=new n(e),p={};function h(t){if(!e.enablePixiRenderer)return t;var o=1+99*(e=>e**3)(t/100);return o=1===o?0:o}function E(e,t){r.events.publish("filter-selected",e,t,u),c.publish("imageFilterSelected",{filterName:e.name})}function g(){if(t){var e=t.backgroundImageFormas().length>1;e?p.listOfFilters.showCheckBox():p.listOfFilters.hideCheckBox();var o=e?666:650;r.update({panels:[{id:"PostSidebarPhotoFilters",size:o+"px",min:o+"px",max:o+"px"}]})}}function b(){r.updateForCurrentSelection()}function m(o){var a=t.getImageAdjustments(o);p.contrastSlider.setValue(a.contrast),p.brightnessSlider.setValue(a.brightness),p.saturationSlider.setValue(a.saturation),p.highlightsSlider.setValue(a.highlights),p.shadowsSlider.setValue(a.shadows),p.warmthSlider.setValue(a.warmth),p.sharpenSlider.setValue(a.sharpness),p.blurSlider.setValue(function(t){if(!e.enablePixiRenderer)return t;var o=0;return t>1&&(o=100*((t-1)/99)**(1/3)),o}(a.blur))}function f(){t.beginGesture("background-image-adjustment")}function T(){t.endGesture(!0)}return r.updateForCurrentSelection=function(){if(!r.isHidden()){var e=t.getSelectedForma();e&&(e.isImage()||e.isShape())&&(g(),e.isImage()&&(m(e),r.updateFilters({items:t.getImageFilters(),image:t.getImagePreviewData(e),forma:e,documentSize:t.getDocumentSize()})))}},r.updateFilters=function(e){return e=e||{items:t.getImageFilters(),image:t.getImagePreviewData(t.getSelectedForma()),forma:t.getSelectedForma(),documentSize:t.getDocumentSize()},p.listOfFilters.update(e)},r.setCoreWrapper=function(e){(t=e).events.subscribe("forma-added",r.updateForCurrentSelection),t.events.subscribe("formae-deleted",r.updateForCurrentSelection),t.events.subscribe("forma-selected",r.updateForCurrentSelection),p.listOfFilters.update({core:e}),g()},r.el.className+=" post-sidebar-photo",p.listOfFilters=new s({enablePixiRenderer:e.enablePixiRenderer,parent:"PostSidebarPhotoFilters",hidden:!1}),p.enhancePhotoDropdownButton=new a({parent:"PostSidebarPhotoEnhancements",id:"EnhancePhotoDropdownButton",template:"<p class='dropdown-label'>i18n.components.buttons.kEnhancePhoto</p><div class='dropdown-button'></div>",height:40,width:232,top:20,left:22,onClick:function(){var e=p.enhancePhotoDropdownButton.$el.find(".dropdown-button");e.hasClass("up-arrow")?(p.contrastSlider.hide(),p.brightnessSlider.hide(),p.saturationSlider.hide(),p.highlightsSlider.hide(),p.shadowsSlider.hide(),p.warmthSlider.hide(),p.sharpenSlider.hide(),p.resetSlidersButton.hide(),r.update({panels:[{id:"PostSidebarPhotoEnhancements",size:"80px",min:"80px",max:"80px"}]})):(p.contrastSlider.show(),p.brightnessSlider.show(),p.saturationSlider.show(),p.highlightsSlider.show(),p.shadowsSlider.show(),p.warmthSlider.show(),p.sharpenSlider.show(),p.resetSlidersButton.show(),r.update({panels:[{id:"PostSidebarPhotoEnhancements",size:"502px"}]})),e.toggleClass("up-arrow")}}),p.contrastSlider=new l({parent:"PostSidebarPhotoEnhancements",onSlide:function(e){t.changeImageAdjustments({contrast:e.value})},onSlideStart:function(){f()},onSlideEnd:T,top:76,left:24,sliderWidth:232,minValue:-100,maxValue:100,stepValue:1,showValueTooltip:!0,label:d.translate("components.slider.kContrast"),hidden:!0,snapTicks:[0],snapSensitivity:5}),p.brightnessSlider=new l({parent:"PostSidebarPhotoEnhancements",onSlide:function(e){t.changeImageAdjustments({brightness:e.value})},onSlideStart:function(){f()},onSlideEnd:T,top:128,left:24,sliderWidth:232,minValue:-100,maxValue:100,stepValue:1,showValueTooltip:!0,label:d.translate("components.slider.kBrightness"),hidden:!0,snapTicks:[0],snapSensitivity:5}),p.saturationSlider=new l({parent:"PostSidebarPhotoEnhancements",onSlide:function(e){t.changeImageAdjustments({saturation:e.value})},onSlideStart:function(){f()},onSlideEnd:T,top:180,left:24,sliderWidth:232,minValue:-100,maxValue:100,stepValue:1,showValueTooltip:!0,label:d.translate("components.slider.kSaturation"),hidden:!0,snapTicks:[0],snapSensitivity:5}),p.highlightsSlider=new l({parent:"PostSidebarPhotoEnhancements",onSlide:function(e){t.changeImageAdjustments({highlights:e.value})},onSlideStart:function(){f()},onSlideEnd:T,top:232,left:24,sliderWidth:232,minValue:-100,maxValue:100,stepValue:1,showValueTooltip:!0,label:d.translate("components.slider.kHighlights"),hidden:!0,snapTicks:[0],snapSensitivity:5}),p.shadowsSlider=new l({parent:"PostSidebarPhotoEnhancements",onSlide:function(e){t.changeImageAdjustments({shadows:e.value})},onSlideStart:function(){f()},onSlideEnd:T,top:284,left:24,sliderWidth:232,minValue:-100,maxValue:100,stepValue:1,showValueTooltip:!0,label:d.translate("components.slider.kShadows"),hidden:!0,snapTicks:[0],snapSensitivity:5}),p.warmthSlider=new l({parent:"PostSidebarPhotoEnhancements",onSlide:function(e){t.changeImageAdjustments({warmth:e.value})},onSlideStart:function(){f()},onSlideEnd:T,top:336,left:24,sliderWidth:232,minValue:-100,maxValue:100,stepValue:1,showValueTooltip:!0,label:d.translate("components.slider.kWarmth"),hidden:!0,snapTicks:[0],snapSensitivity:5}),p.sharpenSlider=new l({parent:"PostSidebarPhotoEnhancements",onSlide:function(e){t.changeImageAdjustments({sharpness:e.value})},onSlideStart:function(){f()},onSlideEnd:T,top:388,left:24,sliderWidth:232,minValue:0,maxValue:100,stepValue:1,showValueTooltip:!0,label:d.translate("components.slider.kSharpen"),hidden:!0}),p.resetSlidersButton=new i({parent:"PostSidebarPhotoEnhancements",class:"reset-sliders-button post-centered-button",label:"i18n.components.buttons.kResetChanges",hidden:!0,onClick:function(){t.resetImageAdjustments({contrast:0,brightness:0,saturation:0,highlights:0,shadows:0,warmth:0,sharpness:0})}}),p.EffectsPanelLabel=new o({parent:"PostSidebarPhotoEffects",template:"<h2>i18n.panels.images.kEffects</h2>",left:24,top:30}),p.blurSlider=new l({parent:"PostSidebarPhotoEffects",onSlide:function(e){t.changeImageAdjustments({blur:h(e.value)})},onSlideStart:function(){f()},onSlideEnd:T,top:69,left:24,sliderWidth:232,minValue:0,maxValue:100,stepValue:1,showValueTooltip:!0,label:d.translate("components.slider.kBlur"),hidden:!1}),r.events.subscribe("shown",b),p.listOfFilters.events.subscribe("item-selected",E),p.listOfFilters.events.subscribe("filter-checkbox-changed",(function(e){u=e})),r}}.apply(t,a))||(e.exports=n)},zeFu:function(e,t,o){var a,n;a=[o("2Fsf"),o("xsG0"),o("nO8B"),o("RvTP"),o("Pbp+"),o("3xm6")],void 0===(n=function(e,t,o,a,n,i){return function(l){(l=l||{}).tag=t.TheoSidebar.elementName;var r=new e(l);o.localizeWebComponents();var s=r.update;function d(){}return r.enableHelpModal=!1,a.bindEvents(r.el,l.coreWrapper,l.controller),r.update=function(e){"string"==typeof(e=e||{}).panelName&&("logo"===e.panelName?r.el.setAttribute("panelName","logo-prop"):r.el.setAttribute("panelName",e.panelName)),void 0!==e.state&&(r.el.globalState=e.state,r.enableHelpModal&&(e.state.enableHelpModal=r.enableHelpModal)),s(e)},r.updateCoreWrapper=function(e){a.unbindEvents(r.el),a.bindEvents(r.el,e,l.controller)},r.el.className+=" post-sidebar-item-properties",r.events.subscribe("shown",d),function(){try{i.currentLanguage.startsWith("en")&&n.run("testShowPanelHelpVideos*",{helpModalVariant:()=>{r.enableHelpModal=!0},control:()=>{}})}catch(e){}}(),r}}.apply(t,a))||(e.exports=n)}}]);
//# sourceMappingURL=theo-web-view_16da479a-35b028e6.js.map