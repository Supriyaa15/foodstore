(window.webpackJsonptheoWebApp=window.webpackJsonptheoWebApp||[]).push([[25],{"9YN4":function(e,t,o){var r,n,i,s,a,c,u,l,d=t,p=o("oAGj"),h=o("VQVe"),P=o("ytEx"),_=o("qsM9"),E=o("9a+Y"),T=o("9WSY"),C=o("yGNn"),g=o("ascj"),y=o("Vvcj"),R=o("fVJ2"),f=o("13MC"),D=o("quOg"),m=o("LcYy"),A=o("3OP7"),O=o("BbDD"),S=o("FNB+"),b=o("URxh"),N=o("H9Ol"),I=o("cmoc"),v=o("fWxZ"),L=o("QbzR"),B=o("JEzR"),M=o("P83h"),F=o("A6KL"),Y=o("pnSN"),w=o("h67N"),x=o("4mVB"),V=o("iCxV"),U=o("8vXU"),H=o("q5zr"),k=o("9eTw"),j=o("fdtz"),G=o("SDdr"),K=o("uWOl"),X=o("C4JV"),W=o("Puiz"),J=o("rxGp"),z=o("fNpk"),q=o("c+uM"),Q=o("DP9v"),Z=o("0PPJ"),$=o("AxS/"),ee=o("K0Rh"),te=o("2ALn"),oe=o("djAF"),re=o("kSRw"),ne=o("aN2p"),ie=o("u2iI"),se=o("QBb7"),ae=o("a9ow"),ce=o("MO6F"),ue=o("lJxM"),le=o("Qb69"),de=o("T6jX"),pe=o("enh0"),he=o("voyk"),Pe=o("90dd"),_e=o("x4Gy"),Ee=o("LCGV"),Te=o("Kkml"),Ce=o("LGJg"),ge=o("sW6f"),ye=o("WWR6"),Re=o("zjod"),fe=o("QTen");d.TheoDocumentVersion=p.defineEnum("TheoDocumentVersion",{Invalid:0,BeginningOfStoringVersion:1,BackingShapePaddingEnabled:2,FormaController:1e3,ColorBackgroundAndPreviewEncoding:2e3,Knockouts:3e3,GridLayouts:4e3,CharacterStyles:5e3,GridsWithAlphaImages:6e3,OmitShapeLibraryPathData:7e3,Icons:8e3,TextEffects:9e3,LetterSpacing:1e4,AdobeFonts:11e3,ImageAdjustments:12e3,PremiumTemplates:13e3,Giphys:14e3,NewTextAnimations:15e3,FontSourcesMetadata:15100,NewTextLayouts:16e3,JSONDocumentEncoding:17e3,VideoSupport:18e3,FloatingImages:19e3,Grouping:2e4,Deepcut:21e3,FourColorsAndOpacities:22e3,BlendModes:23e3}),d.TheoDocumentUserAction=(r=function(e,t){this.doc=e,this.action=t,p.opt(e.controller,(function(e){return e.undoRedoMgr.beginUserAction(t,(function(){}))}))},p.defineClass({name:"TheoDocumentUserAction",ctor:r,superName:"CoreObject",props:{end:function(){var e=this;null!=this.action&&p.opt(this.doc.controller,(function(t){return t.undoRedoMgr.endUserAction((function(){e.action=null}))}))},rollback:function(){var e=this;null!=this.action&&p.opt(this.doc.controller,(function(t){return t.undoRedoMgr.cancelUserAction((function(){e.action=null}))}))}}}),r),d.TheoDocument=(n=function(){this.modifiedSinceShare_=!1,this.missingFontsDuringOpen_=[],this.allowPrune_=!0,this.docInited_=!0,this.maskSubstitutionController_=new Z.MaskSubstitutionController,this.initNewDocumentTransaction=null,this.pendingAuthoringContextID_=null,this.forkID_=null,this.atomicChangeEvent_=null,this.blockedControllers_=[]},i={},p.defineClass({name:"TheoDocument",ctor:n,superName:"DBHostObject",statics:{SCHEMA_CLASS_NAME:"TheoDocument",CURRENT_VERSION:{get:function(){return void 0===i.CURRENT_VERSION&&(i.CURRENT_VERSION=d.TheoDocumentVersion.BlendModes),i.CURRENT_VERSION},set:function(e){i.CURRENT_VERSION=e}},MIME_TYPE:"application/vnd.adobe.theo.document+dcx",PROPERTY_VERSION:"format-version",PROPERTY_WATERMARK_ENABLED:"watermark-enabled",PROPERTY_SHARED:"shared",PROPERTY_MODIFIED_SINCE_SHARE:"modified-since-share",PROPERTY_FONT_SOURCES:"font-sources",PROPERTY_FONT_USAGE:"font-usage",PROPERTY_CP_CONTENT_MODIFIED:"cp#contentModified",PROPERTY_CP_PROJECT_ID:"cp#projectId",PROPERTY_CP_ALIAS:"cp#shortId",PROPERTY_CP_ASSET_ID:"cp#assetId",PROPERTY_CP_PUBLISHED_ETAG:"cp#publishedEtag",PROPERTY_CP_IS_EXPORTED:"cp#isExported",PROPERTY_REMIX_ANCESTORS_CP_ASSET_IDS:"remix-ancestors",PROPERTY_STOCK_IMAGES:"stockImages",PROPERTY_UNLICENSED:"unlicensed",PROPERTY_STANDARD:"standard",PROPERTY_EXTENDED:"extended",PROPERTY_NAME:"name",PROPERTY_TYPE:"type",PROPERTY_CHILDREN:"children",ALL_CP_PROPERTIES:{get:function(){return void 0===i.ALL_CP_PROPERTIES&&(i.ALL_CP_PROPERTIES=[n.PROPERTY_CP_PROJECT_ID,n.PROPERTY_CP_ALIAS,n.PROPERTY_CP_ASSET_ID,n.PROPERTY_CP_PUBLISHED_ETAG,n.PROPERTY_CP_IS_EXPORTED]),i.ALL_CP_PROPERTIES}},PROPERTY_DOCUMENT_DATA:"doc#data",PROPERTY_AUTHORING_CONTEXT_ID:"authctx#ctxid",PROPERTY_AUTHORING_CONTEXT_NAME:"authctx#ctxname",PROPERTY_AUTHORING_CONTEXT_URN:"authctx#ctxurn",PROPERTY_AUTHORING_CONTEXT_THEME_ID:"authctx#themeid",PROPERTY_USES_BRANDED_ELEMENTS:"authctx#uses-branded-elements",DEFAULT_NAME:"My Post",PROPERTY_CONSTRAINED_IMAGES:"constrainedImages",ERR_NEWER_FORMAT_VERSION:"newer-format-version",ERR_COULD_NOT_READ_JSON:"json-read-failed",COMPONENT_PATH_CONTENT:"content.json",COMPONENT_NAME_DOM:"dom",COMPONENT_RELATIONSHIP_DOM:"dom",COMPONENT_MIME_TYPE_DOCUMENT_JSON:"application/json",COMPONENT_RELATIONSHIP_METADATA:"metadata",COMPONENT_RELATIONSHIP_RENDITION:"rendition",classCodecs_:[],classFactories_:[],registerCodecs:function(){0==n.classCodecs_.length&&(n.classCodecs_.push(le.TheoDocumentData.codec),n.classCodecs_.push(N.ControllerMetadata.codec),n.classCodecs_.push(L.FormaStyle.codec),n.classCodecs_.push(_e.TextModel.codec),n.classCodecs_.push(_e.ContentTextModel.codec),n.classCodecs_.push(ae.UTF16Attribute.codec),n.classCodecs_.push(ae.FontDescriptorAttribute.codec),n.classCodecs_.push(ae.FontSizeAttribute.codec),n.classCodecs_.push(ae.FontColorAttribute.codec),n.classCodecs_.push(ae.FontStrokeColorAttribute.codec),n.classCodecs_.push(ae.FontStrokeWidthAttribute.codec),n.classCodecs_.push(ae.TextLookAttribute.codec),n.classCodecs_.push(ae.TrackingAttribute.codec),n.classCodecs_.push(T.ColorLibrary.codec),n.classCodecs_.push(g.ColorTable.codec),n.classCodecs_.push(b.FormaAnimation.codec),n.classCodecs_.push(h.AnimationStyle.codec),n.classCodecs_.push(G.ImageFilter.codec),n.classCodecs_.push(_.Codecs.theoTimeCodec),n.classCodecs_.push(_.Codecs.theoSizeCodec),n.classCodecs_.push(_.Codecs.solidColorCodec),n.classCodecs_.push(_.Codecs.theoColorCodec),n.classCodecs_.push(_.Codecs.paletteIDCodec),n.classCodecs_.push(_.Codecs.theoPointCodec),n.classCodecs_.push(_.Codecs.theoRectCodec),n.classCodecs_.push(_.Codecs.matrix2DCodec),n.classCodecs_.push(_.Codecs.colorRoleCodec),n.classCodecs_.push(_.Codecs.textRangeCodec),n.classCodecs_.push(_.Codecs.gridCellCodec),n.classCodecs_.push(_.Codecs.fontDescriptorCodec),n.classCodecs_.push(_.Codecs.fontCodec),n.classCodecs_.push(_.Codecs.mediaMetadataCodec),n.classCodecs_.push(_.Codecs.imageColorDataCodec),n.classCodecs_.push(_.Codecs.emptyPathCodec),n.classCodecs_.push(_.Codecs.rectanglePathCodec),n.classCodecs_.push(_.Codecs.ellipsePathCodec),n.classCodecs_.push(_.Codecs.arbitraryPathCodec),n.classCodecs_.push(_.Codecs.pathCodec),n.classCodecs_.push(_.Codecs.artworkShapeCodec),n.classCodecs_.push(_.Codecs.artworkGroupCodec),n.classCodecs_.push(_.Codecs.artworkClipGroupCodec),n.classCodecs_.push(_.Codecs.artworkNodeCodec),n.classCodecs_.push(_.Codecs.pageExportDataCodec),n.classCodecs_.push(_.Codecs.keyFrameCodec),n.classCodecs_.push(_.Codecs.imageAdjustmentsCodec),n.classCodecs_.push(_.Codecs.textPathCodec),n.classCodecs_.push(_.Codecs.textPathSegmentCodec))},registerFactories:function(){0==n.classFactories_.length&&(n.classFactories_.push(R.DBHostObject.registerFactory(le.TheoDocumentData.SCHEMA_CLASS_NAME,le.TheoDocumentData.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(_e.TextModel.SCHEMA_CLASS_NAME,_e.TextModel.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(_e.ContentTextModel.SCHEMA_CLASS_NAME,_e.ContentTextModel.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(v.FormaPage.SCHEMA_CLASS_NAME,v.FormaPage.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(E.ContentDocument.SCHEMA_CLASS_NAME,E.ContentDocument.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(y.ColorThemeDocument.SCHEMA_CLASS_NAME,y.ColorThemeDocument.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(m.DocumentHistory.SCHEMA_CLASS_NAME,m.DocumentHistory.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(T.ColorLibrary.SCHEMA_CLASS_NAME,T.ColorLibrary.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(ne.SimpleSwatch.SCHEMA_CLASS_NAME,ne.SimpleSwatch.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(g.ColorTable.SCHEMA_CLASS_NAME,g.ColorTable.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(F.GroupContentNode.SCHEMA_CLASS_NAME,F.GroupContentNode.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(ee.RootForma.SCHEMA_CLASS_NAME,ee.RootForma.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(Y.GroupForma.SCHEMA_CLASS_NAME,Y.GroupForma.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(re.SmartGroupForma.SCHEMA_CLASS_NAME,re.SmartGroupForma.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(I.FrameForma.SCHEMA_CLASS_NAME,I.FrameForma.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(j.ImageForma.SCHEMA_CLASS_NAME,j.ImageForma.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(oe.ShapeForma.SCHEMA_CLASS_NAME,oe.ShapeForma.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(pe.TextForma.SCHEMA_CLASS_NAME,pe.TextForma.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(ye.VectorForma.SCHEMA_CLASS_NAME,ye.VectorForma.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(Re.VideoForma.SCHEMA_CLASS_NAME,Re.VideoForma.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(N.ControllerMetadata.SCHEMA_CLASS_NAME,N.ControllerMetadata.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(b.FormaAnimation.SCHEMA_CLASS_NAME,b.FormaAnimation.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(L.FormaStyle.SCHEMA_CLASS_NAME,L.FormaStyle.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(te.RootStyle.SCHEMA_CLASS_NAME,te.RootStyle.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(h.AnimationStyle.SCHEMA_CLASS_NAME,h.AnimationStyle.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(K.ImageStyle.SCHEMA_CLASS_NAME,K.ImageStyle.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(Ee.TextStyle.SCHEMA_CLASS_NAME,Ee.TextStyle.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(ie.ShapeStyle.SCHEMA_CLASS_NAME,ie.ShapeStyle.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(fe.VideoStyle.SCHEMA_CLASS_NAME,fe.VideoStyle.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(x.GridStyle.SCHEMA_CLASS_NAME,x.GridStyle.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(B.FrameStyle.SCHEMA_CLASS_NAME,B.FrameStyle.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(q.LockupStyle.SCHEMA_CLASS_NAME,q.LockupStyle.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(G.AlphaBlendFilter.SCHEMA_CLASS_NAME,G.AlphaBlendFilter.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(G.CompositeFilter.SCHEMA_CLASS_NAME,G.CompositeFilter.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(F.GroupContentNode.SCHEMA_CLASS_NAME,F.GroupContentNode.factory)),n.classFactories_.push(R.DBHostObject.registerFactory($.RootContentNode.SCHEMA_CLASS_NAME,$.RootContentNode.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(H.ImageContentNode.SCHEMA_CLASS_NAME,H.ImageContentNode.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(ue.TextContentNode.SCHEMA_CLASS_NAME,ue.TextContentNode.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(ge.VideoContentNode.SCHEMA_CLASS_NAME,ge.VideoContentNode.factory)),n.classFactories_.push(R.DBHostObject.registerFactory(Ce.VectorContentNode.SCHEMA_CLASS_NAME,Ce.VectorContentNode.factory)))},decodeDocument:function(e,t){var o=[],r=A.DocumentPersistenceFactory.decoderFor(e.current),i=A.DocumentPersistenceFactory.namespacedPropertyName(n.PROPERTY_VERSION),s=d.VersionInfo.fromProperty(p.as(e.current.getValue(i),"AnyObject")),a=new d.VersionInfo(n.CURRENT_VERSION);s.major>a.major&&o.push(n.ERR_NEWER_FORMAT_VERSION);var c=n.init_209f(r,(function(e){return o.push(e)}));0==!o.length&&(o.splice(0,0,"Error opening document version "+s.rawValue),t(o));var u=c.beginTransaction("post_history_entry");return c.history.postEntry("open,was-vers="+p.toString(s.rawValue)),u.mergeWithPrevious(),c},decodeTemplate:function(e,t,o){var r,i=[];if(r=p.as(p.opt(V.Host.persistUtils,(function(e){return e.readJsonContentFromFile(t)})),["Dictionary","String","Any"])){var s=e.current,a=new W.JSONNodeDecoder(s,r),c=n.init_209f(a,(function(e){return i.push(e)}));0==!i.length&&o(i);var u=c.beginTransaction("set_authoring_context_ID");return c.authoringContextID=s.getValue(P.PROPERTY_KEY_ID),u.mergeWithPrevious(),c}return i.push(n.ERR_COULD_NOT_READ_JSON),0==!i.length&&o(i),null},newDocumentFromDataObject:function(e,t){return n.init_209f(e,t)},createDefault:function(e){return void 0===e&&(e=null),n.init_b80b(e)},INIT_DOC_TRANSACTION_NAME:"init_new_document",_implements:function(e){return"IDBObject"==e||"TheoMessagePublisher"==e||"IDatabaseListener"==e}},props:{init_209f:function(e,t){n.registerCodecs(),n.registerFactories(),this.publishing_=new ce.TheoBasePublishing,this.controller_=new D.DocumentController;var o=null,r=d.TheoDocumentVersion.Invalid,i=e.intProperty(n.PROPERTY_VERSION,r);i==r&&(i=p.toInt(e.numberProperty(n.PROPERTY_VERSION,p.toDouble(r)))),p.super_init(this,R.DBHostObject,R.DBHostObject.prototype.init_1be9,i,e,(function(e){o=e,null!=t&&t(e)}));var s=this.database.beginTransaction("init",null);if(this.gridLibrary_=new w.GridLibrary,this.hostDB_.addListener(this),this.publishing_.owner=this,O.DocumentSingletonTracker.creatingDocumentSingleton(this),null==o?(this.publishing_.publish(new d.TheoDocumentDidDecodeMessage(this)),this.controller_.attach(this),this.firstPage.postDecode(),this.content.postDecode(),this.modifiedSinceShare_=this.get(n.PROPERTY_MODIFIED_SINCE_SHARE),null==e.property(n.PROPERTY_DOCUMENT_DATA)&&this.set(n.PROPERTY_DOCUMENT_DATA,le.TheoDocumentData.init_d41d())):(this.firstPage_=v.FormaPage.init_d0e4(this),this.content_=E.ContentDocument.init_26a9(this,null),this.colorTheme_=y.ColorThemeDocument.init_d0e4(this),this.history_=m.DocumentHistory.init_d0e4(this),this.saveChildren(),this.set(n.PROPERTY_DOCUMENT_DATA,le.TheoDocumentData.init_d41d()),this.set(n.PROPERTY_VERSION,n.CURRENT_VERSION),this.set(n.PROPERTY_MODIFIED_SINCE_SHARE,this.modifiedSinceShare_),this.set(n.PROPERTY_SHARED,!1),this.documentName=n.DEFAULT_NAME,this.controller_.attach(this)),this.instantiateDescendants(),i!=n.CURRENT_VERSION&&this.set(n.PROPERTY_VERSION,n.CURRENT_VERSION),!p.isEmpty(this.authoringContextID)&&(p.isEmpty(this.authoringContextName)||p.isEmpty(this.authoringContextURN))){var a=Q.MultiBrandFacade.authoringContext(this.authoringContextID);null!=a&&(this.authoringContextName=a.name,this.authoringContextURN=a.urn)}de.TheoDocumentUtils.pruneOrphanedContent(this),this.allowPrune_=!1,this.finishInitDocument(s)},init_b80b:function(e){void 0===e&&(e=null),this.allowPrune_=!1,n.registerCodecs(),n.registerFactories(),this.publishing_=new ce.TheoBasePublishing,this.controller_=new D.DocumentController,p.super_init(this,R.DBHostObject,R.DBHostObject.prototype.init_7341,n.CURRENT_VERSION,e);var t=this.database.beginTransaction("init",null);this.gridLibrary_=new w.GridLibrary,this.hostDB_.addListener(this),this.publishing_.owner=this,O.DocumentSingletonTracker.creatingDocumentSingleton(this),this.firstPage_=v.FormaPage.init_d0e4(this),this.content_=E.ContentDocument.init_26a9(this,null),this.colorTheme_=y.ColorThemeDocument.init_d0e4(this),this.history_=m.DocumentHistory.init_d0e4(this),this.saveChildren(),this.set(n.PROPERTY_DOCUMENT_DATA,le.TheoDocumentData.init_d41d()),this.set(n.PROPERTY_VERSION,n.CURRENT_VERSION),this.set(n.PROPERTY_MODIFIED_SINCE_SHARE,this.modifiedSinceShare_),this.set(n.PROPERTY_SHARED,!1),this.documentName=n.DEFAULT_NAME,this.controller_.attach(this),this.rawVersion!=n.CURRENT_VERSION&&this.set(n.PROPERTY_VERSION,n.CURRENT_VERSION),this.finishInitDocument(t)},finishInitDocument:function(e){var t=this;e.mergeWithPrevious(),this.controller_.undoRedoMgr.reset(),z.LegacyCoreAssert.isTrue(null==this.database.mutableState,"Database already has an outstanding transaction",void 0,"TheoDocument.finishInitDocument","TheoDocument.swift",537),z.LegacyCoreAssert.isTrue(null!=this.database.immutableState,"Database missing immutable state",void 0,"TheoDocument.finishInitDocument","TheoDocument.swift",538),z.LegacyCoreAssert.isTrue(p.opt(this.database.appliedState,(function(e){return e.guid==p.opt(t.database.immutableState,(function(e){return e.guid}))})),"Database applied state is not latest immutable state",void 0,"TheoDocument.finishInitDocument","TheoDocument.swift",539),this.lastFullSaveStateID_=p.opt(this.database.immutableState,(function(e){return e.guid})),this.lastMiniSaveStateID_=p.opt(this.database.immutableState,(function(e){return e.guid})),this.controller_.saveMgr.enable(this.lastFullSaveStateID_),this.maskSubstitutionController_.attach(this),this.docInited_=!0},initNewDocument:function(){this.docInited_=!1,z.LegacyCoreAssert.isTrue(null==this.initNewDocumentTransaction,"Already have an init transaction",void 0,"TheoDocument.initNewDocument","TheoDocument.swift",554),z.LegacyCoreAssert.isTrue(null==this.database.mutableState,"Database already has an outstanding transaction",void 0,"TheoDocument.initNewDocument","TheoDocument.swift",555),this.initNewDocumentTransaction=this.beginTransaction(n.INIT_DOC_TRANSACTION_NAME)},finishInitNewDocument:function(){z.LegacyCoreAssert.isTrue(null!=this.initNewDocumentTransaction,"New document init transaction not open",void 0,"TheoDocument.finishInitNewDocument","TheoDocument.swift",560),this.finishInitDocument(this.initNewDocumentTransaction)},documentInited:{get:function(){return this.docInited_}},disableAutosave:function(){this.controller_.saveMgr.disable()},description:{get:function(){return"Doc Name: "+this.documentName+", uuid: "+this.uuid+", versionDecoded: "+this.versionDecoded.description}},documentName:{get:function(){return this.get(n.PROPERTY_NAME)},set:function(e){this.set(n.PROPERTY_NAME,e)}},pendingAuthoringContextID:{get:function(){return this.pendingAuthoringContextID_},set:function(e){var t=this.pendingAuthoringContextID_;this.pendingAuthoringContextID_=e,null!=t&&null==e?(V.Host.logging.logForCategory(J.LogCategories.kTheoDocument,"Finishing the pending brand change for a document to:"+t,U.LogLevelEnum.INFO_LEVEL),z.LegacyCoreAssert.isTrue(this.authoringContextID==t,"pendingAuthoringContextID cleared before change was committed",void 0,"TheoDocument","TheoDocument.swift",614)):null==t&&null!=e?V.Host.logging.logForCategory(J.LogCategories.kTheoDocument,"Applying a pending brand change for a document from:"+this.authoringContextID+" to:"+e,U.LogLevelEnum.INFO_LEVEL):null!=t&&null!=e&&z.LegacyCoreAssert.fail("overlapping calls to set the pendingAuthoringContextID",{was:t,new:e},"TheoDocument","TheoDocument.swift",618),null==this.pendingAuthoringContextID_||p.isEmpty(this.pendingAuthoringContextID_)||V.Host.brandkitManager.activateBrand(this.pendingAuthoringContextID_)}},setAuthoringContext:function(e){var t,o,r;this.authoringContextID=(t=p.opt(e,(function(e){return e.id})))||null!=t?t:"",this.authoringContextName=(o=p.opt(e,(function(e){return e.name})))||null!=o?o:"",this.authoringContextURN=(r=p.opt(e,(function(e){return e.urn})))||null!=r?r:""},authoringContextID:{get:function(){var e,t,o;return null!=(o=this.pendingAuthoringContextID)?(V.Host.logging.logForCategory(J.LogCategories.kTheoDocument,"authoringContextID returning pendingAuthoringContextID: "+((e=this.pendingAuthoringContextID)||null!=e?e:"none"),U.LogLevelEnum.INFO_LEVEL),o):(t=p.as(this.get(n.PROPERTY_AUTHORING_CONTEXT_ID),"String"))||null!=t?t:""},set:function(e){z.LegacyCoreAssert.isTrue(null==this.pendingAuthoringContextID_,"Found unexpected pending value",{newValue:e},"TheoDocument","TheoDocument.swift",648),this.set(n.PROPERTY_AUTHORING_CONTEXT_ID,e),this.set(n.PROPERTY_USES_BRANDED_ELEMENTS,e.length>0)}},authoringContextName:{get:function(){var e;return(e=p.as(this.get(n.PROPERTY_AUTHORING_CONTEXT_NAME),"String"))||null!=e?e:""},set:function(e){this.set(n.PROPERTY_AUTHORING_CONTEXT_NAME,e)}},authoringContextURN:{get:function(){var e;return(e=p.as(this.get(n.PROPERTY_AUTHORING_CONTEXT_URN),"String"))||null!=e?e:""},set:function(e){this.set(n.PROPERTY_AUTHORING_CONTEXT_URN,e)}},authoringContextThemeID:{get:function(){var e;return(e=p.as(this.get(n.PROPERTY_AUTHORING_CONTEXT_THEME_ID),"String"))||null!=e?e:""},set:function(e){this.set(n.PROPERTY_AUTHORING_CONTEXT_THEME_ID,e)}},uuid:{get:function(){var e;return(e=this.forkID_)||null!=e?e:this.id}},forkDocument:function(e){this.forkID_=e},rawVersion:{get:function(){var e;return(e=p.as(this.get(n.PROPERTY_VERSION),"Int"))||null!=e?e:0}},versionDecoded:{get:function(){return new d.VersionInfo(this.rawVersion)}},communityPlatformAssetID:{get:function(){return p.as(this.get(n.PROPERTY_CP_ASSET_ID),"String")},set:function(e){this.set(n.PROPERTY_CP_ASSET_ID,e)}},communityPlatformAlias:{get:function(){return p.as(this.get(n.PROPERTY_CP_ALIAS),"String")},set:function(e){this.set(n.PROPERTY_CP_ALIAS,e)}},publishedEtag:{get:function(){return p.as(this.get(n.PROPERTY_CP_PUBLISHED_ETAG),"String")},set:function(e){this.set(n.PROPERTY_CP_PUBLISHED_ETAG,e)}},publishedResourcePath:{get:function(){return p.as(this.get(n.PROPERTY_CP_PROJECT_ID),"String")},set:function(e){this.set(n.PROPERTY_CP_PROJECT_ID,e)}},documentData:{get:function(){return p.as(this.get(n.PROPERTY_DOCUMENT_DATA),le.TheoDocumentData)}},shared:{get:function(){return this.get(n.PROPERTY_SHARED)},set:function(e){var t=this.persisted?this.database.beginTransaction("share",null):null;this.set(n.PROPERTY_SHARED,e),this.set(n.PROPERTY_MODIFIED_SINCE_SHARE,!1),p.opt(t,(function(e){return e.mergeWithPrevious()}))}},isExported:{get:function(){var e;return!(!(e=p.as(this.get(n.PROPERTY_CP_IS_EXPORTED),"Bool"))&&null==e)&&e},set:function(e){var t=this.persisted?this.database.beginTransaction("export",null):null;this.set(n.PROPERTY_CP_IS_EXPORTED,e),p.opt(t,(function(e){return e.mergeWithPrevious()}))}},recordModification:function(){this.modifiedSinceShare_=!0},modifiedSinceShare:{get:function(){return this.modifiedSinceShare_}},modifiedSinceSave:{get:function(){return this.documentInited&&(this.lastFullSaveStateID_!=p.opt(this.appliedState,(function(e){return e.guid}))||this.lastMiniSaveStateID_!=p.opt(this.appliedState,(function(e){return e.guid})))}},allowPrune:{get:function(){return this.allowPrune_},set:function(e){this.allowPrune_=e}},willCloseDocument:function(){this.disableAutosave()},firstPage:{get:function(){return null==this.firstPage_&&this.cacheChildren(),this.firstPage_}},content:{get:function(){return null==this.content_&&this.cacheChildren(),this.content_}},colorTheme:{get:function(){return null==this.colorTheme_&&this.cacheChildren(),this.colorTheme_}},history:{get:function(){return null==this.history_&&this.cacheChildren(),this.history_}},watermarkEnabled:{get:function(){var e;return!(e=p.as(this.get(n.PROPERTY_WATERMARK_ENABLED),"Bool"))&&null==e||e},set:function(e){this.set(n.PROPERTY_WATERMARK_ENABLED,e)}},constrainedImages:{get:function(){var e;return(e=p.as(this.get(n.PROPERTY_CONSTRAINED_IMAGES),["Dictionary","String",["Dictionary","String",["Array","String"]]]))?e:{stockImages:{unlicensed:[],standard:[],extended:[]}}}},setConstrainedImages:function(e){this.set(n.PROPERTY_CONSTRAINED_IMAGES,e)},controller:{get:function(){return this.controller_}},gridLibrary:{get:function(){return this.gridLibrary_}},maskSubstitutionController:{get:function(){return this.maskSubstitutionController_}},recordMissingFont:function(e){this.missingFontsDuringOpen_.includes(e)||this.missingFontsDuringOpen_.push(e)},hadMissingFontsWhenOpened:{get:function(){return this.missingFontsDuringOpen_.length>0}},missingFontList:{get:function(){return this.missingFontsDuringOpen_}},getSynthesizedTitle:function(){return de.TheoDocumentUtils.synthesizeTitle(this)},getSynthesizedDescription:function(){return de.TheoDocumentUtils.synthesizeDescription(this)},setRemixParentCpId:function(e){var t=p.clone(p.as(this.get(n.PROPERTY_REMIX_ANCESTORS_CP_ASSET_IDS),["Array","String"]));null==t&&(t=[]),t.push(e),this.set(n.PROPERTY_REMIX_ANCESTORS_CP_ASSET_IDS,t)},getRemixAncestorsCpMachineTags:function(){var e=[],t=p.clone(p.as(this.get(n.PROPERTY_REMIX_ANCESTORS_CP_ASSET_IDS),["Array","String"]));if(null!=t&&t.length>0){e.push("_REMIX_"),e.push("_REMIX_PROGENITOR_"+t[0]);for(var o=t.length-1,r=p.iter(t);!r.done;r.next()){var i=r.value;e.push("_REMIX_FROM_"+i),e.push("_REMIX_FROM_"+i+"_"+o),o-=1}}return e},className:{get:function(){return n.SCHEMA_CLASS_NAME}},beginTransaction:function(e){return this.hostDB_.beginTransaction(e,this.hostDB_.mutableState)},beginUserAction:function(e){return new d.TheoDocumentUserAction(this,new Te.UserAction(e,Te.CollapseBehavior.NEVER,!0,null))},subscribeWithCallback:function(e,t){return this.publishing_.subscribeWithCallback(e,t)},subscribe:function(e,t){return this.publishing_.subscribe(e,t)},unsubscribe:function(e){return this.publishing_.unsubscribe(e)},onBeginTransaction:function(e,t){this.publishing_.publish(new se.TransactionBegunMessage(t,this))},onEndTransaction:function(e,t){this.publishing_.publish(new se.TransactionEndedMessage(t,this))},onStateChanged:function(e,t){},onObjectStateChanged:function(e,t){},didChangeState:function(e){R.DBHostObject.prototype.didChangeState.call(this,e),null!=e[n.PROPERTY_AUTHORING_CONTEXT_ID]&&(V.Host.logging.logForCategory(J.LogCategories.kTheoDocument,"DocumentDidChangeState: brandID to "+this.authoringContextID,U.LogLevelEnum.INFO_LEVEL),this.pendingAuthoringContextID=null)},willCommitState:function(){var e;if(this.initialized&&(!(!(e=p.as(this.get(n.PROPERTY_MODIFIED_SINCE_SHARE),"Bool"))&&null==e)&&e)!=this.modifiedSinceShare_){var t=this.database.beginTransaction("recordModification",null);this.set(n.PROPERTY_MODIFIED_SINCE_SHARE,this.modifiedSinceShare_),t.end()}R.DBHostObject.prototype.willCommitState.call(this)},willApplyDatabaseState:function(e){var t,o,r,i=this;if(z.LegacyCoreAssert.isTrue(null==this.atomicChangeEvent_,"found atomic change event in willApplyDatabaseState",void 0,"TheoDocument.willApplyDatabaseState","TheoDocument.swift",951),z.LegacyCoreAssert.isTrue(null==this.pendingAuthoringContextID_,"found pending auth context in willApplyDatabaseState",void 0,"TheoDocument.willApplyDatabaseState","TheoDocument.swift",952),this.atomicChangeEvent_=new M.FormaNullChangedEvent(this.firstPage.root),this.firstPage.beginUpdate(this.atomicChangeEvent_),this.firstPage.root.visitAll(S.FormaTraversal.PreOrder,(function(e){var t;(t=e.controller)&&(t.beginBlockedUpdate(),i.blockedControllers_.push(t))})),(o=e.getObjectStateByID(this.id))&&(V.Host.logging.logForCategory(J.LogCategories.kTheoDocument,"willApplyDatabaseState: document brand is:"+this.authoringContextID,U.LogLevelEnum.INFO_LEVEL),null!=(r=p.opt(o.getProperty(n.PROPERTY_AUTHORING_CONTEXT_ID),(function(e){return e.stringValue}))))){var s=(t=p.opt(this.state.getProperty(n.PROPERTY_AUTHORING_CONTEXT_ID),(function(e){return e.stringValue})))||null!=t?t:"";r!=s&&(V.Host.logging.logForCategory(J.LogCategories.kTheoDocument,"willApplyDatabaseState: detected pending brand change for a document from:"+s+" to:"+r,U.LogLevelEnum.INFO_LEVEL),this.pendingAuthoringContextID=r)}},didApplyDatabaseState:function(e){this.firstPage.root.setParent(null,!0),z.LegacyCoreAssert.isTrue(null==this.pendingAuthoringContextID_,"found pending auth context in didApplyDatabaseState",void 0,"TheoDocument.didApplyDatabaseState","TheoDocument.swift",977),this.blockedControllers_.forEach((function(e){return e.endBlockedUpdate()})),this.blockedControllers_.splice(0),this.recordModification(),z.LegacyCoreAssert.isTrue(null!=this.atomicChangeEvent_,"missing atomic change event in didApplyDatabaseState",void 0,"TheoDocument.didApplyDatabaseState","TheoDocument.swift",981),null!=this.atomicChangeEvent_&&(this.firstPage.endUpdate(this.atomicChangeEvent_),this.atomicChangeEvent_=null)},inUndoRedo:{get:function(){return null!=this.atomicChangeEvent_}},appliedState:{get:function(){return this.database.appliedState||this.database.immutableState}},isFullSave:function(e){return!0},encodeDocument:function(e,t){if(void 0===t&&(t=null),this.isFullSave(t)){var o=this.beginTransaction("post_history_entry");this.history.postEntry("save"),o.mergeWithPrevious()}var r=A.DocumentPersistenceFactory.encoderFor(e.current);this.retrieveEncodedDocument(t,r)||this.encodeStateByID(t,r),r.finish()},retrieveEncodedDocument:function(e,t){var o,r,n=this;if(p.opt(V.Host.logging,(function(t){return t.info("retrieveEncodedDocument for "+n.uuid+" at "+p.toString(e))})),o=this.controller_.saveMgr.branchForState(e))if(r=o.getComponentWithAbsolutePath(X.JSON_CONTENT_PATH_DCX2D)){var i;if(i=p.as(t,X.JSONDocumentEncoder))return o.transferEncodingTo(t),i.jsonFile=o.getPathForComponent(r),V.Host.logging.logForCategory(J.LogCategories.kTheoDocument,"retrieveEncodedDocument: success",U.LogLevelEnum.INFO_LEVEL),this.lastMiniSaveStateID_=e,this.lastMiniSaveStateID_!=this.lastFullSaveStateID_&&(i.isMiniSave=!0),!0;V.Host.logging.logForCategory(J.LogCategories.kTheoDocument,"retrieveEncodedDocument: encoder is not a JSONDocumentEncoder",U.LogLevelEnum.WARN_LEVEL)}else V.Host.logging.logForCategory(J.LogCategories.kTheoDocument,"retrieveEncodedDocument could not find json dom component in cached branch",U.LogLevelEnum.WARN_LEVEL);else null!=e&&V.Host.logging.logForCategory(J.LogCategories.kTheoDocument,"retrieveEncodedDocument could not find branch for stateID",U.LogLevelEnum.WARN_LEVEL);return!1},encode:function(e){null!=this.hostDB_.mutableState&&z.LegacyCoreAssert.fail("Saving a document with mutable state",{transactions:this.hostDB_.transactionStackDescription},"TheoDocument.encode","TheoDocument.swift",1047),this.encodeStateToDataObject(this.database.immutableState,e)},encodeStateByID:function(e,t){var o=null!=e?this.database.getState(e):this.database.immutableState;z.LegacyCoreAssert.isTrue(null!=o,"State not found",{stateID:p.toString(e)},"TheoDocument.encodeStateByID","TheoDocument.swift",1055),z.LegacyCoreAssert.isFalse(o instanceof f.DBMutableState,"Encoding a mutable state",{stateID:p.toString(e)},"TheoDocument.encodeStateByID","TheoDocument.swift",1056),V.Host.logging.logForCategory(J.LogCategories.kTheoDocument,"TheoDocument.encodeStateByID: save "+this.uuid+" at "+o.guid,U.LogLevelEnum.INFO_LEVEL),this.isFullSave(e)&&(this.lastFullSaveStateID_=p.opt(o,(function(e){return e.guid})),this.lastMiniSaveStateID_=p.opt(o,(function(e){return e.guid}))),null!=o&&this.encodeStateToDataObject(o,t)},encodeToJSON:function(){var e=new he.TheoJSONEncoder;return this.encodeStateToDataObject(this.appliedState,e),e.json()},encodeStateToDataObject:function(e,t){var o=p.clone(de.TheoDocumentUtils.getFontSourceUsage(this));t.setCompositeID(this.uuid),t.setType(n.MIME_TYPE),t.setDocumentSize(this.firstPage.pageSize,k.DocumentUnitsEnum.PIXEL),t.setProperty(n.PROPERTY_FONT_SOURCES,p.as(o,"AnyObject")),e.encode(t,n.CURRENT_VERSION)},saveChildren:function(){if(null!=this.firstPage_&&null!=this.content_&&null!=this.colorTheme_&&null!=this.history_){var e=[this.firstPage_,this.content_,this.colorTheme_,this.history_];this.set(n.PROPERTY_CHILDREN,e)}},cacheChildren:function(){var e,t,o,r,i;if(i=p.as(this.get(n.PROPERTY_CHILDREN),["Array",R.DBObject]))for(var s=p.iter(i);!s.done;s.next()){var a=s.value;this.firstPage_=(e=p.as(a,v.FormaPage))||null!=e?e:this.firstPage_,this.content_=(t=p.as(a,E.ContentDocument))||null!=t?t:this.content_,this.colorTheme_=(o=p.as(a,y.ColorThemeDocument))||null!=o?o:this.colorTheme_,this.history_=(r=p.as(a,m.DocumentHistory))||null!=r?r:this.history_}var c=null==this.firstPage_||null==this.content_||null==this.colorTheme_||null==this.history_;null==this.firstPage_&&(this.firstPage_=v.FormaPage.init_d0e4(this)),null==this.content_&&(this.content_=E.ContentDocument.init_26a9(this,null)),null==this.colorTheme_&&(this.colorTheme_=y.ColorThemeDocument.init_d0e4(this)),null==this.history_&&(this.history_=m.DocumentHistory.init_d0e4(this)),c&&this.saveChildren()},requestSaveDocumentAt:function(e){var t,o;return(t=V.Host.asyncPersist)&&null!=(o=e)?t.saveStateAsync(o):(this.publishing_.publish(new d.TheoDocumentRequestsSaveMessage(this,e)),C.CorePromise.resolve(null))}}}),n),d.DummyExport=(s=function(e){var t;void 0===e&&(e=null),this.prefix=(t=e)||null!=t?t:""},p.defineClass({name:"DummyExport",ctor:s,statics:{_implements:function(e){return"IExportDataObject"==e}},props:{setPath:function(e){p.info(this.prefix+"setPath path: "+e)},setName:function(e){p.info(this.prefix+"setName name: "+e)},setType:function(e){p.info(this.prefix+"setType type: "+e)},setProperty:function(e,t){p.info(this.prefix+"setProperty","name:",e,"value:",t||"nil")},setOptionalStringProperty:function(e,t){var o;p.info(this.prefix+"setOptionalStringProperty","name:",e,"value:",(o=t)||null!=o?o:"nil")},setStringProperty:function(e,t){p.info(this.prefix+"setStringProperty","name:",e,"value:",t)},setNumberProperty:function(e,t){p.info(this.prefix+"setNumberProperty","name:",e,"value:",t)},setIntProperty:function(e,t){p.info(this.prefix+"setIntProperty","name:",e,"value:",t)},setBooleanProperty:function(e,t){p.info(this.prefix+"setBooleanProperty","name:",e,"value:",t)},setOptionalBooleanProperty:function(e,t){var o;p.info(this.prefix+"setOptionalBooleanProperty","name:",e,"value:",(o=t)||null!=o?o:"nil")},findChild:function(e){return null},appendChild:function(e){return p.info(this.prefix+"appendChild id: "+e),new s("child "+e+" ")},appendComponent:function(e,t,o){p.info(this.prefix+"appendComponent","id:",e,"url:",t,"mimeType:",o)},setCompositeID:function(e){p.info(this.prefix+"setCompositeID","uuid:",e)},setManifestProperty:function(e,t,o){p.info(this.prefix+"setManifestProperty","name:",e,"value:",t||"nil","prependNamespace:",o)},setDocumentSize:function(e,t){p.info(this.prefix+"setDocumentSize","size:",e,"units:",t)}}}),s),d.VersionInfo=function(){var e=function(e){var t;this.vers=(t=d.TheoDocumentVersion.toCaseValue(e))||null!=t?t:d.TheoDocumentVersion.Invalid,this.minor=e%1e3,this.major=e-this.minor},t={};return p.defineClass({name:"VersionInfo",ctor:e,superName:"CoreObject",statics:{UNKNOWN:{get:function(){return void 0===t.UNKNOWN&&(t.UNKNOWN=new e(0)),t.UNKNOWN}},fromProperty:function(t){var o;return null!=(o=p.as(t,"Int"))?new e(o):e.UNKNOWN}},props:{description:{get:function(){return"Version Major: "+p.toString(this.major)+", minor: "+p.toString(this.minor)}},rawValue:{get:function(){return this.major+this.minor}}}}),e}(),d.TheoDocumentMessage=(a=function(e,t){Pe.TheoMessage.call(this,e,t)},p.defineClass({name:"TheoDocumentMessage",ctor:a,superName:"TheoMessage",props:{document:{get:function(){return p.as(this.publisher,d.TheoDocument)}}}}),a),d.TheoDocumentWillDecodeMessage=(c=function e(t){d.TheoDocumentMessage.call(this,e.TYPE,t)},p.defineClass({name:"TheoDocumentWillDecodeMessage",ctor:c,superName:"TheoDocumentMessage",statics:{TYPE:"TheoDocumentWillDecodeMessage"}}),c),d.TheoDocumentDidDecodeMessage=(u=function e(t){d.TheoDocumentMessage.call(this,e.TYPE,t)},p.defineClass({name:"TheoDocumentDidDecodeMessage",ctor:u,superName:"TheoDocumentMessage",statics:{TYPE:"TheoDocumentDidDecodeMessage"}}),u),d.TheoDocumentRequestsSaveMessage=(l=function e(t,o){this.stateID=o,d.TheoDocumentMessage.call(this,e.TYPE,t)},p.defineClass({name:"TheoDocumentRequestsSaveMessage",ctor:l,superName:"TheoDocumentMessage",statics:{TYPE:"TheoDocumentRequestsSaveMessage"}}),l)},Qb69:function(e,t,o){var r,n,i=t,s=o("oAGj"),a=o("fVJ2"),c=o("dJuF");i.TheoDocumentData=(r=function(){},n={},s.defineClass({name:"TheoDocumentData",ctor:r,superName:"DBObject",statics:{SCHEMA_CLASS_NAME:"TheoDocumentData",codec:{get:function(){return void 0===n.codec&&(n.codec=c.DBPropertyCodec.registerCodec(r.SCHEMA_CLASS_NAME,c.DBPropertyCodec.directObjectCodec(r.SCHEMA_CLASS_NAME))),n.codec}},factory:{get:function(){return function(e,t,o,n){return r.init_866e(o,e)}}},PROPERTY_SHARE_DATA:"shareData",PROPERTY_SCOPE:"scope",_implements:function(e){return"IDBObject"==e}},props:{init_866e:function(e,t){s.super_init(this,a.DBObject,a.DBObject.prototype.init_866e,e,t)},init_d41d:function(){s.super_init(this,a.DBObject,a.DBObject.prototype.init_dd5d,{},{})},className:{get:function(){return r.SCHEMA_CLASS_NAME}},hasBeenPublished:{get:function(){return null!=this.shareData}},listed:{get:function(){return"public"==this.scope},set:function(e){var t=null;this.persisted&&(t=this.database.beginTransaction("scope",null)),this.scope=e?"public":"private",s.opt(t,(function(e){return e.mergeWithPrevious()}))}},shareData:{get:function(){return s.as(this.get(r.PROPERTY_SHARE_DATA),["Dictionary","String","String"])}},scope:{get:function(){var e;return(e=s.opt(this.shareData,(function(e){return e[r.PROPERTY_SCOPE]})))||null!=e?e:""},set:function(e){var t={};null!=this.shareData&&(t=s.clone(this.shareData)),t[r.PROPERTY_SCOPE]=e,this.set(r.PROPERTY_SHARE_DATA,t)}}}}),r)},Quhx:function(e,t,o){var r,n,i=t,s=o("oAGj"),a=o("fVJ2"),c=o("MO6F");i.PostPublishingObject=(r=function(){this.publishing_=new c.TheoBasePublishing},s.defineClass({name:"PostPublishingObject",ctor:r,superName:"DBObject",statics:{_implements:function(e){return"IDBObject"==e||"TheoMessagePublisher"==e}},props:{init_3f7c:function(e){s.super_init(this,a.DBObject,a.DBObject.prototype.init_3f7c,e),this.publishing_.owner=this},init_866e:function(e,t){s.super_init(this,a.DBObject,a.DBObject.prototype.init_866e,e,t),this.publishing_.owner=this},init_dd5d:function(e,t){s.super_init(this,a.DBObject,a.DBObject.prototype.init_dd5d,e,t),this.publishing_.owner=this},init_11e0:function(e){s.super_init(this,a.DBObject,a.DBObject.prototype.init_11e0,e),this.publishing_.owner=this},init_3181:function(e,t,o){s.super_init(this,a.DBObject,a.DBObject.prototype.init_3181,e,t,o),this.publishing_.owner=this},init_5079:function(e,t,o,r){s.super_init(this,a.DBObject,a.DBObject.prototype.init_5079,e,t,o,r),this.publishing_.owner=this},init_9a09:function(e){s.super_init(this,a.DBObject,a.DBObject.prototype.init_67b3,e),this.publishing_.owner=this},subscribeWithCallback:function(e,t){return this.publishing_.subscribeWithCallback(e,t)},subscribe:function(e,t){return this.publishing_.subscribe(e,t)},unsubscribe:function(e){return this.publishing_.unsubscribe(e)},publish:function(e){this.publishing_.publish(e)}}}),r),i.PostDCXObject=(n=function(){},s.defineClass({name:"PostDCXObject",ctor:n,superName:"PostPublishingObject",statics:{PROPERTY_TYPE:"type",PROPERTY_PATH:"path",_implements:function(e){return"IDBObject"==e||"TheoMessagePublisher"==e}},props:{uuid:{get:function(){return this.id}},type:{get:function(){return s.as(this.get(n.PROPERTY_TYPE),"String")}},path:{get:function(){return s.as(this.get(n.PROPERTY_PATH),"String")}},init_3f7c:function(e){s.super_init(this,i.PostPublishingObject,i.PostPublishingObject.prototype.init_3f7c,e)},init_866e:function(e,t){s.super_init(this,i.PostPublishingObject,i.PostPublishingObject.prototype.init_866e,e,t)},init_dd5d:function(e,t){s.super_init(this,i.PostPublishingObject,i.PostPublishingObject.prototype.init_dd5d,e,t)},init_11e0:function(e){s.super_init(this,i.PostPublishingObject,i.PostPublishingObject.prototype.init_11e0,e)},init_3181:function(e,t,o){s.super_init(this,i.PostPublishingObject,i.PostPublishingObject.prototype.init_3181,e,t,o)},init_5079:function(e,t,o,r){s.super_init(this,i.PostPublishingObject,i.PostPublishingObject.prototype.init_5079,e,t,o,r)},init_9a09:function(e){s.super_init(this,i.PostPublishingObject,i.PostPublishingObject.prototype.init_9a09,e)}}}),n)},URxh:function(e,t,o){var r,n,i,s=t,a=o("oAGj"),c=o("VQVe"),u=o("dJuF"),l=o("ZhwN"),d=o("tGKA"),p=o("Quhx"),h=o("x4Gy"),P=o("RkYL"),_=o("xm77");s.KeyFrame=(r=function(e,t,o,r,n,i){this.renderRuns=new h.RenderRuns,void 0===o&&(o=null),void 0===r&&(r=null),void 0===n&&(n=null),void 0===i&&(i=!1),this.time_=e,this.timingFunction_=t,this.placement_=o||d.Matrix2D.Identity,this.bounds_=r,this.style_=a.opt(n,(function(e){return e.clone()})),this.relativePlacement_=i},a.defineClass({name:"KeyFrame",ctor:r,superName:"CoreObject",statics:{makeFromTimeAndStyle:function(e,t){return new r(e,_.TimingFunctionType.Linear,d.Matrix2D.Identity,null,t)}},props:{time:{get:function(){return this.time_}},timingFunction:{get:function(){return this.timingFunction_}},placement:{get:function(){return this.placement_}},style:{get:function(){return this.style_}},bounds:{get:function(){return this.bounds_}},relativePlacement:{get:function(){return this.relativePlacement_}},stillKeyframe:{get:function(){return null==this.style&&this.placement.equal(d.Matrix2D.Identity)&&null==this.bounds}}}}),r),s.FormaAnimation=(n=function(){this.valid_=!0},i={},a.defineClass({name:"FormaAnimation",ctor:n,superName:"PostDCXObject",statics:{KIND:{get:function(){return"FormaAnimation"}},SCHEMA_CLASS_NAME:"FormaAnimation",codec:{get:function(){return void 0===i.codec&&(i.codec=u.DBPropertyCodec.registerCodec(n.SCHEMA_CLASS_NAME,u.DBPropertyCodec.directObjectCodec(n.SCHEMA_CLASS_NAME))),i.codec}},factory:{get:function(){return function(e,t,o,r){return n.init_866e(o,e)}}},PROPERTY_KIND:"kind",PROPERTY_START_TIME:"start-time",PROPERTY_END_TIME:"end-time",PROPERTY_KEY_FRAMES:"key-frames",PROPERTY_ANIMATION_STYLE:"animation-style",createDefault:function(){return n.init_9e82(c.AnimationStyle.init_b946(),P.TheoTime.Zero,P.TheoTime.Zero,[])},_implements:function(e){return"IDBObject"==e||"TheoMessagePublisher"==e}},props:{init_9e82:function(e,t,o,r){this.persistedKeyFrames_=a.clone(r),a.super_init(this,p.PostDCXObject,p.PostDCXObject.prototype.init_dd5d,{},{"start-time":t,"end-time":o,"animation-style":e.clone(),"key-frames":r,kind:n.KIND})},init_866e:function(e,t){a.super_init(this,p.PostDCXObject,p.PostDCXObject.prototype.init_866e,e,t)},init_dd5d:function(e,t){a.super_init(this,p.PostDCXObject,p.PostDCXObject.prototype.init_dd5d,e,t)},didChangeState:function(e){p.PostDCXObject.prototype.didChangeState.call(this,e),null!=e[n.PROPERTY_KEY_FRAMES]&&(this.persistedKeyFrames_=null),this.invalidate()},willCommitState:function(){p.PostDCXObject.prototype.willCommitState.call(this),null!=this.pendingKeyFrames_&&(this.set(n.PROPERTY_KEY_FRAMES,this.pendingKeyFrames_),this.persistedKeyFrames_=a.clone(this.pendingKeyFrames_),this.pendingKeyFrames_=null)},className:{get:function(){return n.SCHEMA_CLASS_NAME}},startTime:{get:function(){var e;return(e=a.as(this.get(n.PROPERTY_START_TIME),P.TheoTime))||null!=e?e:P.TheoTime.Zero},set:function(e){this.set(n.PROPERTY_START_TIME,e)}},endTime:{get:function(){var e;return(e=a.as(this.get(n.PROPERTY_END_TIME),P.TheoTime))||null!=e?e:P.TheoTime.Zero},set:function(e){this.set(n.PROPERTY_END_TIME,e)}},persistedKeyFrames:{get:function(){var e;return null==this.persistedKeyFrames_&&(this.persistedKeyFrames_=a.clone((e=a.as(this.get(n.PROPERTY_KEY_FRAMES),["Array",s.KeyFrame]))||null!=e?e:[])),this.persistedKeyFrames_}},keyFrames:{get:function(){return this.pendingKeyFrames_||this.persistedKeyFrames},set:function(e){this.pendingKeyFrames_=a.clone(e)}},animationStyle:{get:function(){return this.get(n.PROPERTY_ANIMATION_STYLE)}},clone:function(){return this.fork(l.GUIDUtils.makeGUID())},invalidate:function(){this.valid_=!1},valid:{get:function(){return this.valid_}}}}),n)},VQVe:function(e,t,o){var r,n,i=t,s=o("oAGj"),a=o("dJuF"),c=o("ZhwN"),u=o("Quhx"),l=o("RkYL");i.AnimationStyleCategory=s.defineEnum("AnimationStyleCategory",{None:"none",Text:"text",Image:"image"}),i.AnimationStyle=(r=function(){this.hasDeprecatedProperties=!1},n={},s.defineClass({name:"AnimationStyle",ctor:r,superName:"PostDCXObject",statics:{SCHEMA_CLASS_NAME:"AnimationStyle",codec:{get:function(){return void 0===n.codec&&(n.codec=a.DBPropertyCodec.registerCodec(r.SCHEMA_CLASS_NAME,a.DBPropertyCodec.directObjectCodec(r.SCHEMA_CLASS_NAME))),n.codec}},factory:{get:function(){return function(e,t,o,n){return r.init_866e(o,e)}}},DEFAULT_TIMESCALE:{get:function(){return 30}},DEFAULT_START:{get:function(){return new l.TheoTime(0,r.DEFAULT_TIMESCALE)}},NOOP_DURATION:{get:function(){return new l.TheoTime(0,r.DEFAULT_TIMESCALE)}},DEFAULT_DURATION:{get:function(){return new l.TheoTime(75,r.DEFAULT_TIMESCALE)}},STILL_DURATION:{get:function(){return new l.TheoTime(60,r.DEFAULT_TIMESCALE)}},END_GIF_DURATION:{get:function(){return new l.TheoTime(150,r.DEFAULT_TIMESCALE)}},GIF_DURATION:{get:function(){return new l.TheoTime(150,r.DEFAULT_TIMESCALE)}},FADE_DURATION:{get:function(){return new l.TheoTime(30,r.DEFAULT_TIMESCALE)}},COLOR_SWAP_DURATION:{get:function(){return new l.TheoTime(180,r.DEFAULT_TIMESCALE)}},PROPERTY_NAME:"name",PROPERTY_VARIANT:"variant",PROPERTY_VARIANT_COUNT:"variant-count",PROPERTY_START_TIME:"start-time",PROPERTY_END_TIME:"end-time",PROPERTY_LOOPING:"looping",PROPERTY_CATEGORY:"category",DEPRECATED_PROPERTY_TEXT_STYLE:"text-style",DEPRECATED_PROPERTY_IMAGE_STYLE:"image-style",NAME_NO_STYLE:"None",NAME_TYPE:"Type",LETTER_APPEAR_VARIANT:10,LETTER_RANDOM_FADE_VARIANT:11,LETTER_APPEAR_FADE_VARIANT:12,NAME_FLICKER:"Flicker",NAME_GROW:"Grow",NAME_FADE:"Fade",NAME_DYNAMIC:"Dynamic",WORD_ZOOM_IN_VARIANT:0,WORD_CENTERED_VARIANT:1,WORD_APPEAR_VARIANT:2,NAME_COLORSWAP:"ColorSwap",NAME_SLIDE:"Slide",NAME_ZOOM:"Zoom",NAME_PAN:"Pan",NAME_GRAYSCALE:"Greyscale",NAME_BLUR:"Blur",NAME_COLOR:"Color",NAME_FILL:"Fill",noStyleAsString:function(){return r.NAME_NO_STYLE+"_0"},_implements:function(e){return"IDBObject"==e||"TheoMessagePublisher"==e}},props:{init_866e:function(e,t){s.super_init(this,u.PostDCXObject,u.PostDCXObject.prototype.init_866e,e,t),this.hasDeprecatedProperties=null!=this.initialState.getProperty(r.DEPRECATED_PROPERTY_IMAGE_STYLE)||null!=this.initialState.getProperty(r.DEPRECATED_PROPERTY_TEXT_STYLE)},init_dd5d:function(e,t){s.super_init(this,u.PostDCXObject,u.PostDCXObject.prototype.init_dd5d,e,t)},init_b946:function(e,t){void 0===e&&(e=r.NAME_NO_STYLE),void 0===t&&(t=i.AnimationStyleCategory.None),s.super_init(this,u.PostDCXObject,u.PostDCXObject.prototype.init_dd5d,{},{name:e,variant:0,"variant-count":1,"start-time":new l.TheoTime(0,r.DEFAULT_DURATION.timescale),"end-time":r.DEFAULT_DURATION,looping:!1,category:t})},init_e14f:function(e,t,o,n,a){void 0===n&&(n=i.AnimationStyleCategory.None),void 0===a&&(a=!1),s.super_init(this,u.PostDCXObject,u.PostDCXObject.prototype.init_dd5d,{},{name:e,variant:t,"variant-count":o,"start-time":new l.TheoTime(0,r.DEFAULT_DURATION.timescale),"end-time":r.DEFAULT_DURATION,looping:a,category:n})},init_d915:function(e,t,o,r,n,a,c){void 0===a&&(a=i.AnimationStyleCategory.None),void 0===c&&(c=!1),s.super_init(this,u.PostDCXObject,u.PostDCXObject.prototype.init_dd5d,{},{name:e,variant:t,"variant-count":o,"start-time":r,"end-time":n,looping:c,category:a})},className:{get:function(){return r.SCHEMA_CLASS_NAME}},willCommitState:function(){var e,t;this.hasDeprecatedProperties&&this.persisted&&(null==s.as(this.get(r.PROPERTY_CATEGORY),"String")&&(((e=s.as(this.get(r.DEPRECATED_PROPERTY_TEXT_STYLE),"Bool"))||null!=e)&&e?this.set(r.PROPERTY_CATEGORY,i.AnimationStyleCategory.Text):((t=s.as(this.get(r.DEPRECATED_PROPERTY_IMAGE_STYLE),"Bool"))||null!=t)&&t?this.set(r.PROPERTY_CATEGORY,i.AnimationStyleCategory.Image):this.set(r.PROPERTY_CATEGORY,i.AnimationStyleCategory.None)),this.removeProperty(r.DEPRECATED_PROPERTY_TEXT_STYLE),this.removeProperty(r.DEPRECATED_PROPERTY_IMAGE_STYLE),this.hasDeprecatedProperties=!1),u.PostDCXObject.prototype.willCommitState.call(this)},name:{get:function(){var e;return(e=s.as(this.get(r.PROPERTY_NAME),"String"))||null!=e?e:"None"}},startTime:{get:function(){var e;return(e=s.as(this.get(r.PROPERTY_START_TIME),l.TheoTime))||null!=e?e:new l.TheoTime(0,r.DEFAULT_DURATION.timescale)},set:function(e){this.set(r.PROPERTY_START_TIME,e)}},endTime:{get:function(){var e;return(e=s.as(this.get(r.PROPERTY_END_TIME),l.TheoTime))||null!=e?e:r.DEFAULT_DURATION},set:function(e){this.set(r.PROPERTY_END_TIME,e)}},variant:{get:function(){var e;return(e=s.as(this.get(r.PROPERTY_VARIANT),"Int"))||null!=e?e:0},set:function(e){this.set(r.PROPERTY_VARIANT,e)}},variantCount:{get:function(){var e;return(e=s.as(this.get(r.PROPERTY_VARIANT_COUNT),"Int"))||null!=e?e:1},set:function(e){this.set(r.PROPERTY_VARIANT_COUNT,e)}},textStyle:{get:function(){return this.category==i.AnimationStyleCategory.Text}},imageStyle:{get:function(){return this.category==i.AnimationStyleCategory.Image}},category:{get:function(){var e,t,o,n;return null!=(n=s.as(this.get(r.PROPERTY_CATEGORY),"String"))?(e=i.AnimationStyleCategory.toCaseValue(n))||null!=e?e:i.AnimationStyleCategory.None:((t=s.as(this.get(r.DEPRECATED_PROPERTY_TEXT_STYLE),"Bool"))||null!=t)&&t?i.AnimationStyleCategory.Text:((o=s.as(this.get(r.DEPRECATED_PROPERTY_IMAGE_STYLE),"Bool"))||null!=o)&&o?i.AnimationStyleCategory.Image:i.AnimationStyleCategory.None}},looping:{get:function(){var e;return!(!(e=s.as(this.get(r.PROPERTY_LOOPING),"Bool"))&&null==e)&&e},set:function(e){this.set(r.PROPERTY_LOOPING,e)}},modifiesFormaTree:{get:function(){return this.name==r.NAME_FLICKER||this.name==r.NAME_TYPE||this.name==r.NAME_FADE}},isNewTextAnimation:{get:function(){return this.name==r.NAME_TYPE||this.name==r.NAME_DYNAMIC||this.name==r.NAME_FLICKER||this.name==r.NAME_COLORSWAP}},clone:function(){return this.fork(c.GUIDUtils.makeGUID())},equals:function(e){return e.name==this.name&&e.variant==this.variant},asString:{get:function(){return this.name+"_"+this.variant}},isNoStyle:function(){return this.name==r.NAME_NO_STYLE}}}),r)},i1Gv:function(e,t,o){var r,n,i=t,s=o("oAGj"),a=o("URxh"),c=o("iCxV");i.FormaAnimationFactory=(r=function(){this.lookup_={},this.lookup_[a.FormaAnimation.KIND]=function(){return a.FormaAnimation.createDefault()}},n={},s.defineClass({name:"FormaAnimationFactory",ctor:r,superName:"CoreObject",statics:{instance:{get:function(){return void 0===n.instance&&(n.instance=new r),n.instance}}},props:{create:function(e){var t;return null!=(t=this.lookup_[e])?t():(s.opt(c.Host.logging,(function(t){return t.warning("no constructor for forma style kind = "+e)})),null)}}}),r)},"jV/A":function(e,t,o){var r,n=t,i=o("oAGj"),s=o("gXiO"),a=o("fNpk"),c=o("sIWg"),u=o("1NAc");n.PROPERTY_ID="id",n.PROPERTY_IMAGE="image",n.PROPERTY_NAME="name",n.PROPERTY_SIZE="size",n.PROPERTY_EDITING_RESOLUTION="editing-resolution",n.PROPERTY_PUBLISH_RESOLUTION="publish-resolution",n.PROPERTY_URI="uri",n.PROPERTY_LOCKUP_STRINGS="lockup-strings",n.PROPERTY_FOCUS="focus",n.PROPERTY_NUM_IMAGES="num-images",n.PROPERTY_NUM_SHAPES="num-shapes",n.PROPERTY_NUM_RETARGETABLE_BACKGROUND_IMAGES="num-retargetable-background-images",n.PROPERTY_NUM_RETARGETABLE_FLOATING_IMAGES="num-retargetable-floating-images",n.PROPERTY_EDGE_MAP="edges",n.PROPERTY_LAYOUT_ID="layout-id",n.PROPERTY_NUM_GRID_CELLS="num-grids-cells",n.PROPERTY_VISUAL_GROUP_INFO="visual-group-info",n.PROPERTY_TEXT_ROLES="text-roles",n.PROPERTY_SHAPE_ROLES="shape-roles",n.PROPERTY_SALIENT_COVERAGE="salient-coverage",n.PROPERTY_NUM_MOVEABLE="num-moveable",n.PROPERTY_NUM_GIFS="gifs-count",n.PROPERTY_CP_DOCID="cpId",n.PROPERTY_PREVIEW_URL="previewUrl",n.PROPERTY_MANIFEST_URL="manifestUrl",n.PROPERTY_FILTER_FORMAE="content-formae",n.RetargetDocumentExemplar=(r=function(e,t,o,r,n,a,c,u,l,d,p,h,P,_,E,T,C,g,y,R,f,D,m,A,O,S){this.id=e,this.cpId=o,this.previewUrl=r,this.manifestUrl=n,this.uri=d,this.name=t,this.size=a,this.editingResolution=c,this.publishResolution=u,this.image=l,this.lockupStrings=i.clone(p),this.focus=h,this.numImages=P,this.edgeMap=i.clone(_),this.layoutID=E,this.numGridCells=T,this.numMoveable=C,this.numShapes=g,this.numRetargetableBackgroundImages=y,this.numRetargetableFloatingImages=R,this.visualGroupInfo=i.clone(f),this.textRoles=i.clone(D),this.shapeRoles=i.clone(m),this.salientCoverage=A,this.gifsCount=O,this.filterFormae=i.clone(S),s.CoreObject.call(this)},i.defineClass({name:"RetargetDocumentExemplar",ctor:r,superName:"CoreObject",statics:{decodeJson:function(e){var t,o,s,l,d,p,h,P,_,E,T,C,g,y,R;if(null==e);else if(R=i.as(e,["Dictionary","String","Any"])){var f;if(null!=(f=i.as(R[n.PROPERTY_ID],"String"))){var D,m=R[n.PROPERTY_EDGE_MAP];null!=m&&null!=(N=i.clone(i.as(m,["Array","Double"])))&&(D=i.clone(N));var A=[],O=R[n.PROPERTY_LOCKUP_STRINGS];null!=O&&(N=i.as(O,["Array","String"]))&&i.append(A,N);var S=[],b=R[n.PROPERTY_TEXT_ROLES];null!=b&&(N=i.as(b,["Array","String"]))&&i.append(S,N);var N,I=[],v=R[n.PROPERTY_SHAPE_ROLES];null!=v&&(N=i.as(v,["Array","String"]))&&i.append(I,N);var L=i.clone(R[n.PROPERTY_VISUAL_GROUP_INFO]),B=i.as(R[n.PROPERTY_FOCUS],"AnyObject"),M=null!=B?B.length:0;return new r(f,(t=i.as(R[n.PROPERTY_NAME],"String"))||null!=t?t:"",(o=i.as(R[n.PROPERTY_CP_DOCID],"String"))||null!=o?o:"",(s=i.as(R[n.PROPERTY_PREVIEW_URL],"String"))||null!=s?s:"",(l=i.as(R[n.PROPERTY_MANIFEST_URL],"String"))||null!=l?l:"",u.TheoSize.decodeJson(i.as(R[n.PROPERTY_SIZE],"AnyObject"))||u.TheoSize.Zero,(d=i.as(R[n.PROPERTY_EDITING_RESOLUTION],"Double"))||null!=d?d:1,(p=i.as(R[n.PROPERTY_PUBLISH_RESOLUTION],"Double"))||null!=p?p:1,(h=i.as(R[n.PROPERTY_IMAGE],"String"))||null!=h?h:"",(P=i.as(R[n.PROPERTY_URI],"String"))||null!=P?P:"",A,null!=B&&M>0?c.TheoRect.decodeJson(B):null,(_=i.as(R[n.PROPERTY_NUM_IMAGES],"Double"))||null!=_?_:0,D,(E=i.as(R[n.PROPERTY_LAYOUT_ID],"String"))||null!=E?E:"",(T=i.as(R[n.PROPERTY_NUM_GRID_CELLS],"Double"))||null!=T?T:0,i.toDouble(A.length),(C=i.as(R[n.PROPERTY_NUM_SHAPES],"Double"))||null!=C?C:0,i.as(R[n.PROPERTY_NUM_RETARGETABLE_BACKGROUND_IMAGES],"Double"),i.as(R[n.PROPERTY_NUM_RETARGETABLE_FLOATING_IMAGES],"Double"),null!=L?L:{},S,I,(g=i.as(R[n.PROPERTY_SALIENT_COVERAGE],"Double"))||null!=g?g:0,(y=i.as(R[n.PROPERTY_NUM_GIFS],"Double"))||null!=y?y:0,i.as(R[n.PROPERTY_FILTER_FORMAE],["Array","String"]))}}else a.LegacyCoreAssert.fail("decodeJson: not a dictionary",void 0,"RetargetDocumentExemplar.decodeJson","RetargetDocumentExemplar.swift",264);return null}},props:{editingSize:{get:function(){return this.size.multiply(this.editingResolution)}},publishSize:{get:function(){return this.size.multiply(this.publishResolution)}},encodeJson:function(){var e={};return e[n.PROPERTY_ID]=this.id,e[n.PROPERTY_NAME]=this.name,e[n.PROPERTY_CP_DOCID]=this.cpId,e[n.PROPERTY_PREVIEW_URL]=this.previewUrl,e[n.PROPERTY_MANIFEST_URL]=this.manifestUrl,e[n.PROPERTY_SIZE]=this.size.encodeJson(),e[n.PROPERTY_PUBLISH_RESOLUTION]=this.publishResolution,e[n.PROPERTY_IMAGE]=this.image,e[n.PROPERTY_URI]=this.uri,e[n.PROPERTY_LOCKUP_STRINGS]=i.clone(this.lockupStrings),null!=this.focus&&(e[n.PROPERTY_FOCUS]=this.focus.encodeJson()),null!=this.edgeMap&&(e[n.PROPERTY_EDGE_MAP]=i.clone(this.edgeMap)),e[n.PROPERTY_NUM_IMAGES]=this.numImages,e[n.PROPERTY_LAYOUT_ID]=this.layoutID,e[n.PROPERTY_NUM_GRID_CELLS]=this.numGridCells,e[n.PROPERTY_NUM_MOVEABLE]=this.numMoveable,e[n.PROPERTY_NUM_SHAPES]=this.numShapes,e[n.PROPERTY_NUM_RETARGETABLE_BACKGROUND_IMAGES]=this.numRetargetableBackgroundImages,e[n.PROPERTY_NUM_RETARGETABLE_FLOATING_IMAGES]=this.numRetargetableFloatingImages,e[n.PROPERTY_VISUAL_GROUP_INFO]=i.clone(this.visualGroupInfo),e[n.PROPERTY_TEXT_ROLES]=i.clone(this.textRoles),e[n.PROPERTY_SHAPE_ROLES]=i.clone(this.shapeRoles),e[n.PROPERTY_SALIENT_COVERAGE]=this.salientCoverage,e[n.PROPERTY_NUM_GIFS]=this.gifsCount,null!=this.filterFormae&&(e[n.PROPERTY_FILTER_FORMAE]=i.clone(this.filterFormae)),e}}}),r)},qsM9:function(e,t,o){var r,n=t,i=o("oAGj"),s=o("ascj"),a=o("dJuF"),c=o("URxh"),u=o("QgZx"),l=o("ylxa"),d=o("QbzR"),p=o("tQF8"),h=o("iCxV"),P=o("3lr5"),_=o("Qlvz"),E=o("REQJ"),T=o("fNpk"),C=o("tGKA"),g=o("VkKB"),y=o("Zifs"),R=o("byfQ"),f=o("umUn"),D=o("9YN4"),m=o("VJ9E"),A=o("BgH2"),O=o("hgLm"),S=o("oKlP"),b=o("uUew"),N=o("sIWg"),I=o("1NAc"),v=o("RkYL"),L=o("xm77");n.Codecs=(r=function(){},i.defineClass({name:"Codecs",ctor:r,statics:{solidColorCodec:{get:function(){return a.DBPropertyCodec.typeCodec("SolidColor")||a.DBPropertyCodec.registerCodec("SolidColor",a.DBPropertyCodec.codec((function(e,t,o){var r,n=a.DBProperty.deleted(e);if(r=i.as(t,y.SolidColor)){var s={red:a.DBProperty.doubleProperty(e.append("red"),r.red),green:a.DBProperty.doubleProperty(e.append("green"),r.green),blue:a.DBProperty.doubleProperty(e.append("blue"),r.blue),alpha:a.DBProperty.doubleProperty(e.append("alpha"),r.alpha)};n=a.DBProperty.dictEncoded(e,s,"SolidColor")}else T.LegacyCoreAssert.fail("Expected SolidColor",{actual:t},"Codecs","Codecs.swift",25);return n}),(function(e,t){if(null!=e){var o,r,n,s,a;if((o=i.opt(e,(function(e){return e.dictionaryValue})))&&null!=(r=i.opt(o.red,(function(e){return e.doubleValue})))&&null!=(n=i.opt(o.green,(function(e){return e.doubleValue})))&&null!=(s=i.opt(o.blue,(function(e){return e.doubleValue})))&&null!=(a=i.opt(o.alpha,(function(e){return e.doubleValue}))))return new y.SolidColor(r,n,s,a);T.LegacyCoreAssert.fail("Expected a color dictionary.",void 0,"Codecs","Codecs.swift",39)}return null}),"SolidColor"))}},theoColorCodec:{get:function(){var e=this;return a.DBPropertyCodec.typeCodec("TheoColor")||a.DBPropertyCodec.registerCodec("TheoColor",a.DBPropertyCodec.codec((function(e,t,o){var r,n=a.DBProperty.deleted(e);if(r=i.as(t,f.TheoColor)){var s={red:a.DBProperty.doubleProperty(e.append("red"),r.rgbColor.red),green:a.DBProperty.doubleProperty(e.append("green"),r.rgbColor.green),blue:a.DBProperty.doubleProperty(e.append("blue"),r.rgbColor.blue),alpha:a.DBProperty.doubleProperty(e.append("alpha"),r.rgbColor.alpha)},c=[];if(null!=r.sparkRoles)for(var u=i.iter(i.toSequence(r.sparkRoles));!u.done;u.next()){var l=u.value,d=l.offset,p=l.element;c.push(a.DBProperty.stringProperty(e.append("sparkRoles").append(i.toString(d)),p))}0==!c.length&&(s.sparkRoles=a.DBProperty.arrayProperty(e.append("sparkRoles"),c)),null!=r.sparkElementID&&(s.sparkElementID=a.DBProperty.stringProperty(e.append("sparkElementID"),r.sparkElementID)),n=a.DBProperty.dictEncoded(e,s,"TheoColor")}else T.LegacyCoreAssert.fail("Expected TheoColor",{actual:t},"Codecs","Codecs.swift",73);return n}),(function(t,o){if(null!=t){var r,n,s,a,c;if((r=i.opt(t,(function(e){return e.dictionaryValue})))&&null!=(n=i.opt(r.red,(function(e){return e.doubleValue})))&&null!=(s=i.opt(r.green,(function(e){return e.doubleValue})))&&null!=(a=i.opt(r.blue,(function(e){return e.doubleValue})))&&null!=(c=i.opt(r.alpha,(function(e){return e.doubleValue})))){var u=i.clone(i.opt(i.opt(r.sparkRoles,(function(e){return e.arrayValue})),(function(t){return t.map((function(e){return e.stringValue}),e)}))),l=i.opt(r.sparkElementID,(function(e){return e.stringValue}));return f.TheoColor.init_5344(new y.SolidColor(n,s,a,c),l,u)}T.LegacyCoreAssert.fail("Expected a color dictionary.",void 0,"Codecs","Codecs.swift",89)}return null}),"TheoColor"))}},paletteIDCodec:{get:function(){return a.DBPropertyCodec.typeCodec("PaletteID")||a.DBPropertyCodec.registerCodec("PaletteID",a.DBPropertyCodec.codec((function(e,t,o){var r,n,s=a.DBProperty.deleted(e);return null!=(r=i.as(t,"String"))?s=a.DBProperty.stringProperty(e,r):null!=(n=i.as(t,"Int"))&&(s=a.DBProperty.stringProperty(e,i.toString(n))),s}),(function(e,t){if(null!=e){var o,r;if(null!=(o=i.opt(e,(function(e){return e.stringValue}))))return o;if(null!=(r=i.opt(e,(function(e){return e.intValue}))))return i.toString(r)}return""}),"PaletteID"))}},theoTimeCodec:{get:function(){return a.DBPropertyCodec.typeCodec("TheoTime")||a.DBPropertyCodec.registerCodec("TheoTime",a.DBPropertyCodec.codec((function(e,t,o){var r,n=a.DBProperty.deleted(e);return(r=i.as(t,v.TheoTime))&&(n=a.DBProperty.arrayProperty(e,[a.DBProperty.intProperty(e.append("0"),r.value),a.DBProperty.intProperty(e.append("1"),r.timescale)])),n}),(function(e,t){if(null!=e){var o;if((o=i.opt(e,(function(e){return e.arrayValue})))&&2==o.length){var r=o[0].intValue,n=o[1].intValue;if(null!=r&&null!=n)return new v.TheoTime(r,n)}T.LegacyCoreAssert.fail("Expected an array of 2 ints.",void 0,"Codecs","Codecs.swift",142)}return null}),"TheoTime"))}},theoSizeCodec:{get:function(){return a.DBPropertyCodec.typeCodec("TheoSize")||a.DBPropertyCodec.registerCodec("TheoSize",a.DBPropertyCodec.codec((function(e,t,o){var r,n=a.DBProperty.deleted(e);return(r=i.as(t,I.TheoSize))&&(n=a.DBProperty.arrayProperty(e,[a.DBProperty.doubleProperty(e.append("0"),r.width),a.DBProperty.doubleProperty(e.append("1"),r.height)])),n}),(function(e,t){if(null!=e){var o;if((o=i.opt(e,(function(e){return e.arrayValue})))&&2==o.length){var r=o[0].doubleValue,n=o[1].doubleValue;if(null!=r&&null!=n)return new I.TheoSize(r,n)}T.LegacyCoreAssert.fail("Expected an array of 2 doubles.",void 0,"Codecs","Codecs.swift",170)}return null}),"TheoSize"))}},theoPointCodec:{get:function(){return a.DBPropertyCodec.typeCodec("TheoPoint")||a.DBPropertyCodec.registerCodec("TheoPoint",a.DBPropertyCodec.codec((function(e,t,o){var r,n=a.DBProperty.deleted(e);return(r=i.as(t,S.TheoPoint))&&(n=a.DBProperty.arrayProperty(e,[a.DBProperty.doubleProperty(e.append("0"),r.x),a.DBProperty.doubleProperty(e.append("1"),r.y)])),n}),(function(e,t){if(null!=e){var o;if((o=i.opt(e,(function(e){return e.arrayValue})))&&2==o.length){var r=o[0].doubleValue,n=o[1].doubleValue;if(null!=r&&null!=n)return new S.TheoPoint(r,n)}T.LegacyCoreAssert.fail("Expected an array of 2 doubles.",void 0,"Codecs","Codecs.swift",198)}return null}),"TheoPoint"))}},theoRectCodec:{get:function(){return a.DBPropertyCodec.typeCodec("TheoRect")||a.DBPropertyCodec.registerCodec("TheoRect",a.DBPropertyCodec.codec((function(e,t,o){var r,n=a.DBProperty.deleted(e);return(r=i.as(t,N.TheoRect))&&(n=a.DBProperty.arrayProperty(e,[a.DBProperty.doubleProperty(e.append("0"),r.minX),a.DBProperty.doubleProperty(e.append("1"),r.minY),a.DBProperty.doubleProperty(e.append("2"),r.maxX),a.DBProperty.doubleProperty(e.append("3"),r.maxY)])),n}),(function(e,t){if(null!=e){var o,r;if(o=i.opt(e,(function(e){return e.arrayValue}))){if(4==o.length){var n=o[0].doubleValue,s=o[1].doubleValue,a=o[2].doubleValue,c=o[3].doubleValue;if(null!=n&&null!=s&&null!=a&&null!=c)return new N.TheoRect(n,s,a,c)}}else if(null!=(r=i.opt(e,(function(e){return e.stringValue})))){var u=r.split(",");if(4==u.length)return N.TheoRect.fromXXYY(i.toDouble(u[0]),i.toDouble(u[1]),i.toDouble(u[2]),i.toDouble(u[3]))}T.LegacyCoreAssert.fail("Expected a string or an array of 4 doubles.",void 0,"Codecs","Codecs.swift",233)}return null}),"TheoRect"))}},matrix2DCodec:{get:function(){return a.DBPropertyCodec.typeCodec("Matrix2D")||a.DBPropertyCodec.registerCodec("Matrix2D",a.DBPropertyCodec.codec((function(e,t,o){var r,n=a.DBProperty.deleted(e);return(r=i.as(t,C.Matrix2D))&&(n=a.DBProperty.arrayProperty(e,[a.DBProperty.doubleProperty(e.append("0"),r.a),a.DBProperty.doubleProperty(e.append("1"),r.b),a.DBProperty.doubleProperty(e.append("2"),r.c),a.DBProperty.doubleProperty(e.append("3"),r.d),a.DBProperty.doubleProperty(e.append("4"),r.tx),a.DBProperty.doubleProperty(e.append("5"),r.ty)])),n}),(function(e,t){var o;if(o=i.opt(e,(function(e){return e.arrayValue})))if(6==o.length){var r=o[0].doubleValue,n=o[1].doubleValue,s=o[2].doubleValue,a=o[3].doubleValue,c=o[4].doubleValue,u=o[5].doubleValue;if(null!=r&&null!=n&&null!=s&&null!=a&&null!=c&&null!=u)return new C.Matrix2D(r,n,s,a,c,u)}else T.LegacyCoreAssert.fail("Expected an array of 6 numeric elements.",void 0,"Codecs","Codecs.swift",262);return C.Matrix2D.Identity}),"Matrix2D"))}},colorRoleCodec:{get:function(){return a.DBPropertyCodec.typeCodec("ColorRole")||a.DBPropertyCodec.registerCodec("ColorRole",a.DBPropertyCodec.codec((function(e,t,o){var r,n=a.DBProperty.deleted(e);if(null!=(r=i.as(t,s.ColorRole)))switch(r){case 3:n=a.DBProperty.stringProperty(e,"border");break;case 4:n=a.DBProperty.stringProperty(e,"shadow");break;case 1:n=a.DBProperty.stringProperty(e,"field-primary");break;case 2:n=a.DBProperty.stringProperty(e,"field-secondary");break;default:n=a.DBProperty.deleted(e)}return n}),(function(e,t){var o;if(null!=(o=i.opt(e,(function(e){return e.stringValue}))))switch(o){case"border":return s.ColorRole.Border;case"shadow":return s.ColorRole.Shadow;case"field-primary":return s.ColorRole.FieldPrimary;case"field-secondary":return s.ColorRole.FieldSecondary;default:return s.ColorRole.None}return s.ColorRole.None}),"ColorRole"))}},textRangeCodec:{get:function(){return a.DBPropertyCodec.typeCodec("TextRange")||a.DBPropertyCodec.registerCodec("TextRange",a.DBPropertyCodec.codec((function(e,t,o){var r,n=a.DBProperty.deleted(e);return(r=i.as(t,b.TextRange))&&(n=a.DBProperty.arrayProperty(e,[a.DBProperty.intProperty(e.append("0"),r.start),a.DBProperty.intProperty(e.append("1"),r.end)])),n}),(function(e,t){var o;if(null!=e&&(o=i.opt(e,(function(e){return e.arrayValue})))){var r=o[0].intValue,n=o[1].intValue;if(null!=r&&null!=n)return new b.TextRange(r,n);T.LegacyCoreAssert.fail("TextRange decoder: Expected an array of 2 integers",void 0,"Codecs","Codecs.swift",317)}return null}),"TextRange"))}},gridCellCodec:{get:function(){return a.DBPropertyCodec.typeCodec("GridCell")||a.DBPropertyCodec.registerCodec("GridCell",a.DBPropertyCodec.codec((function(e,t,o){var r,n=a.DBProperty.deleted(e);if(r=i.as(t,p.GridCell)){var s,c=[a.DBPropertyCodec.typeCodec("TheoRect").encode(e.append("0"),r.bounds,null),a.DBProperty.doubleProperty(e.append("1"),r.opacity)];null!=(s=r.colorID)&&c.push(a.DBProperty.stringProperty(e.append("2"),s)),n=a.DBProperty.arrayProperty(e,c)}return n}),(function(e,t){var o;if(o=i.opt(e,(function(e){return e.arrayValue}))){var r=a.DBPropertyCodec.typeCodec("TheoRect").decode(o[0],t),n=o[1].doubleValue,s=o.length>2?o[2].stringValue:null;return new p.GridCell(r,s,n)}return null}),"GridCell"))}},fontDescriptorCodec:{get:function(){var e="FontDescriptor";return a.DBPropertyCodec.typeCodec(e)||a.DBPropertyCodec.registerCodec(e,a.DBPropertyCodec.codec((function(t,o,r){var n,s=a.DBProperty.deleted(t);return(n=i.as(o,u.FontDescriptor))&&(s=a.DBProperty.dictEncoded(t,i.dict(["postscript-name",a.DBProperty.stringProperty(t.append("postscript-name"),n.postScriptName)]),e)),s}),(function(e,t){var o,r;if((o=i.opt(e,(function(e){return e.dictionaryValue})))&&null!=(r=i.opt(o["postscript-name"],(function(e){return e.stringValue})))){var n=t.persisted?i.as(t.database.host,D.TheoDocument):P.ANY_DOCUMENT,s=h.Host.fontProvider.descriptorForPostScriptName(r,n);return h.Host.fontProvider.getIncludedFonts(n).contains(s)?s:h.Host.textModelUtils.defaultFont()}return null}),e))}},fontCodec:{get:function(){var e=this;return a.DBPropertyCodec.typeCodec("TheoFont")||a.DBPropertyCodec.registerCodec("TheoFont",a.DBPropertyCodec.codec((function(e,t,o){var r,n=a.DBProperty.deleted(e);if(r=i.as(t,m.TheoFont)){var s=[];if(null!=r.sparkRoles)for(var c=i.iter(i.toSequence(r.sparkRoles));!c.done;c.next()){var u=c.value,l=u.offset,d=u.element;s.push(a.DBProperty.stringProperty(e.append("sparkRoles").append(i.toString(l)),d))}var p=r.sparkElementID,h=i.dict(["postscript-name",a.DBProperty.stringProperty(e.append("postscript-name"),r.fontData.postScriptName)]);0==!s.length&&(h.sparkRoles=a.DBProperty.arrayProperty(e.append("sparkRoles"),s)),null!=p&&(h.sparkElementID=a.DBProperty.stringProperty(e.append("sparkElementID"),p)),n=a.DBProperty.dictEncoded(e,h,"TheoFont")}return n}),(function(t,o){var r,n;if((r=i.opt(t,(function(e){return e.dictionaryValue})))&&null!=(n=i.opt(r["postscript-name"],(function(e){return e.stringValue})))){var s,a=o.persisted?i.as(o.database.host,D.TheoDocument):P.ANY_DOCUMENT,c=h.Host.fontProvider.descriptorForPostScriptName(n,a),l=i.clone(i.opt(i.opt(r.sparkRoles,(function(e){return e.arrayValue})),(function(t){return t.map((function(e){return e.stringValue}),e)}))),d=i.opt(r.sparkElementID,(function(e){return e.stringValue}));return!o.persisted||c.postScriptName==n&&c.availability==u.FontAvailability.LOADED||(s=a)&&s.recordMissingFont(n),m.TheoFont.init_9e5c(c,d,l)}return null}),"TheoFont"))}},mediaMetadataCodec:{get:function(){return a.DBPropertyCodec.typeCodec("MediaMetadata")||a.DBPropertyCodec.registerCodec("MediaMetadata",a.DBPropertyCodec.codec((function(e,t,o){var r,n=a.DBProperty.deleted(e);if(r=i.as(t,g.MediaMetadata)){var s,c,u,l,d,p,h,P,_,E,T,C,y,R,f,D,m,A={};null!=(s=r.searchSource)&&(A.source=a.DBProperty.stringProperty(e.append("source"),s)),null!=(c=r.searchTerm)&&(A.search=a.DBProperty.stringProperty(e.append("search"),c)),null!=(u=r.title)&&(A.photo_name=a.DBProperty.stringProperty(e.append("photo_name"),u)),null!=(l=r.tags)&&(A.tags=a.DBProperty.stringProperty(e.append("tags"),l)),null!=(d=r.licenseType)&&(A.type=a.DBProperty.stringProperty(e.append("type"),d)),null!=(p=r.sourceName)&&(A.source_name=a.DBProperty.stringProperty(e.append("source_name"),p)),null!=(h=r.sourceURL)&&(A.source_url=a.DBProperty.stringProperty(e.append("source_url"),h)),null!=(P=r.ownerName)&&(A.owner=a.DBProperty.stringProperty(e.append("owner"),P)),null!=(_=r.assetID)&&(A.asset_id=a.DBProperty.stringProperty(e.append("asset_id"),_)),null!=(E=r.creatorUserID)&&(A.creator_user_id=a.DBProperty.stringProperty(e.append("creator_user_id"),E)),null!=(T=r.creatorDisplayName)&&(A.creator_display_name=a.DBProperty.stringProperty(e.append("creator_display_name"),T)),null!=(C=r.designIntent)&&(A.design_intent=a.DBProperty.stringProperty(e.append("design_intent"),C)),null!=(y=r.libraryID)&&(A.library_id=a.DBProperty.stringProperty(e.append("library_id"),y)),null!=(R=r.libraryName)&&(A.library_name=a.DBProperty.stringProperty(e.append("library_name"),R)),null!=(f=r.createdDate)&&(A.created_date=a.DBProperty.doubleProperty(e.append("created_date"),f)),null!=(D=r.modifiedDate)&&(A.modified_date=a.DBProperty.doubleProperty(e.append("modified_date"),D)),null!=(m=r.searchProps)&&(A.search_props=a.DBProperty.stringProperty(e.append("search_props"),m)),n=a.DBProperty.dictEncoded(e,A,"MediaMetadata")}return n}),(function(e,t){var o;return(o=i.opt(e,(function(e){return e.dictionaryValue})))?g.MediaMetadata.init_5f01(i.opt(o.source,(function(e){return e.stringValue})),i.opt(o.search,(function(e){return e.stringValue})),i.opt(o.photo_name,(function(e){return e.stringValue})),i.opt(o.tags,(function(e){return e.stringValue})),i.opt(o.type,(function(e){return e.stringValue})),i.opt(o.source_url,(function(e){return e.stringValue})),i.opt(o.source_name,(function(e){return e.stringValue})),i.opt(o.owner,(function(e){return e.stringValue})),i.opt(o.asset_id,(function(e){return e.stringValue})),i.opt(o.creator_user_id,(function(e){return e.stringValue})),i.opt(o.creator_display_name,(function(e){return e.stringValue})),i.opt(o.design_intent,(function(e){return e.stringValue})),i.opt(o.library_id,(function(e){return e.stringValue})),i.opt(o.library_name,(function(e){return e.stringValue})),i.opt(o.created_date,(function(e){return e.doubleValue})),i.opt(o.modified_date,(function(e){return e.doubleValue})),i.opt(o.search_props,(function(e){return e.stringValue}))):null}),"MediaMetadata"))}},imageColorDataCodec:{get:function(){var e="ImageColorData";return a.DBPropertyCodec.typeCodec(e)||a.DBPropertyCodec.registerCodec(e,a.DBPropertyCodec.codec((function(t,o,r){var n,s=a.DBProperty.deleted(t);if(n=i.as(o,E.ImageColorData)){var c={red:a.DBProperty.doubleProperty(t.append("red"),n.rgbColor.red),green:a.DBProperty.doubleProperty(t.append("green"),n.rgbColor.green),blue:a.DBProperty.doubleProperty(t.append("blue"),n.rgbColor.blue),alpha:a.DBProperty.doubleProperty(t.append("alpha"),n.rgbColor.alpha),coverage:a.DBProperty.doubleProperty(t.append("coverage"),n.coverage)};s=a.DBProperty.dictEncoded(t,c,e)}else T.LegacyCoreAssert.fail("Expected TheoColor",{actual:o},"Codecs","Codecs.swift",546);return s}),(function(e,t){if(null!=e){var o,r,n,s,a,c;if((o=i.opt(e,(function(e){return e.dictionaryValue})))&&null!=(r=i.opt(o.red,(function(e){return e.doubleValue})))&&null!=(n=i.opt(o.green,(function(e){return e.doubleValue})))&&null!=(s=i.opt(o.blue,(function(e){return e.doubleValue})))&&null!=(a=i.opt(o.alpha,(function(e){return e.doubleValue})))&&null!=(c=i.opt(o.coverage,(function(e){return e.doubleValue}))))return new E.ImageColorData(new y.SolidColor(r,n,s,a),c);T.LegacyCoreAssert.fail("Expected a color dictionary.",void 0,"Codecs","Codecs.swift",561)}return null}),e))}},pathDictionary:function(e,t){return{type:a.DBProperty.stringProperty(e.append("type"),t.type),fillRule:a.DBProperty.stringProperty(e.append("fillRule"),t.pathFillType),endType:a.DBProperty.stringProperty(e.append("endType"),t.pathEndcapType),joinType:a.DBProperty.stringProperty(e.append("joinType"),t.pathJoinType),strokeWeight:a.DBProperty.doubleProperty(e.append("strokeWeight"),t.pathStrokeWeight),miterLimit:a.DBProperty.doubleProperty(e.append("miterLimit"),t.pathMiterLimit)}},pathProperties:function(e){return{type:i.opt(e.type,(function(e){return e.stringValue})),fill:i.opt(e.fillRule,(function(e){return e.stringValue})),end:i.opt(e.endType,(function(e){return e.stringValue})),join:i.opt(e.joinType,(function(e){return e.stringValue})),stroke:i.opt(e.strokeWeight,(function(e){return e.doubleValue})),miterLimit:i.opt(e.miterLimit,(function(e){return e.doubleValue}))}},pathCodec:{get:function(){return a.DBPropertyCodec.typeCodec("TheoPathTypes")||a.DBPropertyCodec.registerCodec("TheoPathTypes",a.DBPropertyCodec.codec((function(e,t,o){var n=a.DBProperty.deleted(e);return t instanceof O.TheoEmptyPath?n=r.emptyPathCodec.encode(e,t,o):t instanceof O.TheoRectanglePath?n=r.rectanglePathCodec.encode(e,t,o):t instanceof O.TheoEllipsePath?n=r.ellipsePathCodec.encode(e,t,o):t instanceof O.TheoArbitraryPath?n=r.arbitraryPathCodec.encode(e,t,o):T.LegacyCoreAssert.fail("Unknown path type",{type:t},"Codecs","Codecs.swift",602),n}),(function(e,t){if(null!=e){var o;if(o=i.opt(e,(function(e){return e.dictionaryValue}))){T.LegacyCoreAssert.isTrue(i.opt(o.type,(function(e){return null!=e.stringValue})),"Missing path type",void 0,"Codecs","Codecs.swift",609);var n=o.type.stringValue;switch(n){case"empty":return r.emptyPathCodec.decode(e,t);case"rect":return r.rectanglePathCodec.decode(e,t);case"ellipse":return r.ellipsePathCodec.decode(e,t);case"arbitrary":return r.arbitraryPathCodec.decode(e,t);default:T.LegacyCoreAssert.fail("Unknown path type",{type:n},"Codecs","Codecs.swift",621)}return null}T.LegacyCoreAssert.fail("Expected a path dictionary.",void 0,"Codecs","Codecs.swift",625)}return null}),"TheoPathTypes"))}},emptyPathCodec:{get:function(){return a.DBPropertyCodec.typeCodec("TheoEmptyPath")||a.DBPropertyCodec.registerCodec("TheoEmptyPath",a.DBPropertyCodec.codec((function(e,t,o){var n,s=a.DBProperty.deleted(e);return(n=i.as(t,O.TheoEmptyPath))?s=a.DBProperty.dictEncoded(e,r.pathDictionary(e,n),"TheoEmptyPath"):T.LegacyCoreAssert.fail("Expected TheoEmptyPath",{actual:t},"Codecs","Codecs.swift",640),s}),(function(e,t){if(null!=e){var o;if(o=i.opt(e,(function(e){return e.dictionaryValue})))return T.LegacyCoreAssert.isTrue(i.opt(o.type,(function(e){return"empty"==e.stringValue})),"Expected an empty path",void 0,"Codecs","Codecs.swift",647),new O.TheoEmptyPath;T.LegacyCoreAssert.fail("Expected a path dictionary.",void 0,"Codecs","Codecs.swift",650)}return null}),"TheoEmptyPath"))}},rectanglePathCodec:{get:function(){var e,t,o,n,s,c="TheoRectanglePath";return a.DBPropertyCodec.typeCodec(c)||a.DBPropertyCodec.registerCodec(c,a.DBPropertyCodec.codec((function(e,t,o){var n,s=a.DBProperty.deleted(e);if(n=i.as(t,O.TheoRectanglePath)){var u=i.clone(r.pathDictionary(e,n));u.coords=r.theoRectCodec.encode(e.append("coords"),n.rect,o),s=a.DBProperty.dictEncoded(e,u,c)}else T.LegacyCoreAssert.fail("Expected TheoRectanglePath",{actual:t},"Codecs","Codecs.swift",667);return s}),(function(a,c){if(null!=a){var u;if(u=i.opt(a,(function(e){return e.dictionaryValue}))){var l,d=r.pathProperties(u),p=d.type,h=d.fill,P=d.end,_=d.join,E=d.stroke,C=d.miterLimit;return T.LegacyCoreAssert.isTrue("rect"==p,"Expected a rectangle path",void 0,"Codecs","Codecs.swift",675),(l=i.as(r.theoRectCodec.decode(u.coords,c),N.TheoRect))?new O.TheoRectanglePath(l,(e=h)||null!=e?e:O.TheoPath.PATHFILL_DEFAULT,(t=P)||null!=t?t:O.TheoPath.PATHEND_DEFAULT,(o=_)||null!=o?o:O.TheoPath.PATHJOIN_DEFAULT,(n=E)||null!=n?n:O.TheoPath.PATHSTROKE_DEFAULT,(s=C)||null!=s?s:O.TheoPath.PATHMITERLIMIT_DEFFAULT):(T.LegacyCoreAssert.fail("Expected a rectangle path dictionary.",void 0,"Codecs","Codecs.swift",679),null)}T.LegacyCoreAssert.fail("Expected a path dictionary.",void 0,"Codecs","Codecs.swift",682)}return null}),c))}},ellipsePathCodec:{get:function(){var e,t,o,n,s,c="TheoEllipsePath";return a.DBPropertyCodec.typeCodec(c)||a.DBPropertyCodec.registerCodec(c,a.DBPropertyCodec.codec((function(e,t,o){var n,s=a.DBProperty.deleted(e);if(n=i.as(t,O.TheoEllipsePath)){var u=i.clone(r.pathDictionary(e,n));u.coords=r.theoRectCodec.encode(e.append("coords"),n.rect,o),s=a.DBProperty.dictEncoded(e,u,c)}else T.LegacyCoreAssert.fail("Expected TheoEllipsePath",{actual:t},"Codecs","Codecs.swift",699);return s}),(function(a,c){if(null!=a){var u;if(u=i.opt(a,(function(e){return e.dictionaryValue}))){var l,d=r.pathProperties(u),p=d.type,h=d.fill,P=d.end,_=d.join,E=d.stroke,C=d.miterLimit;return T.LegacyCoreAssert.isTrue("ellipse"==p,"Expected an ellipse path",void 0,"Codecs","Codecs.swift",707),(l=i.as(r.theoRectCodec.decode(u.coords,c),N.TheoRect))?new O.TheoEllipsePath(l,(e=h)||null!=e?e:O.TheoPath.PATHFILL_DEFAULT,(t=P)||null!=t?t:O.TheoPath.PATHEND_DEFAULT,(o=_)||null!=o?o:O.TheoPath.PATHJOIN_DEFAULT,(n=E)||null!=n?n:O.TheoPath.PATHSTROKE_DEFAULT,(s=C)||null!=s?s:O.TheoPath.PATHMITERLIMIT_DEFFAULT):(T.LegacyCoreAssert.fail("Expected an ellipse path dictionary.",void 0,"Codecs","Codecs.swift",711),null)}T.LegacyCoreAssert.fail("Expected a path dictionary.",void 0,"Codecs","Codecs.swift",714)}return null}),c))}},arbitraryPathCodec:{get:function(){var e,t,o,n,s,c="TheoArbitraryPath";return a.DBPropertyCodec.typeCodec(c)||a.DBPropertyCodec.registerCodec(c,a.DBPropertyCodec.codec((function(e,t,o){var n,s=a.DBProperty.deleted(e);if(n=i.as(t,O.TheoArbitraryPath)){var u=i.clone(r.pathDictionary(e,n)),l=i.clone(O.TheoPathBuilder.getEncodedOperations(e.append("ops"),n));u.ops=a.DBProperty.arrayProperty(e.append("ops"),l),s=a.DBProperty.dictEncoded(e,u,c)}else T.LegacyCoreAssert.fail("Expected TheoArbitraryPath",{actual:t},"Codecs","Codecs.swift",732);return s}),(function(a,c){if(null!=a){var u;if(u=i.opt(a,(function(e){return e.dictionaryValue}))){var l=r.pathProperties(u),d=l.type,p=l.fill,h=l.end,P=l.join,_=l.stroke,E=l.miterLimit;T.LegacyCoreAssert.isTrue("arbitrary"==d,"Expected an arbitrary path",void 0,"Codecs","Codecs.swift",740);var C=i.clone(i.opt(u.ops,(function(e){return e.arrayValue})));return null!=C?O.TheoPathBuilder.init_7691(C,(e=p)||null!=e?e:O.TheoPath.PATHFILL_DEFAULT,(t=h)||null!=t?t:O.TheoPath.PATHEND_DEFAULT,(o=P)||null!=o?o:O.TheoPath.PATHJOIN_DEFAULT,(n=_)||null!=n?n:O.TheoPath.PATHSTROKE_DEFAULT,(s=E)||null!=s?s:O.TheoPath.PATHMITERLIMIT_DEFFAULT).path:(T.LegacyCoreAssert.fail("Expected an arbitrary path dictionary.",void 0,"Codecs","Codecs.swift",745),null)}T.LegacyCoreAssert.fail("Expected a path dictionary.",void 0,"Codecs","Codecs.swift",748)}return null}),c))}},artworkNodeCodec:{get:function(){var e="TheoArtworkNodeTypes";return a.DBPropertyCodec.typeCodec(e)||a.DBPropertyCodec.registerCodec(e,a.DBPropertyCodec.codec((function(e,t,o){var n=a.DBProperty.deleted(e);return t instanceof R.TheoArtworkShape?n=r.artworkShapeCodec.encode(e,t,o):t instanceof R.TheoArtworkClipGroup?n=r.artworkClipGroupCodec.encode(e,t,o):t instanceof R.TheoArtworkGroup?n=r.artworkGroupCodec.encode(e,t,o):T.LegacyCoreAssert.fail("Unknown artwork type",{actual:t},"Codecs","Codecs.swift",766),n}),(function(e,t){if(null!=e){var o;if(o=i.opt(e,(function(e){return e.dictionaryValue}))){T.LegacyCoreAssert.isTrue(i.opt(o[R.TheoArtworkNode.PROPERTY_TYPE],(function(e){return null!=e.stringValue})),"Missing artwork type",void 0,"Codecs","Codecs.swift",773);var n=o[R.TheoArtworkNode.PROPERTY_TYPE].stringValue;switch(n){case"shape":return r.artworkShapeCodec.decode(e,t);case"group":return r.artworkGroupCodec.decode(e,t);case"clip-group":return r.artworkClipGroupCodec.decode(e,t);default:T.LegacyCoreAssert.fail("Unknown artwork type",{artworkType:n},"Codecs","Codecs.swift",783)}return null}T.LegacyCoreAssert.fail("Expected an artwork dictionary.",void 0,"Codecs","Codecs.swift",787)}return null}),e))}},artworkShapeCodec:{get:function(){var e,t,o,n=this,c="TheoArtworkShape";return a.DBPropertyCodec.typeCodec(c)||a.DBPropertyCodec.registerCodec(c,a.DBPropertyCodec.codec((function(e,t,o){var s,u=a.DBProperty.deleted(e);if(s=i.as(t,R.TheoArtworkShape)){var l=a.DBProperty.stringProperty(e.append(R.TheoArtworkNode.PROPERTY_UID),s.uid),d=a.DBProperty.stringProperty(e.append(R.TheoArtworkNode.PROPERTY_TYPE),s.type),p=r.colorRoleCodec.encode(e.append(R.TheoArtworkNode.PROPERTY_FILLCOLORROLE),s.fillColorRole,o),h=r.colorRoleCodec.encode(e.append(R.TheoArtworkNode.PROPERTY_STROKECOLORROLE),s.strokeColorRole,o),P=null!=s.fillColor?r.solidColorCodec.encode(e.append(R.TheoArtworkNode.PROPERTY_FILLCOLOR),s.fillColor,o):null,_=null!=s.strokeColor?r.solidColorCodec.encode(e.append(R.TheoArtworkNode.PROPERTY_STROKECOLOR),s.strokeColor,o):null,E=a.DBProperty.doubleProperty(e.append(R.TheoArtworkNode.PROPERTY_STROKEWIDTH),s.strokeWidth),C=null!=s.overrideBounds?r.theoRectCodec.encode(e.append(R.TheoArtworkNode.PROPERTY_OVERRIDE_BOUNDS),s.overrideBounds,o):null,g=i.toSequence(s.paths).map((function(t){return r.pathCodec.encode(e.append(R.TheoArtworkNode.PROPERTY_PATHS).append(i.toString(t.offset)),t.element,o)}),n),y={"immutable-id":l,type:d,paths:a.DBProperty.arrayProperty(e.append(R.TheoArtworkNode.PROPERTY_PATHS),g),"fill-color-role":p,"stroke-color-role":h,"stroke-width":E};null!=P&&(y[R.TheoArtworkNode.PROPERTY_FILLCOLOR]=P),null!=_&&(y[R.TheoArtworkNode.PROPERTY_STROKECOLOR]=_),null!=C&&(y[R.TheoArtworkNode.PROPERTY_OVERRIDE_BOUNDS]=C),u=a.DBProperty.dictEncoded(e,y,c)}else T.LegacyCoreAssert.fail("Expected TheoArtworkShape",{actual:t},"Codecs","Codecs.swift",823);return u}),(function(a,c){if(null!=a){var u;if(u=i.opt(a,(function(e){return e.dictionaryValue}))){T.LegacyCoreAssert.isTrue(i.opt(u[R.TheoArtworkNode.PROPERTY_TYPE],(function(e){return"shape"==e.stringValue})),"Expected a shape node",void 0,"Codecs","Codecs.swift",830);var l=i.opt(u[R.TheoArtworkNode.PROPERTY_UID],(function(e){return e.stringValue})),d=i.as(r.solidColorCodec.decode(u[R.TheoArtworkNode.PROPERTY_FILLCOLOR],c),y.SolidColor),p=(e=i.as(r.colorRoleCodec.decode(u[R.TheoArtworkNode.PROPERTY_FILLCOLORROLE],c),s.ColorRole))||null!=e?e:s.ColorRole.None,h=i.as(r.solidColorCodec.decode(u[R.TheoArtworkNode.PROPERTY_STROKECOLOR],c),y.SolidColor),P=(t=i.as(r.colorRoleCodec.decode(u[R.TheoArtworkNode.PROPERTY_STROKECOLORROLE],c),s.ColorRole))||null!=t?t:s.ColorRole.None,_=(o=i.opt(u[R.TheoArtworkNode.PROPERTY_STROKEWIDTH],(function(e){return e.doubleValue})))||null!=o?o:0,E=i.as(r.theoRectCodec.decode(u[R.TheoArtworkNode.PROPERTY_OVERRIDE_BOUNDS],c),N.TheoRect),C=i.as(r.pathCodec.decode(u[R.TheoArtworkNode.PROPERTY_PATH],c),O.TheoPath),g=i.clone(null!=C?[C]:u[R.TheoArtworkNode.PROPERTY_PATHS].arrayValue.map((function(e){return r.pathCodec.decode(e,c)}),n));return R.TheoArtworkShape.init_d1d0(l,g,p,P,d,h,_,E)}T.LegacyCoreAssert.fail("Expected an artwork dictionary.",void 0,"Codecs","Codecs.swift",842)}return null}),c))}},artworkGroupCodec:{get:function(){var e=this,t="TheoArtworkGroup";return a.DBPropertyCodec.typeCodec(t)||a.DBPropertyCodec.registerCodec(t,a.DBPropertyCodec.codec((function(o,n,s){var c,u=a.DBProperty.deleted(o);if(c=i.as(n,R.TheoArtworkGroup)){var l=a.DBProperty.stringProperty(o.append(R.TheoArtworkNode.PROPERTY_UID),c.uid),d=a.DBProperty.stringProperty(o.append(R.TheoArtworkNode.PROPERTY_TYPE),c.type),p=i.toSequence(c.children).map((function(e){return r.artworkNodeCodec.encode(o.append(R.TheoArtworkNode.PROPERTY_CHILD_NODES).append(i.toString(e.offset)),e.element,s)}),e),h={"immutable-id":l,type:d,nodes:a.DBProperty.arrayProperty(o.append(R.TheoArtworkNode.PROPERTY_CHILD_NODES),p)};u=a.DBProperty.dictEncoded(o,h,t)}else T.LegacyCoreAssert.fail("Expected TheoArtworkGroup",{actual:n},"Codecs","Codecs.swift",861);return u}),(function(t,o){if(null!=t){var n;if(n=i.opt(t,(function(e){return e.dictionaryValue}))){T.LegacyCoreAssert.isTrue(i.opt(n[R.TheoArtworkNode.PROPERTY_TYPE],(function(e){return"group"==e.stringValue})),"Expected a group node",void 0,"Codecs","Codecs.swift",868);var s=i.opt(n[R.TheoArtworkNode.PROPERTY_UID],(function(e){return e.stringValue})),a=i.clone(i.opt(n[R.TheoArtworkNode.PROPERTY_CHILD_NODES],(function(e){return e.arrayValue}))||n[R.TheoArtworkNode.PROPERTY_NODES].arrayValue).map((function(e){return r.artworkNodeCodec.decode(e,o)}),e);return new R.TheoArtworkGroup(s,a)}T.LegacyCoreAssert.fail("Expected an artwork dictionary.",void 0,"Codecs","Codecs.swift",874)}return null}),t))}},artworkClipGroupCodec:{get:function(){var e=this,t="TheoArtworkClipGroup";return a.DBPropertyCodec.typeCodec(t)||a.DBPropertyCodec.registerCodec(t,a.DBPropertyCodec.codec((function(o,n,s){var c,u=a.DBProperty.deleted(o);if(c=i.as(n,R.TheoArtworkClipGroup)){var l=a.DBProperty.stringProperty(o.append(R.TheoArtworkNode.PROPERTY_UID),c.uid),d=a.DBProperty.stringProperty(o.append(R.TheoArtworkNode.PROPERTY_TYPE),c.type),p=r.pathCodec.encode(o.append(R.TheoArtworkNode.PROPERTY_PATH),c.path,s),h=i.toSequence(c.children).map((function(e){return r.artworkNodeCodec.encode(o.append(R.TheoArtworkNode.PROPERTY_CHILD_NODES).append(i.toString(e.offset)),e.element,s)}),e),P={"immutable-id":l,type:d,path:p,nodes:a.DBProperty.arrayProperty(o.append(R.TheoArtworkNode.PROPERTY_CHILD_NODES),h)};u=a.DBProperty.dictEncoded(o,P,t)}else T.LegacyCoreAssert.fail("Expected TheoArtworkClipGroup",{actual:n},"Codecs","Codecs.swift",893);return u}),(function(t,o){if(null!=t){var n;if(n=i.opt(t,(function(e){return e.dictionaryValue}))){T.LegacyCoreAssert.isTrue(i.opt(n[R.TheoArtworkNode.PROPERTY_TYPE],(function(e){return"clip-group"==e.stringValue})),"Expected a clip group node",void 0,"Codecs","Codecs.swift",900);var s=i.opt(n[R.TheoArtworkNode.PROPERTY_UID],(function(e){return e.stringValue})),a=r.pathCodec.decode(n[R.TheoArtworkNode.PROPERTY_PATH],o),c=i.clone(i.opt(n[R.TheoArtworkNode.PROPERTY_CHILD_NODES],(function(e){return e.arrayValue}))||n[R.TheoArtworkNode.PROPERTY_NODES].arrayValue).map((function(e){return r.artworkNodeCodec.decode(e,o)}),e);return new R.TheoArtworkClipGroup(s,c,a)}T.LegacyCoreAssert.fail("Expected an artwork dictionary.",void 0,"Codecs","Codecs.swift",907)}return null}),t))}},pageExportDataCodec:{get:function(){var e,t="FormaPageExportData";return a.DBPropertyCodec.typeCodec(t)||a.DBPropertyCodec.registerCodec(t,a.DBPropertyCodec.codec((function(e,o,n){var s,c=a.DBProperty.deleted(e);if(s=i.as(o,l.FormaPageExportData)){var u={dimensions:r.theoSizeCodec.encode(e.append(l.FormaPageExportData.PROPERTY_DIMENSIONS),s.dimensions,n),format:a.DBProperty.intProperty(e.append(l.FormaPageExportData.PROPERTY_FORMAT),s.format)};null!=s.ppi&&(u[l.FormaPageExportData.PROPERTY_PPI]=a.DBProperty.doubleProperty(e.append(l.FormaPageExportData.PROPERTY_PPI),s.ppi)),c=a.DBProperty.dictEncoded(e,u,t)}else T.LegacyCoreAssert.fail("Expected FormaPageExportData",{actual:o},"Codecs","Codecs.swift",928);return c}),(function(t,o){if(null!=t){var n;if(n=i.opt(t,(function(e){return e.dictionaryValue}))){var s=r.theoSizeCodec.decode(n[l.FormaPageExportData.PROPERTY_DIMENSIONS],o),a=n[l.FormaPageExportData.PROPERTY_FORMAT].intValue,c=i.opt(n[l.FormaPageExportData.PROPERTY_PPI],(function(e){return e.doubleValue}));return new l.FormaPageExportData(s,(e=l.PageExportFormat.toCaseValue(a))||null!=e?e:l.PageExportFormat.PIXELS,c)}T.LegacyCoreAssert.fail("Expected an artwork dictionary.",void 0,"Codecs","Codecs.swift",940)}return null}),t))}},keyFrameCodec:{get:function(){var e,t;return a.DBPropertyCodec.typeCodec("KeyFrame")||a.DBPropertyCodec.registerCodec("KeyFrame",a.DBPropertyCodec.codec((function(e,t,o){var n,s=a.DBProperty.deleted(e);if(n=i.as(t,c.KeyFrame)){var u,l,p=i.dict(["start-time",r.theoTimeCodec.encode(e.append("start-time"),n.time,o),"timing-function",a.DBProperty.stringProperty(e.append("timing-function"),n.timingFunction),"placement",r.matrix2DCodec.encode(e.append("placement"),n.placement,o)]);(u=n.bounds)&&(p.bounds=r.theoRectCodec.encode(e.append("bounds"),u,o)),(l=n.style)&&(p.style=d.FormaStyle.codec.encode(e.append("style"),l,o)),s=a.DBProperty.dictEncoded(e,p,"KeyFrame")}else(p=i.as(t,["Dictionary","String",a.DBProperty]))?s=a.DBProperty.dictEncoded(e,p,"KeyFrame"):T.LegacyCoreAssert.fail("Expected KeyFrame",{actual:t},"Codecs","Codecs.swift",972);return s}),(function(o,n){if(null!=o){var s;if(s=i.opt(o,(function(e){return e.dictionaryValue}))){for(var a=i.iter(s);!a.done;a.next()){var u=a.key;a.value.reroot(o.namePath.append(u))}var l,p=r.theoTimeCodec.decode(s["start-time"],n),h=(e=L.TimingFunctionType.toCaseValue((t=i.opt(s["timing-function"],(function(e){return e.stringValue})))||null!=t?t:""))||null!=e?e:L.TimingFunctionType.EaseInOut,P=r.matrix2DCodec.decode(s.placement,n),_=i.as(d.FormaStyle.codec.decode(s.style,n),d.FormaStyle),E=null;return(l=s.bounds)&&(E=i.as(r.theoRectCodec.decode(l,n),N.TheoRect)),new c.KeyFrame(p,h,P,E,_)}T.LegacyCoreAssert.fail("Expected a KeyFrame dictionary.",void 0,"Codecs","Codecs.swift",993)}return null}),"KeyFrame"))}},imageAdjustmentsCodec:{get:function(){var e,t,o,r,n,s,c,u,l,d,p,h,P="ImageAdjustments";return a.DBPropertyCodec.typeCodec(P)||a.DBPropertyCodec.registerCodec(P,a.DBPropertyCodec.codec((function(e,t,o){var r,n=a.DBProperty.deleted(e);if(r=i.as(t,_.ImageAdjustments)){var s=i.dict(["blur",a.DBProperty.doubleProperty(e.append("blur"),r.blur),"sharpness",a.DBProperty.doubleProperty(e.append("sharpness"),r.sharpness),"shadows",a.DBProperty.doubleProperty(e.append("shadows"),r.shadows),"highlights",a.DBProperty.doubleProperty(e.append("highlights"),r.highlights),"saturation",a.DBProperty.doubleProperty(e.append("saturation"),r.saturation),"brightness",a.DBProperty.doubleProperty(e.append("brightness"),r.brightness),"exposure",a.DBProperty.doubleProperty(e.append("exposure"),r.exposure),"contrast",a.DBProperty.doubleProperty(e.append("contrast"),r.contrast),"warmth",a.DBProperty.doubleProperty(e.append("warmth"),r.warmth),"tint",a.DBProperty.doubleProperty(e.append("tint"),r.tint),"fade",a.DBProperty.doubleProperty(e.append("fade"),r.fade),"vibrance",a.DBProperty.doubleProperty(e.append("vibrance"),r.vibrance)]);n=a.DBProperty.dictEncoded(e,s,P)}else T.LegacyCoreAssert.fail("Expected ImageAdjustments",{actual:t},"Codecs","Codecs.swift",1033);return n}),(function(a,P){if(null!=a){var E;if(E=i.opt(a,(function(e){return e.dictionaryValue})))return new _.ImageAdjustments((e=i.opt(E.blur,(function(e){return e.doubleValue})))||null!=e?e:0,(t=i.opt(E.sharpness,(function(e){return e.doubleValue})))||null!=t?t:0,(o=i.opt(E.shadows,(function(e){return e.doubleValue})))||null!=o?o:0,(r=i.opt(E.highlights,(function(e){return e.doubleValue})))||null!=r?r:0,(n=i.opt(E.saturation,(function(e){return e.doubleValue})))||null!=n?n:0,(s=i.opt(E.brightness,(function(e){return e.doubleValue})))||null!=s?s:0,(c=i.opt(E.exposure,(function(e){return e.doubleValue})))||null!=c?c:0,(u=i.opt(E.contrast,(function(e){return e.doubleValue})))||null!=u?u:0,(l=i.opt(E.warmth,(function(e){return e.doubleValue})))||null!=l?l:0,(d=i.opt(E.tint,(function(e){return e.doubleValue})))||null!=d?d:0,(p=i.opt(E.fade,(function(e){return e.doubleValue})))||null!=p?p:0,(h=i.opt(E.vibrance,(function(e){return e.doubleValue})))||null!=h?h:0);T.LegacyCoreAssert.fail("Expected a ImageAdjustments dictionary.",void 0,"Codecs","Codecs.swift",1053)}return null}),P))}},textPathSegmentCodec:{get:function(){var e="TextPathSegment";return a.DBPropertyCodec.typeCodec(e)||a.DBPropertyCodec.registerCodec(e,a.DBPropertyCodec.codec((function(t,o,n){var s,c=a.DBProperty.deleted(t);if(s=i.as(o,A.TextPathSegment)){var u={p0:r.theoPointCodec.encode(t.append(A.TextPathSegment.PROPERTY_P0),s.p0,n),p1:r.theoPointCodec.encode(t.append(A.TextPathSegment.PROPERTY_P1),s.p1,n),p2:r.theoPointCodec.encode(t.append(A.TextPathSegment.PROPERTY_P2),s.p2,n),p3:r.theoPointCodec.encode(t.append(A.TextPathSegment.PROPERTY_P3),s.p3,n)};c=a.DBProperty.dictEncoded(t,u,e)}else T.LegacyCoreAssert.fail("Expected TextPathSegment",{actual:o},"Codecs","Codecs.swift",1077);return c}),(function(e,t){if(null!=e){var o;if(o=i.opt(e,(function(e){return e.dictionaryValue}))){var n=r.theoPointCodec.decode(o[A.TextPathSegment.PROPERTY_P0],t),s=r.theoPointCodec.decode(o[A.TextPathSegment.PROPERTY_P1],t),a=r.theoPointCodec.decode(o[A.TextPathSegment.PROPERTY_P2],t),c=r.theoPointCodec.decode(o[A.TextPathSegment.PROPERTY_P3],t);return new A.TextPathSegment(n,s,a,c)}T.LegacyCoreAssert.fail("Expected path segment dictionary.",void 0,"Codecs","Codecs.swift",1090)}return null}),e))}},textPathCodec:{get:function(){var e=this;return a.DBPropertyCodec.typeCodec("TextPath")||a.DBPropertyCodec.registerCodec("TextPath",a.DBPropertyCodec.codec((function(t,o,n){var s,c=a.DBProperty.deleted(t);if(s=i.as(o,A.TextPath)){var u=a.DBProperty.doubleProperty(t.append(A.TextPath.PROPERTY_FLEX),s.flex),l=i.toSequence(s.segments).map((function(e){return r.textPathSegmentCodec.encode(t.append(A.TextPath.PROPERTY_SEGMENTS).append(i.toString(e.offset)),e.element,n)}),e),d={flex:u,segment:a.DBProperty.arrayProperty(t.append(A.TextPath.PROPERTY_SEGMENTS),l)};c=a.DBProperty.dictEncoded(t,d,"TextPath")}else T.LegacyCoreAssert.fail("Expected TextPath",{actual:o},"Codecs","Codecs.swift",1109);return c}),(function(t,o){if(null!=t){var n;if(n=i.opt(t,(function(e){return e.dictionaryValue}))){var s=n[A.TextPath.PROPERTY_FLEX].doubleValue,a=i.clone(n[A.TextPath.PROPERTY_SEGMENTS].arrayValue).map((function(e){return r.textPathSegmentCodec.decode(e,o)}),e);return new A.TextPath(a,s)}T.LegacyCoreAssert.fail("Expected text path dictionary.",void 0,"Codecs","Codecs.swift",1122)}return null}),"TextPath"))}}}}),r)}}]);
//# sourceMappingURL=vendors_npm_spark_551397dd-5dcd7846.js.map